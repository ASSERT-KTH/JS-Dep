commit e28958f5b6fc7aacec8b765dfc4ac0136b41deb7
Author: James Hadfield <hadfield.james@gmail.com>
Date:   Mon Mar 28 12:56:25 2022 +1300

    version bump to 2.36.0 for release

commit 8314a9fe5a911a5564f38d525494ef9ee1b971cb
Author: James Hadfield <hadfield.james@gmail.com>
Date:   Mon Mar 28 12:55:31 2022 +1300

    changelog

commit fca3511fc2d43d49522d37d609a2320994f7eaa2
Merge: 2f872ba4 968899e8
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Mon Mar 28 12:39:19 2022 +1300

    Merge pull request #1486 from nextstrain/experimental-icon
    
    Swap to "experimental" icon for exploded trees sidebar option

commit 2f872ba4527e02ad014f6fccd9c0a0cc0f947bbc
Merge: ca596158 aa5827c8
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Mon Mar 28 12:33:58 2022 +1300

    Merge pull request #1495 from nextstrain/feat/restrict-type
    
    [server] Restrict sidecar files

commit 968899e8ac4ce1bd3eca1fbd79493e7cd6529f3d
Author: James Hadfield <hadfield.james@gmail.com>
Date:   Mon Mar 28 12:28:55 2022 +1300

    Remove commented code
    
    Note that we now have a custom-styled react-select component  via PR #1482.

commit 0eb8807eea7075934b8efe88ea71abd3ea5d4f6f
Author: James Hadfield <hadfield.james@gmail.com>
Date:   Fri Mar 25 17:06:22 2022 +1300

    Exploded tree icon and on-hover info box
    
    This adds styled components for a "SidebarSubtitle" with an on-hover info box. As we build out more of these we may need to re-asses the exact styling if it becomes too busy.

commit ca596158e966ca2401cde601fb98d70f5b0314cb
Merge: 8cf96da2 aa004801
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Fri Mar 25 16:22:23 2022 +1300

    Merge pull request #1493 from nextstrain/fix-narrative-filters
    
    Fix: narrative dataset filters

commit aa5827c825ee95d8d2df0ff79e7637126f56a2d2
Author: James Hadfield <hadfield.james@gmail.com>
Date:   Fri Mar 25 13:20:32 2022 +1300

    [server] Restrict sidecar files
    
    The query.type is essentially an enum, so we should limit it to
    those types which the client makes requests for.

commit aa004801aa6ce077c87ac49a9a5985e27f3cac31
Author: Jover <joverlee521@gmail.com>
Date:   Wed Mar 23 10:53:45 2022 -0700

    Fix: narrative dataset filters
    
    When users change to a slide in a narrative that has the same dataset as
    the previous slide, `restoreQueryableStateToDefaults` resets controls
    to the _app_ default state which updates the filters state to an empty
    object. This leads to the bug described in #1492.
    
    Calling `modifyStateViaMetadata` after `restoreQueryableStateToDefaults`
    ensures that all _dataset_ default controls are restored as well.
    
    Resolves #1492.

commit 70ac16e14160088ab3f52c6046ea1aec562bc75f
Author: Jover <joverlee521@gmail.com>
Date:   Wed Mar 23 11:00:18 2022 -0700

    controls: add missing default state for filtersInFooter
    
    @jameshadfield pointed out in review that `filtersInFooter` was missing
    from the default control states.

commit 8cf96da2993537f94ac702e9bf88bc7857885acb
Merge: ff8114f3 c94eb60c
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Wed Mar 23 14:58:59 2022 +1300

    Merge pull request #1494 from nextstrain/feat/y-order-scatter
    
    Scatterplots can display node order

commit c94eb60c39cb989f68610c8639f604bbcc863ece
Author: James Hadfield <hadfield.james@gmail.com>
Date:   Wed Mar 23 14:18:20 2022 +1300

    Improve rendering of exploded trees in scatterplot
    
    When considering the node-ordering display for scatterplots we don't want to draw a branch for the root of each subtree as each subtree should be separate.

commit 404e35fc30d2cd5eccdf7c99ca6f250173d41e74
Author: James Hadfield <hadfield.james@gmail.com>
Date:   Wed Mar 23 13:46:55 2022 +1300

    Invert order of nodes
    
    Makes the scatterplot layout (for node order) mimic that of the rectangular tree, rather than being upside down.

commit 91162548d2db53d19e0845e10ca185b55d1e9888
Author: James Hadfield <hadfield.james@gmail.com>
Date:   Wed Mar 23 13:30:19 2022 +1300

    Add node ordering as a scatter variable
    
    Useful for a number of applications, including antigenic advance, S1, time, div, resistance, etc.
    
    Note that node-order vs {div|time} essentially recreates the rectangular tree layout with slightly different aesthetics.

commit ff8114f3a60d810f0dfc77be6433dc804b358624
Merge: 588bd6af 9a68ebd5
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Tue Mar 22 09:02:48 2022 +1300

    Merge pull request #1489 from nextstrain/bug/csv-two-trees
    
    Drag-n-drop metadata shows in second tree

commit 9a68ebd5db24e9e7a8d1c567dd7bc7ad63cfdb6b
Author: James Hadfield <hadfield.james@gmail.com>
Date:   Fri Mar 18 10:50:25 2022 +1300

    Drag-n-drop metadata shows in second tree
    
    Tips present only in the second tree will be correctly coloured, and
    appear in the legend. However there are two (long-standing) bugs /
    shortcomings related to the second tree which are relevant here:
    
    1. Trait values which only appear in tips in the second tree will not be
    available as filtering options (they will be correctly shown on the tree
    and in the legend, however).
    
    2. The tip-counts, as they appear in the header, only consider the main
    (left) tree. For instance, if you have a metadata CSV with information
    on 100 tips in the left tree, and 150 tips in the right tree (and 100
    are in both), and you filter to the strains which appear in the dropped
    CSV (the colouring is the same name as the file). The header will now
    indicate "Showing 100 of XXX genomes", despite the fact that all 150
    strains in the second tree are displayed.
    
    Both of these bugs are not specific to drag-n-drop metadata, the same
    situations happen with any colouring / filter.
    
    Closes #1488

commit 6c32f70766c95d622d4e00228445475bc29bc0bc
Author: James Hadfield <hadfield.james@gmail.com>
Date:   Fri Mar 18 10:44:12 2022 +1300

    Simplify second tree reducer
    
    The reducer was previously responding to a whole range of actions even
    if there was no second tree! There were enough checks in the code
    that this didn't result in bugs, but it's conceptually simpler
    to avoid trying to modify the second tree when it doesn't exist!

commit 588bd6af2192c2e58814a5c721e7910d673dc42f
Merge: b990c6c4 25e59069
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Fri Mar 18 09:31:45 2022 +1300

    Merge pull request #1485 from nextstrain/feat/escape-modal
    
    [tree] escape key dismisses any info modal

commit 25e590697596f71ce435fd2a9a736824a7b349d7
Author: James Hadfield <hadfield.james@gmail.com>
Date:   Wed Mar 16 14:35:44 2022 +1300

    [tree] escape key dismisses any info modal
    
    This implements what we think is an intuitive UI, and also helps with
    the bug described in #1243 where removing/disabling a strain-filter
    results in the tree visualisation falling out-of-sync with the modal.
    
    Note that `event.key` may not be implemented in all browsers, however
    this functionality is a nicety rather than a must-have, so this is
    tolerable. Thanks to @joverlee521 for suggesting to use this instead of
    `event.keyCode` during PR review.
    
    See https://github.com/nextstrain/auspice/issues/1479 for context.
    
    Closes #1479

commit 986c8d20af06b311750a203fd3983f6e215c30e8
Author: Trevor Bedford <trevor@bedford.io>
Date:   Wed Mar 16 13:50:35 2022 -0700

    [explode] Swap to "experimental" icon
    
    This swaps the previous use of "[experimental]" to a cleaner looking icon. I chose a wrench, thinking that this best represents work in progress.

commit b990c6c4c1ce444d39cef0d13e0aa03c3b9d7c0b
Merge: 011c19de 1663bb57
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Wed Mar 16 15:09:16 2022 +1300

    Merge pull request #1484 from nextstrain/fix/regression
    
    Regression line only considers visible nodes

commit 1663bb579200a83576a79e6d60acb89c5274e312
Author: James Hadfield <hadfield.james@gmail.com>
Date:   Wed Mar 16 13:13:54 2022 +1300

    [phylotree] regression considers visibility
    
    Changes the regression calculations to only consider visible nodes.
    
    Closes #1483
    
    Note this has the (rare but strange) UI situation where we have zero
    visible tips, and thus the regression line isn't drawn, but the
    sidebar toggle still indicates that the regression is "on".

commit 679828820389d00a5ba6d87236fb30972d33489d
Author: James Hadfield <hadfield.james@gmail.com>
Date:   Wed Mar 16 12:45:09 2022 +1300

    [phylotree] redraw regression on visibility change
    
    This commit updates the PhyloTree logic to call the recalculate &
    redraw functions each time the visibility changes. Note that the
    regression calculation does not yet take account of the visible nodes
    so there should be no functionality changes in this commit.

commit 011c19dea6a73a4b635d34748626d3ec03afdff9
Author: James Hadfield <hadfield.james@gmail.com>
Date:   Wed Mar 16 11:57:01 2022 +1300

    version bump to 2.35.0 for release

commit 5fad5d642d6afe20f66723dfddf2ce0ce7fb50ae
Author: James Hadfield <hadfield.james@gmail.com>
Date:   Wed Mar 16 11:56:27 2022 +1300

    changelog

commit 15b9ffc367c3a4c0919e2c35abbbe21a9631d2ac
Merge: ea762db0 561c1fda
Author: Jover Lee <joverlee521@gmail.com>
Date:   Tue Mar 15 15:48:21 2022 -0700

    Merge pull request #1482 from nextstrain/upgrade-react-select
    
    Upgrade react select

commit 561c1fda162f4732c470a7d7db02f56b38c8fed0
Author: Jover <joverlee521@gmail.com>
Date:   Fri Mar 11 16:39:12 2022 -0800

    Add CustomSelect component to centralize customizations
    
    Replaces all uses of the `Select` component from `react-select` with
    our own `CustomSelect` component to centralize any customizations that
    we would like to be shared across all dropdowns.
    
    Does not change any functionality of the `Select` component and keeps
    all passed props, which allows individual customizations to override
    our default customizations.
    
    Since the data filter is the only component that uses `AsyncSelect`,
    I decided to only import the custom styles and not create another
    custom component.

commit def930659d05aa02753d03ff837ca64eb2c4a4e8
Author: Jover <joverlee521@gmail.com>
Date:   Fri Mar 11 15:04:51 2022 -0800

    virtualizedMenuList: use dynamic row heights
    
    Uses `CellMeasurer` to measure individual row heights for each option
    to accomodate long string options.

commit 08135744ea0d9c55fdd62e6ea19a270e2c863e25
Author: Jover <joverlee521@gmail.com>
Date:   Mon Mar 7 16:54:25 2022 -0800

    Add virtualizedMenuList component
    
    Add a VirtualizedMenuList component to replace the MenuList component of
    the react-select package for the data filter dropdown.
    
    This was added to replace the react-virtualized-select package that is
    no longer maintained an incompatible with the latest version of
    react-select.

commit ea762db02ba111e11550c420df58a524bf21a49f
Author: John Huddleston <huddlej@gmail.com>
Date:   Thu Mar 10 11:03:13 2022 -0800

    Fix typo in docs

commit 1e1d81f4315927253515df4e9186f4d0d06cff7e
Author: Jover <joverlee521@gmail.com>
Date:   Thu Mar 3 15:00:04 2022 -0800

    Filter: replace `Select` with `AsyncSelect`
    
    Replaces the `Select` component including an `async` flag from
    `react-virtualized-select` with the `AsyncSelect` component from the
    updated `react-select` package.
    
    Keeps the equivalent props in the updated component, but does not
    include the virtualized MenuList component. This will be addressed in
    the next commit.

commit 420860c379e9852aed4e582c36455ec271682176
Author: Jover <joverlee521@gmail.com>
Date:   Thu Feb 17 19:52:29 2022 -0800

    Update all uses of `Select` from `react-select`
    
    With the complete rewrite of `react-select` from v1 to v2, there are a
    couple changes to the props of the `Select` component that affect us:
    
    1. `clearable`, `multi`, `searchable` props have been renamed to
    `isClearable`, `isMulti`, `isSearchable`
    2. `valueKey` has been removed so we must provide `getOptionValue` for
    potential Symbol values
    3. `value` no longer accepts a simple string. It now always expects
    an array of options or a single options object.
    
    The following commit will address the `Select` component from
    `react-virtualized-select` used for the data filter.

commit aff3dcb39c5c6d65026f99e113c231019d08ecf4
Author: Jover <joverlee521@gmail.com>
Date:   Thu Feb 24 16:37:11 2022 -0800

    Remove `react-virtualized-select`, keep `react-virtualized`
    
    The package `react-virtualized-select` is specifically built for
    v1 of `react-select` and is no longer maintained. Since we have upgraded
    `react-select`, this package will no longer work.
    
    Keep `react-virtualized` to build our own virtualized menu component
    to use with `react-select`.

commit 536b64d2293ee623a9ba83d95a18af48c7856bcc
Author: Jover <joverlee521@gmail.com>
Date:   Thu Feb 24 16:34:13 2022 -0800

    Upgrade `react-select` to the latest version
    
    We have been using v1 which is not longer maintained. We want to use
    new features available such as option groups.

commit 9427e6d3b99cfe6495d4213a0dc2b4bf1ddd3b6e
Author: James Hadfield <hadfield.james@gmail.com>
Date:   Tue Mar 8 18:16:28 2022 +1300

    version bump to 2.34.1 for release

commit ab2adde4d078723f9c6398959e08c789e2b68ed7
Author: James Hadfield <hadfield.james@gmail.com>
Date:   Tue Mar 8 18:15:53 2022 +1300

    changelog

commit 0bbc90309ed9d886828587a9ab900d7a4740de37
Merge: 4eb37a85 3037c602
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Tue Mar 8 18:13:30 2022 +1300

    Merge pull request #1478 from nextstrain/exports-for-auspice-us
    
    Export Dataset object

commit 3037c602ea93c14ad5926c0bc0cfeaaf20e67ba4
Author: James Hadfield <hadfield.james@gmail.com>
Date:   Mon Mar 7 17:42:30 2022 +1300

    Export functions
    
    These functions are used by auspice.us

commit 4eb37a8589bd19f735e148313e01087abe3bf53b
Merge: 73c696c4 a60c5743
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Thu Mar 3 15:22:07 2022 +1300

    Merge pull request #1468 from victorlin/conditional-date-picker
    
    Show date picker only for non-numeric dates

commit a60c574350ecbe99717d44cab5ef68d0f68b815f
Author: Victor Lin <13424970+victorlin@users.noreply.github.com>
Date:   Mon Feb 14 17:07:34 2022 -0800

    rename date-picker.js -> date-label.js

commit 6c1177cdadbc2490be118e22dabe670bb4ff220a
Author: Victor Lin <13424970+victorlin@users.noreply.github.com>
Date:   Mon Feb 14 16:44:33 2022 -0800

    add DateLabel component that uses DatePicker for non-numeric dates

commit 73c696c4caf7c44ee593b13dbad76f8aa8e1bc0b
Author: James Hadfield <hadfield.james@gmail.com>
Date:   Wed Mar 2 18:23:28 2022 +1300

    version bump to 2.34.0 for release

commit 0fbe3ce9f80256bf7564d1e2c2eac99f05c1d0cf
Author: James Hadfield <hadfield.james@gmail.com>
Date:   Wed Mar 2 18:18:47 2022 +1300

    changelog

commit adc6df36c5c36e37fb504274657249a7a1fea0ac
Merge: c0c2f35b 3db7a968
Author: Jover Lee <joverlee521@gmail.com>
Date:   Tue Mar 1 09:32:31 2022 -0800

    Merge pull request #1452 from nextstrain/titer-view
    
    Measurements Panel

commit 3db7a968bcd7edf3ed5c920cd433ea257e143f90
Author: Jover <joverlee521@gmail.com>
Date:   Mon Feb 28 18:05:40 2022 -0800

    Measurements: fix filter ordering of subplots
    
    The ordering of filtered subplots was broken by 5ae8f23 because the
    provided filter order was no longer a Map, but a flat Array of values.
    
    This commit changes the function to only expect a single flat array of
    values instead of two arrays. This moves the definition of groupings'
    order out of `groupMeasurements` to the Measurements component so that
    the determination of the order of subplots is not hidden as a side
    effect in the grouping function.

commit 89de0defcb68073de99a5153b9c1891be62b9acd
Author: Jover <joverlee521@gmail.com>
Date:   Thu Feb 24 17:16:00 2022 -0800

    refactor: Remove inline function calling `getBrighterColor`
    
    No need for the extra inline function for `.map()` because
    `getBrighterColor` can be passed directly as a callback function that
    accepts the current element being processed in the array.
    
    Thanks for pointing this out @jameshadfield!

commit 89d4af9acbf905df06b5dacbf3e6f9a0cb2cee57
Author: Jover <joverlee521@gmail.com>
Date:   Thu Feb 24 16:00:01 2022 -0800

    Visually differentiate filter options for Measurements
    
    Add "(M)" prefix to the filter options that only apply to the
    Measurements panel to visually separate them from global filters.
    This also allows users to quickly search for measurements only filters.

commit ae6ce058800b28c817fe8e08c73fd824a61a6736
Author: Jover <joverlee521@gmail.com>
Date:   Thu Feb 24 15:28:51 2022 -0800

    Measurements: update hoverPanel styles
    
    1. Use `InfoLine` from the tree hover panel to match the text styling
    2. Use min/max width for the container to make it responsive to hover
    panel contents and the width of the measurements panel

commit e39df5e1ea0c3b4d6906c40de850e69002fee627
Author: Jover <joverlee521@gmail.com>
Date:   Wed Feb 23 17:41:05 2022 -0800

    Measurements: update `getSubplotDOMId()` to use index
    
    @tsibley commented that the previous replace method can produce
    colliding values.
    
    Update `getSubplotDOMId()` to use the grouping value index to create
    synthetic ids for each subplot. This requires a bit more bookkeeping,
    but it's built on top of the bookkeeping we have to do to keep a stable
    ordering of subplots.

commit 6e032ec17336f6da73a2e13a49f50a2e3c8de4e1
Author: Jover <joverlee521@gmail.com>
Date:   Wed Feb 23 16:19:14 2022 -0800

    Measurements: use stable order for subplots
    
    The default ordering for subplots is based on the total count of
    measurements per grouping value, with the highest count first.
    The default order can also be customized within the measurements JSON.
    The JSON defined order is given precendence, but any values not included
    in the order will follow the default ordering by measurements count.
    
    The order can still be defined by the user using the filters UI.

commit 5ae8f239e40709a763bc7a7deed71d67ed7d5e08
Author: Jover <joverlee521@gmail.com>
Date:   Wed Feb 23 16:01:45 2022 -0800

    Measurements: fix row order for inactive filters
    
    Only use active filters for the group-by field when determining row
    order. This allows the rows to follow default ordering if all of the
    filters have been inactivated.

commit ef391810c9437177b10713ed61f3df9ecdce3a37
Author: Jover <joverlee521@gmail.com>
Date:   Tue Feb 22 19:42:58 2022 -0800

    Measurements: specify tickValues for y-axis
    
    axis.ticks() tries to generate a best guess of how many ticks should be
    displayed based on the scale and count provided, but it is not precise.
    
    Use `tickValues` to give an explicit half-way value for the
    y-axis tick and label to be displayed.

commit 601c1f1b147bc3e9c52e15c5d52751aecad4f2d4
Author: Jover <joverlee521@gmail.com>
Date:   Tue Feb 22 19:35:41 2022 -0800

    Measurements: make jitter randomly distributed
    
    This allows the raw measurement plots to spread over the entire subplot
    instead of an even distribution along the y-axis.
    
    The yScale is no longer the extent of the measurement's jitter values
    because the min and max are now predefined. The measurement's diameter
    is also accounted for in the domain so that they do not get cut off when
    they are plotted on the edge of the subplot.

commit a1fc08053967451abdc2031b044efb8ce5435143
Author: Jover <joverlee521@gmail.com>
Date:   Tue Feb 22 14:31:23 2022 -0800

    Measurements: add stroke to raw measurements and fill brighter color
    
    Make the raw measurement circles visually the same as the tree tips by
    adding a stroke and using a brighter color for the fill.
    
    Refactors the existing tree node colors to use the new
    `getBrighterColor` function that is shared with the measurements panel.

commit 9ebd8ea4be0baad0a4a7020975d2e42a0fa78227
Author: Jover <joverlee521@gmail.com>
Date:   Tue Feb 22 12:45:51 2022 -0800

    Measurements: refactor new Map creations
    
    Thank you @tsibley for the suggestion!

commit 44ac3f9ca74e2075be24d01fa8e48c181b5fb4a0
Author: Jover <joverlee521@gmail.com>
Date:   Fri Feb 18 21:32:39 2022 -0800

    Measurements: hide panel on data load error
    
    Hide the Measurements panel if an error occurs during data loading
    and save the error message. This disrupts the panel layout, but I think
    it's expected since we already display a warning notification.
    
    If the user decides to toggle on the panel again, display the error
    message within the panel.

commit 232ef072fea86f26844af485ca6e6abd638a129c
Author: Jover <joverlee521@gmail.com>
Date:   Fri Feb 18 21:01:20 2022 -0800

    Add fallback for Measurements panel
    
    Use the `PanelSpinner` as a fallback component for Measurements panel
    and remove condition on `this.props.measurementsLoaded`. This ensures
    that the panel is included on page load so that there is no
    interruption in the page layout when the measurements data finishes
    loading.
    
    Now the content of the panel is dependent on `measurementsLoaded` and
    will only display the MeasurementsPlot when the data has loaded.

commit 832a16e8de192aa3e5a1c259c91f2b56ead8f7ff
Author: Jover <joverlee521@gmail.com>
Date:   Fri Feb 18 20:59:47 2022 -0800

    Add PanelSpinner
    
    Intended to be used as a fallback component for panels that require
    loading time.

commit 1a5a593c2b5859a8afbd7b06335caea9ada106b0
Author: Jover <joverlee521@gmail.com>
Date:   Fri Feb 18 17:20:01 2022 -0800

    Measurements: add padding around overall mean
    
    Prevent color-by means from overlapping with the overall mean by
    shifting the yValue of the color-by means if they are too close to the
    overall mean.
    
    This does mean that there is a "gap" in middle of each subplot if the
    overall mean display is toggled off. I think this is acceptable because
    the yValues have no meaning in the subplot. We don't want to do extra
    redraw of the color-by means when the overall mean is toggled on/off.

commit 1d6640f6cafd1988100077e2f2049d19669fa5c8
Author: Jover <joverlee521@gmail.com>
Date:   Fri Feb 18 16:26:05 2022 -0800

    Measurements: set hover handlers during drawing
    
    Hover handlers were originally set in a separate effect hook that ran
    after the SVG was redrawn. This was done to separate out concerns
    because I did not realize that CSS selection can be a potential
    bottleneck.
    
    This change memoizes the `handleHover` function so that it can be used
    as a stable dependency for the drawing functions of the raw measurements
    and the means.

commit 934e26f31dc789717fd1c10e086ecbd15c7d2934
Author: Jover <joverlee521@gmail.com>
Date:   Fri Feb 18 15:50:34 2022 -0800

    Rename `toggleSingleFilter` to `applyMeasurementFilter`
    
    Requested by @jameshadfield in review.

commit 39dda5646adb0f9520d7ee157531dc0696f4faad
Author: Jover <joverlee521@gmail.com>
Date:   Fri Feb 18 15:37:47 2022 -0800

    Measurements: use Array.find() to get legend value
    
    Suggested by @tsibley in review

commit ea931c12f3cd5f8d62e24ab9d8c65cc218a38313
Author: Jover <joverlee521@gmail.com>
Date:   Wed Feb 16 17:16:45 2022 -0800

    Measurements: change internal fields to Symbols
    
    We don't want the internal "measurementId" and "measurementJitter"
    fields to collide with data fields in the measurements JSON.
    
    Instead of making these reserved keys in the measurements JSON schema,
    change them to Symbols to guarantee unique property keys that are only
    used internally within auspice.

commit e7869473a080cdf295762ea5ccb04d071c88eb07
Author: Jover <joverlee521@gmail.com>
Date:   Wed Feb 16 16:53:49 2022 -0800

    Fix minor typos

commit ab0643807b655de3e1175499f81e78bc12e08e30
Author: Thomas Sibley <tsibley@fredhutch.org>
Date:   Fri Feb 4 15:13:56 2022 -0800

    Measurements: Use the standard font-family stack for axis text
    
    Removing the font-family="sans-serif" attribute from axis <g> elements
    allows the descendant <text> elements to inherit font-family from the
    containing CSS, which uses Lato + fallbacks.
    
    Note that d3-axis documents that the SVG DOM nodes it produces are part
    of its public API, and it encourages this method of customization.

commit 65832279aa55f3d84e04040fb32f846962c6f112
Author: Jover <joverlee521@gmail.com>
Date:   Thu Feb 3 19:09:54 2022 -0800

    Measurements: fix continuous color-by mean display
    
    When the color-by is a continuous scale, the individual strain
    attributes are grouped into ranges for the legend values of the tree.
    
    To match the measurments means to the legend, group the measurements
    by the legend value instead of individual attributes. This does mean
    we have to loop through all of the visible legend values for each
    visible strain in the tree to determine the matching legend value, which
    is definitely not ideal.

commit 70d2e8f6ff5f9be856ff288e1474a0dbb69e2eea
Author: Jover <joverlee521@gmail.com>
Date:   Tue Feb 1 18:46:04 2022 -0800

    Add FilterBadges for measurements filters
    
    Display badges of measurements filters below the badges of tree
    filters in the sidebar and at the top of the page. Follows the current
    UI pattern where the sidebar shows a summary of filters per field and
    the top of the page displays each individual value filter.
    
    The field title is also displayed in the summary at the top of the page
    because the same value (e.g. strain name) can exist in multiple fields.

commit 992510d7f56a460381b65bc53ad6d4ed75824422
Author: Jover <joverlee521@gmail.com>
Date:   Tue Feb 1 18:28:50 2022 -0800

    Measurements: add field values to "Filter Data"
    
    Create a Map of fields with their display titles and unique values for
    filter fields for each collection during the loading of the measurements
    JSON. This is then used to add measurements options for "Filter Data".
    A custom internal `_type` key is added to the options so that they can
    be differentiated from the tree filters for dispatching separate actions.
    We may want to update our `react-select` package to use their "group"
    functionality to visually separate tree and measurement filter options
    within the dropdown menu.
    
    The measurements are now filtered by both visible strains in the tree
    and the active measurements filters. If there are filters for the
    grouping field, then the groups' subplots are displayed in the order
    that the filters were added. This gives the users the ability to custom
    order the subplots without having to add drag and drop.

commit d7d530c7777e933322a8b5187d330d2d97a2a087
Author: Jover <joverlee521@gmail.com>
Date:   Mon Jan 31 16:19:50 2022 -0800

    Measurements: update HoverPanel for means
    
    Use D3 event to get the client mouse x/y position for a more accurate
    positioning of the HoverPanel for mean and standard deviation.

commit 390652c209f3f690a943dc1cdadef73c01090482
Author: Jover <joverlee521@gmail.com>
Date:   Mon Jan 31 14:07:24 2022 -0800

    Measurements: add measurements color-by means
    
    Measurements within each grouping are further grouped by the strains'
    color-by attribute to calculate the mean and standard deviation for each
    attribute. The mean/SD are then displayed evenly within the subplot of
    each grouping.
    
    The colors and color-by attributes are bundled into one `treeStrainColors`
    selector object since they are alwasy updated at the same time.

commit bfbb5ad30fdf11db462ab0bc2d2c5860869f2b53
Author: Jover <joverlee521@gmail.com>
Date:   Fri Jan 28 23:25:09 2022 -0800

    Measurements: add and toggle overall mean display

commit 650436570305f013fd1614e80bc9c49df9d70946
Author: Jover <joverlee521@gmail.com>
Date:   Fri Jan 28 22:50:38 2022 -0800

    Measurements: add toggle for threshold display

commit b85f93f9dc81006951abd3841a21c6541fa229dd
Author: Jover <joverlee521@gmail.com>
Date:   Fri Jan 28 22:38:19 2022 -0800

    Measurements: add dropdown to change grouping

commit 2d1893526befb4065f54388d2c513b4400bdaafa
Author: Jover <joverlee521@gmail.com>
Date:   Fri Jan 28 22:20:27 2022 -0800

    Measurements: add controls to change collection
    
    Adds a new measurements section to the side control panel.
    Uses a Selection dropdown menu to list all available collections and
    allows the collection displayed to be changed.

commit cb4a023441b330b6a0c805d07905c410cccea666
Author: Jover <joverlee521@gmail.com>
Date:   Fri Jan 28 21:15:54 2022 -0800

    Measurements: add hover panel for raw measurements
    
    Display all fields for a measurement when hovering over a raw
    measurement circle. The fields are displayed in the order specified
    by `collection.fields` or in ascending order.
    
    Future work may include limiting the number of fields displayed in the
    hover panel and only display all fields on click.

commit 1740a9923e90c58e719f74741981a0a80a07d80e
Author: Jover <joverlee521@gmail.com>
Date:   Fri Jan 28 20:59:33 2022 -0800

    Measurements: color SVG with tree strain colors
    
    Updates the custom React Redux selector to parse both tree strain
    visibility and colors so that it only has to loop through the tree nodes
    once.
    
    The `useEffect` hook for coloring the SVG is dependent on `svgData`
    to color the SVG every time it gets redrawn and it's dependent on
    `treeStrainColors` to color the SVG every time the tree colors change.

commit f03a764eeea475ded59b211f7b27d61b433644de
Author: Jover <joverlee521@gmail.com>
Date:   Fri Jan 28 20:57:05 2022 -0800

    Add D3 SVG to Measurements panel
    
    Only displays measurements that are linked to samples currently visible
    on the tree, so each measurement's "strain" value must exactly match
    the strain name of the sample in the tree. This ensures that filters of
    the tree also filters data of the multiplot.
    
    Since re-drawing the SVG can be pretty slow, I have taken a couple steps
    to memoize the data for the SVG and avoid re-rendering/re-drawing
    when not needed:
    
    1. Used `lodash.isEqual` for the React Redux selectors equality checks
    for Redux states that are objects. The default is a strict `===`
    reference equality check that would fail for objects and cause the
    panel to re-render every time an action is dispatched.
    
    2. Used `useMemo` to memoize the D3 scale functions. The D3 scales only
    need to be updated when the collection or width has changed, so use
    memo to preserve it across renders. Memomizing the functions also allow
    them to be used as dependencies of `useEffect` hooks without causing
    the hooks to re-run every render.
    
    3. Used a custom `useDeepCompareMemo()` function to memoize all the data
    needed for drawing the SVG. This is done in anticipation that following
    commits will introduce other `useEffect` hooks that will also need
    `svgData` as a dependency (e.g. colors will need to be re-applied when
    `svgData` changes).

commit c9651ec3b4cd04a9324e5dcfee92599904a165c7
Author: Jover <joverlee521@gmail.com>
Date:   Thu Jan 27 17:12:03 2022 -0800

    Fetch and load measurements sidecar JSON file
    
    The measurements sidecar JSON file should have a "_measurements" suffix
    in the filename. The JSON is expected to have a "collections" array that
    contains individual collections with their respective display configs
    and measurements data. See more details about JSON schema within the
    augur repo.
    
    On loading the data, an id and jitter value are added to each
    measurement. The id is just the measurement's array index but is added
    to ensure a stable id even if the list of measurements has been filtered.
    The jitter will be used as the y-value for each displayed raw
    measurement so they are spread apart vertically within each subplot.
    
    The collections array and default collection to display are added to the
    measurements redux store. The display config for the default collection
    object is parsed and added to the controls redux store.

commit ba79359886ef72677d461d0d90e9adb81743e320
Author: Jover <joverlee521@gmail.com>
Date:   Fri Jan 14 11:42:34 2022 -0800

    Add Measurements panel
    
    Add the skeleton measurements panel that includes the legend and a
    container for the SVG. Currently acts as a third "big" panel that can
    span the full page or be turned into a half panel for grid display.
    Legend is hidden when the panel is in the grid display with the tree.
    
    Reworks the panel displays for the tree and map panels in order to fit
    the new measurements panel into the grid. When all three panels are
    displayed, the map stays in the "full" mode so that there isnt' an extra
    white space next to it.

commit dc2a014ca323f12aec46232b720278d7c2565f9c
Author: Jover <joverlee521@gmail.com>
Date:   Wed Feb 23 17:13:05 2022 -0800

    Update d3-array version to use `groups`

commit 69269ed87ee359226c04aec9a4203487597c09ff
Author: Jover <joverlee521@gmail.com>
Date:   Wed Feb 23 16:44:37 2022 -0800

    Update react-redux version to use hooks

commit adf55850e206f22bdece899b5fd5b24a77d24373
Author: Jover <joverlee521@gmail.com>
Date:   Wed Dec 1 17:29:30 2021 -0800

    modifyStateViaURLQuery: process `query.d` before `query.p`
    
    `query.d` should be processed before `query.p` since the panels to be
    displayed can now affect the panel layout by updating the
    `canTogglePanelLayout` state.

commit 742f3234f0b96eccffe24a56c441f395f6b695b8
Author: Jover <joverlee521@gmail.com>
Date:   Wed Dec 1 17:20:04 2021 -0800

    modifyStateViaURLQuery: update `canTogglePanelDisplay`
    
    Update the `canTogglePanelDisplay` control state based on the provided
    panels in `query.d`. This allows the full/grid toggles to be rendered
    or hidden based on the panels displayed.

commit 60510f4c8748d5b09ed2a2ac1bd5ef3c87489f16
Author: Jover <joverlee521@gmail.com>
Date:   Wed Dec 1 15:51:55 2021 -0800

    refactor: TOGGLE_PANEL_DISPLAY action/reducers
    
    Move logic for `canTogglePanelLayout` from the reducer to the action
    creator so that all of the logic for this action is contained in a
    single place.

commit 31435c773e9753f61df0d16cbfc618e45e34f4e4
Author: Jover <joverlee521@gmail.com>
Date:   Wed Nov 17 16:00:12 2021 -0800

    refactor: add function `hasMultipleGridPanels`
    
    The logic for determining if the user can toggle panel display between
    "full" and "grid" can be narrowed down to whether there are multiple
    "grid" panels to be displayed. If there are more than one "grid" panels
    displayed, then the user should be able to toggle the panel display.
    Currently there are only two "grid" panels, "tree" and "map", but
    subsequent commits will add a new "grid" panel for titer visualizations.
    
    Consolidated this logic into a new function that can be used across
    different actions and reducers.

commit 3f3d452a23876160c7c0cf31854896e8e3bba9e2
Author: Jover <joverlee521@gmail.com>
Date:   Wed Nov 17 15:57:38 2021 -0800

    Rename actions/misc.js to actions/panelDisplay.js
    
    Renaming the file in preparation for adding more panel display specific
    functions in the following commits. There is no other miscellaneous
    code in this file, so better to be more specific about its purpose.

commit c0c2f35b479bbaba4c3da761b2d44a0ba28a52f2
Merge: 08d897d4 fb05e73a
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Fri Feb 25 12:23:06 2022 +1300

    Merge pull request #1475 from nextstrain/bug/branch-click
    
    [bugfix] Allow datasets without mutations

commit 08d897d4c1a8049757ea5bcece5830d2e4945207
Merge: cc997d2c 025c90e3
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Wed Feb 23 14:07:49 2022 +1300

    Merge pull request #1472 from nextstrain/trs/load-yaml-safely
    
    narratives: Load YAML frontmatter safely

commit cc997d2cfda39026af5b20ff1cf1cff0a1110efb
Merge: 5f36a941 7dee75a2
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Wed Feb 23 14:01:30 2022 +1300

    Merge pull request #1471 from nextstrain/trs/remove-unused-tip-frequencies-weight
    
    Stop storing an unused "weight" property from tip frequencies

commit fb05e73a0bc7868d64dc76743f15f9efa1e88332
Author: James Hadfield <hadfield.james@gmail.com>
Date:   Wed Feb 23 13:38:02 2022 +1300

    [bugfix] Allow datasets without mutations
    
    See https://github.com/nextstrain/auspice/issues/1474 for more context

commit 5f36a94102916879e8b75e4cb145df79011e7f2f
Merge: 70254d85 51548236
Author: Victor Lin <13424970+victorlin@users.noreply.github.com>
Date:   Tue Feb 22 15:30:47 2022 -0800

    Merge #1436: Update npm packages and compatible node versions

commit 5154823694ff9b1cf8a329ba89d56916a5b1d47a
Author: Victor Lin <13424970+victorlin@users.noreply.github.com>
Date:   Tue Feb 22 14:21:12 2022 -0800

    Manually fix react/jsx-no-bind in date picker
    
    Exposed after migration from babel-eslint to @babel/eslint-parser.
    
    - Error: https://github.com/nextstrain/auspice/runs/5294234065?check_suite_focus=true
    - Details: https://github.com/yannickcr/eslint-plugin-react/blob/master/docs/rules/jsx-no-bind.md

commit c6ba3a2aa946b9bacdb57488ea4578ff30de881b
Author: Victor Lin <13424970+victorlin@users.noreply.github.com>
Date:   Fri Nov 26 17:14:36 2021 -0800

    Remove unused package webpack-cli

commit 1e1b91357eacb55b1f84973d9bb50cb0a54ae856
Author: Victor Lin <13424970+victorlin@users.noreply.github.com>
Date:   Fri Nov 26 15:24:18 2021 -0800

    Update PapaParse 4.3.5 -> 5.3.1
    
    No apparent breaking change from 4 to 5 based on https://github.com/mholt/PapaParse/releases/tag/5.0.0, though I haven't tested the functionality.

commit f0af38d643463effdd17674a327f89ac4853c1cb
Author: Victor Lin <13424970+victorlin@users.noreply.github.com>
Date:   Wed Nov 24 15:45:50 2021 -0800

    Manually fix whitespace to pass lint
    
    This is where prettier (https://github.com/prettier/prettier) would have prevented this from happening, but that's another big change.

commit ef915607488dd563a0a5987a7f8053ba2a5929d5
Author: Victor Lin <13424970+victorlin@users.noreply.github.com>
Date:   Wed Nov 24 15:23:31 2021 -0800

    Replace babel-eslint with @babel/eslint-parser
    
    https://babeljs.io/blog/2020/07/13/the-state-of-babel-eslint

commit 645fbdf8de893053a4518c471a9206e898bd77a3
Author: Victor Lin <13424970+victorlin@users.noreply.github.com>
Date:   Mon Nov 22 19:12:33 2021 -0800

    Use even versions of node engine
    
    node=13 is being resolved by the Heroku build server.
    
    Error message:
    
        No valid exports main found for '/tmp/.../node_modules/parse-domain
    
    This issue shows that the error above can be due to running on node=13: https://github.com/loopbackio/loopback-next/issues/5381#issuecomment-644124689

commit 21aff3a8d84a2f79dfff808360bcaf87f2e2ec91
Author: Victor Lin <13424970+victorlin@users.noreply.github.com>
Date:   Mon Nov 22 18:47:23 2021 -0800

    Regenerate package-lock.json

commit 95b009d08f3b2d41e1b70e44bdbf6caed7ec3349
Author: Victor Lin <13424970+victorlin@users.noreply.github.com>
Date:   Mon Nov 22 18:37:46 2021 -0800

    npm audit fix

commit 3c0be6cb4e55dd2b57ac4a42ca3bcd81058497a9
Author: Victor Lin <13424970+victorlin@users.noreply.github.com>
Date:   Mon Nov 22 18:21:21 2021 -0800

    Remove unused packages
    
    - d3-collection
    - i18next-resource-store-loader
    - json-loader
    - prettyjson
    - react-tweet-embed
    - redux-devtools
    - request
    - run-sequence
    - eslint-config-defaults
    - eslint-plugin-filenames

commit 025c90e39bc7ab6c2e1a2e6588b23244863ad032
Author: Thomas Sibley <tsibley@fredhutch.org>
Date:   Wed Feb 16 16:16:39 2022 -0800

    narratives: Load YAML frontmatter safely
    
    Prevents deserializing potentially unsafe data types from user input.
    
    yaml-front-matter uses js-yaml 3.x, which is unsafe by default, hence
    the "safe" mode. js-yaml 4.x is safe by default, but not used here.

commit 7dee75a21d74980824370fb3596fbdc713f8879a
Author: Thomas Sibley <tsibley@fredhutch.org>
Date:   Tue Feb 15 10:44:13 2022 -0800

    Stop storing an unused "weight" property from tip frequencies
    
    This property was introduced with the original frequencies work¹ as an
    anticipated need², but it was never used.  Omit it for now to avoid
    carrying around unnecessary baggage; it can be added back in the future
    easily if its time comes.
    
    I uncovered this while authoring a JSON Schema for the tip-frequencies
    format.³
    
    ¹ In PR https://github.com/nextstrain/auspice/pull/497 as a7bda1e.
    ² https://github.com/nextstrain/augur/pull/83#issuecomment-367405686
    ³ https://github.com/nextstrain/augur/pull/852

commit 70254d855c711575c135c73167eedf2cc042d7b3
Author: James Hadfield <hadfield.james@gmail.com>
Date:   Tue Feb 15 12:48:51 2022 +1300

    version bump to 2.33.0 for release

commit 209a1097dba8b9b1ceba9874d1807f2b7ef83116
Author: James Hadfield <hadfield.james@gmail.com>
Date:   Tue Feb 15 12:41:27 2022 +1300

    changelog

commit 05b4e91a12808c2cd3b75f250a2afa4172d93117
Author: Victor Lin <13424970+victorlin@users.noreply.github.com>
Date:   Mon Feb 14 15:09:38 2022 -0800

    Add options to edit min/max dates (#1412)
    
    Currently, the date range is only customizable by either interfacing with the slider (has limitations) or editing the URL directly (hacky, forces page reload).
    
    This pull request adds options to change min/max dates individually.

commit 0e902074662c0c2ed459050b071a1f8c06083979
Merge: da64ea62 69b53a0e
Author: James Hadfield <hadfield.james@gmail.com>
Date:   Tue Feb 15 11:59:34 2022 +1300

    Merge branch 'feat/categorise-mutations'
    
    * feat/categorise-mutations:
      Group nuc mutations on-hover
      Group gaps and Ns into intervals
      Tip hover shows counts of changes to root
      Categorise mutations in tip-clicked panel
      Collect all observed mutations

commit 69b53a0e93edd4f86e971e2298276ee32e65bcd7
Author: James Hadfield <hadfield.james@gmail.com>
Date:   Fri Jan 28 19:03:49 2022 +1300

    Group nuc mutations on-hover
    
    Grouping nucleotide mutations (as per previous commits) while hovering
    on branches is really helpful for understanding the tree. The penalty
    is the use of more space, and so I've chosen to not group AA mutations
    here; one can shift+click on the branch to see these grouped if needed.

commit 9971471b327eeb4d04b498c6351d828c5f5b2363
Author: James Hadfield <hadfield.james@gmail.com>
Date:   Fri Jan 28 18:03:03 2022 +1300

    Group gaps and Ns into intervals

commit a18bb64090bc91347d8fa8b72582767d23750651
Author: James Hadfield <hadfield.james@gmail.com>
Date:   Thu Jan 27 19:26:41 2022 +1300

    Tip hover shows counts of changes to root
    
    Previously we displayed the mutations on the branch leading to the tip,
    which was inconsistent with the information shown when clicking on a
    tip. Showing a summary of counts is a good compromise between visual
    space and conveying all the information.
    
    Note that hovering on the branch leading to the tip still shows the
    mutations leading to the tip, if that info is desired.

commit 5a9d59f022eb38dd5549235296a6352ea0d73037
Author: James Hadfield <hadfield.james@gmail.com>
Date:   Fri Jan 21 14:45:49 2022 +1300

    Categorise mutations in tip-clicked panel
    
    These changes were motivated by issue #1444 [1] where separating
    mutations into categories can aid both QC and biological interpretation.
    I chose to use "mutations" to refer to mutations observed on a branch
    and "changes" to refer to the collection of mutations between a tip
    and the root.
    
    The categories are not necessarily disjoint, as a mutation back
    to the root will also be a homoplasy or a unique mutation.
    
    Note that changes between a tip sequence and the root aren't grouped
    into homoplasies, as a single change (A→C) may be the result of multiple
    mutations (e.g. A→B→C) and thus we would need to check the tip state of
    each position which is difficult with the current code.
    
    On-hover panels are left unchanged in this commit.
    
    [1] https://github.com/nextstrain/auspice/issues/1444

commit da64ea6253f9cf06264bcc767880e9c0e368f340
Merge: 8d135465 06dfb6bf
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Mon Feb 14 18:05:26 2022 +1300

    Merge pull request #1442 from nextstrain/multitree
    
    Multitree

commit 8d1354652394f6818faab31bef0fcda171f9abbe
Merge: bff18e01 b106b7e9
Author: Thomas Sibley <tsibley@fredhutch.org>
Date:   Fri Feb 11 14:12:06 2022 -0800

    Merge branch 'trs/fine-print-hook'

commit bff18e01a08c1379231c5de3a9656eefda52a027
Author: Victor Lin <13424970+victorlin@users.noreply.github.com>
Date:   Fri Feb 11 09:14:18 2022 -0800

    Enable search for Color By (#1456)
    
    This makes the Color By dropdown searchable as the list gets longer.
    
    Enhancement proposed by @trvrb, implementation from @joverlee521

commit 06dfb6bff35d2e25236018702fa3df3b5a482d1f
Author: James Hadfield <hadfield.james@gmail.com>
Date:   Wed Feb 9 20:31:08 2022 +1300

    [explode] add expermimental label

commit 32593b4e30e96fb2f8a2fafd2e9aec330d81f926
Author: James Hadfield <hadfield.james@gmail.com>
Date:   Wed Feb 9 18:15:47 2022 +1300

    [explode] Separate unrooted subtrees
    
    This separates out the subtrees in an unrooted subtree using a similar
    conceptual approach as for radial trees. Code was somewhat cleaned up
    during this work.

commit 3a1c8f1c5583e031ed7023ce38b3bf56a36df6aa
Author: James Hadfield <hadfield.james@gmail.com>
Date:   Wed Feb 9 17:10:49 2022 +1300

    remove unused code

commit 455bc3ba4d33054c44ef40f7598d7861edb33402
Author: James Hadfield <hadfield.james@gmail.com>
Date:   Wed Feb 9 17:06:28 2022 +1300

    [explode] Separate radial subtrees
    
    Note that in radial view separation is expressed by increasing the
    angle. If the root of a subtree is near the start (div or time) then
    changing the angle doesn't convey a sense of separation. One way to
    improve this would be to add a inner circle which the innermost nodes
    can then be spaced around, however this wouldn't be appropriate for
    non-exploded trees. Worth revisiting in the future, perhaps.

commit 093b82365ff2b1e3fa189dab2b66fa01fa8018d4
Author: James Hadfield <hadfield.james@gmail.com>
Date:   Sun Jan 30 17:43:34 2022 +1300

    [explode] don't display subtrees with zero tips

commit 937c68cf223e292f1c1322c508cbbf1f9f889333
Author: James Hadfield <hadfield.james@gmail.com>
Date:   Tue Feb 1 16:56:44 2022 +1300

    [explode] add padding between subtrees
    
    The chosen value is based off testing a few datasets and we may need to tweak this in the future.

commit b8cc27c8b7c1ce9366fb246b290dadfdce4acee2
Author: James Hadfield <hadfield.james@gmail.com>
Date:   Sun Jan 30 17:55:51 2022 +1300

    [explode] don't allow tanglegrams
    
    Tanglegrams would be useful for exploded trees but are added complexity for an already complex feature. For the time being, it's acceptable to force users to choose one or the other.

commit ab69fa2fa3a180c7d7a247ffba91822f9e762f1a
Author: James Hadfield <hadfield.james@gmail.com>
Date:   Sun Jan 30 17:29:50 2022 +1300

    [explode] Separate out undefined subtrees
    
    Previous behavior would only split trees when the traits of a parent-child link were different _and_ defined. This let to problems where three connected nodes with traits "X -> undefined -> Y" would not be split.

commit 944c013d22d31b28c994b26a7625158a3d94f515
Author: James Hadfield <hadfield.james@gmail.com>
Date:   Sun Jan 30 17:21:06 2022 +1300

    [explode] allow zoom to subtree w. single tip
    
    Our previous behavior zoomed into the parent node, which made for a nicer UI. However when the zoom node is a subtree with a single tip, zooming into the parent node means zooming into the entire tree, which is not desirable.

commit 296154391ec0496c2150f3880bb00a35573a2b8a
Author: James Hadfield <hadfield.james@gmail.com>
Date:   Sun Jan 30 16:59:49 2022 +1300

    [explode] recalculate branch thickness etc
    
    We default to zooming out completely whenever we explode the tree. There are nicer behaviours here, such as re-calculating the MRCA of visible nodes, but this comes at the cost of increased complexity.
    
    Recalculating tip counts is needed for (a) branch thicknesses and (b) forthcoming work which will hide subtrees with no tips.

commit e43eb72a2ac3dd90a931208e6ab8006f17f8e6a3
Author: James Hadfield <hadfield.james@gmail.com>
Date:   Wed Dec 22 17:39:49 2021 +1300

    Introduce descriptions of additional parents
    
    This introduces the concept of defining additional parents of the node,
    in addition to the parent used to link all nodes together into one tree.
    
    By defining the original parent via `<Node>.parentInfo.original → <Node>`
    the roots of exploded (sub-)trees keep track of their original parent.
    This information is used here for branch (stem) length calculations;
    future work may use visual cues such as dashed lines to link subtrees
    together. https://cse512-21s.github.io/FP-Pathogen-Phylogenies/
    (Lewinsohn, Paredes, Russell and Wagner) is one example of this.
    
    This structure will allow definition of recombination events (e.g. donor
    nodes), original parents of individual trees (in a multi-tree-dataset)
    etc. All of this is "future work".

commit 3577371524ca9fb02e2d91502c8af31d56286492
Author: James Hadfield <hadfield.james@gmail.com>
Date:   Wed Dec 22 15:21:30 2021 +1300

    Order subtrees to mimic the legend

commit 8ff7076a3fd91a98239363f813199a10add07dd2
Author: James Hadfield <hadfield.james@gmail.com>
Date:   Wed Dec 22 13:47:07 2021 +1300

    Exploded trees
    
    Introduces the ability to cut trees at various branches and display the resulting trees as subtrees. These cut points are here defined to be a change in a (user-selected) state trait, which are simply the non-continuous colourings (to start with).
    
    Briefly, given a parent node (A) with children (B,C), and a change in trait moving from (A->B), we add B to the children of the overall tree root, and update the children of A to be only C. We store the original children (B,C) so that we can return to the starting state.
    
    This implementation, specifically the ability for PhyloTree to update the node ordering, should allow for branch rotations in the future.
    
    There are a number of future improvements to be made in subsequent commits:
    * The subtrees should be ordered on trait (or we may wish to make this a toggle)
    * the stem length of subtrees is inconsistent
    * exploded trait cannot be stored in URL state
    * we should limit the explode options to those colourings which are defined on internal nodes (currently a warning is shown)
    * genotype should be available to explode on
    * remove console logging introduced here
    * consider undefined (internal) traits, e.g. currently nodes (X -> undefined -> Y) would not be exploded
    * multiple trees are not considered here
    
    Prior art: I was first made aware of this style of tree rendering by Gytis Dudas. An implementation was attempted by @frogsquire<https://github.com/frogsquire> in https://github.com/nextstrain/auspice/pull/1105 and this commit uses ideas introduced there.

commit ca1046b256bdf474ff342abb9af355c36314b1e7
Author: James Hadfield <hadfield.james@gmail.com>
Date:   Tue Dec 21 19:29:02 2021 +1300

    Remove duplicate property storage
    
    We represent tree nodes by two different objects, a "PhyloNode" and a "Node", although these names are not formalised. The former holds information necessary to render the phylogenetic tree and is solely used by `PhyloTree` while the latter holds more general information. They are linked: `phyloNode = node.n` and `node = phyloNode.shell`.
    
    This commit tackles deeply embedded technical debt where each object held a copy of the same data. Specifically,
    * `children` is now only stored on a Node
    * `parent` is similarly stored on a Node
    * `terminal` is removed from PhyloNode (we can refer to node.hasChildren)
    
    There is (at least) one remaining duplicated property - `inView` - which is set on <Node> when the dataset loads due to the corresponding <PhyloNode> not yet existing. This is left for future work as the concept of `inView` may change as we develop further methods for tree zoom / pan.

commit 0f5237ffb1377b08eabb3598eeee7b3a1adbc646
Author: James Hadfield <hadfield.james@gmail.com>
Date:   Tue Dec 21 13:52:34 2021 +1300

    Allow multiple trees in a single dataset
    
    This introduces the ability to define multiple trees by allowing
    <json>.tree to be an array (of trees). Internally we add an extra root
    node (not displayed) whose children are the subtrees; this allows us to
    reuse all of our machinery which expects to traverse a single tree.

commit 68f57f6093e64101993f4760ade970e2d0551724
Author: James Hadfield <hadfield.james@gmail.com>
Date:   Wed Jan 26 12:09:22 2022 +1300

    Collect all observed mutations
    
    This is in preparation for a forthcoming commit which will need this
    information to decide whether a mutation is homoplasic.

commit b106b7e943f9bbffaced3167cb5c0f29663115a8
Author: Thomas Sibley <tsibley@fredhutch.org>
Date:   Tue Jan 25 17:17:12 2022 -0800

    Add a "finePrint" extension hook
    
    Provides a bit of Markdown to render in the fine print at the bottom of
    pages, including the splash page and dataset pages.
    
    This will make it much easier to folks customizing Auspice to add their
    own attributions, links to source code, etc.

commit 2f9ee3e0b37a0a903d0433d4f2a4e49cd9efb31d
Author: Thomas Sibley <tsibley@fredhutch.org>
Date:   Tue Jan 25 17:16:15 2022 -0800

    markdownDisplay: Update error message to reflect current usage
    
    Used by narratives too, not just the dataset footer.  About to be used
    in the fine print component as well.

commit d4aefb94ade7cf392b08e5850229db4d6f612d55
Author: Thomas Sibley <tsibley@fredhutch.org>
Date:   Tue Jan 25 16:10:24 2022 -0800

    docs: Add missing splashComponent key to list of build config keys
    
    It was documented later in the page but missing from the list at the
    top.

commit efe6fffc29f29f3ce353b796af6ba774fdb3bccb
Merge: d8b3d2ae 2b60cccc
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Wed Jan 5 15:31:57 2022 +1300

    Merge pull request #1439 from artt/patch-1
    
    Remove scrollbar in PanelsContainer when no scrolling is possible

commit 00add58e41be4219017ba9350a8ab534a9b66e95
Author: James Hadfield <hadfield.james@gmail.com>
Date:   Tue Dec 21 11:40:00 2021 +1300

    Update variable names
    
    Variable names changed to better convey that these values represent node order - in rectangular layouts these are the same as y positions, but not for other layouts. Storing these on the <phyloNode> is consistent with other layout (position) variables.
    
    We now have:
    <phyloNode>.displayOrder
                            .displayOrderRange
                            .y: y position in domain. Depends on layout.
                            .py: y position of parent node.
                            .yTip: y position in pixels (i.e. the range)
                            .yBase: yTip of parent node.
    
    Note that the untangling code is not currently used, but has been tested here by turning on `globals.attemptUntangle`.

commit 2b60cccc536a8184d6b710529b1d3244278bf7d8
Author: Art Tosborvorn <art.tosborvorn@gmail.com>
Date:   Wed Dec 15 12:46:01 2021 +0700

    Remove scrollbar in PanelsContainer
    
    Change `overflow-y` from `scroll` to `auto` to hide the scroll bar when not needed.

commit d8b3d2ae700978a8ef6ebb817b52e994936b1a09
Merge: e7b3190a 64268970
Author: Victor Lin <13424970+victorlin@users.noreply.github.com>
Date:   Thu Nov 18 17:03:25 2021 -0800

    Merge pull request #1434 from nextstrain/ci/travis-to-gh
    
    Replace TravisCI with GitHub Actions

commit 64268970677f990ebefd0f57e1510cefb7390414
Author: Victor Lin <13424970+victorlin@users.noreply.github.com>
Date:   Thu Nov 18 12:08:34 2021 -0800

    Move publish job to ci.yaml

commit cc8fa32bf059340946bcfc769600a9d9a6f662be
Author: Victor Lin <13424970+victorlin@users.noreply.github.com>
Date:   Wed Nov 17 21:12:47 2021 -0800

    Use npm ci in all workflow jobs

commit 8282bdf6dd61551b96da14809dd5c1a2822504cb
Author: Victor Lin <13424970+victorlin@users.noreply.github.com>
Date:   Wed Nov 17 21:11:25 2021 -0800

    Update DEV_DOCS to reflect removal of TravisCI

commit 595fd23cbe7ccba049b16a26d4487e7119a66938
Author: Victor Lin <13424970+victorlin@users.noreply.github.com>
Date:   Wed Nov 17 21:09:12 2021 -0800

    Trigger publish on release branch ci completion

commit 1355a84a30114521b1f4e3feca4ba6cd4cb66a4e
Author: Victor Lin <13424970+victorlin@users.noreply.github.com>
Date:   Wed Nov 17 21:07:59 2021 -0800

    Remove .travis.yml

commit e7b3190a331ef2427df403718e6867473d0c70a2
Merge: 220e012f c8f080e1
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Thu Nov 18 15:20:33 2021 +1300

    Merge pull request #1435 from nextstrain/ci/use-nextstrain-bot-for-pr
    
    Update nextstrain.org test PR author and title

commit c8f080e16d9137523c2efafa204150dafc7799bd
Author: Victor Lin <13424970+victorlin@users.noreply.github.com>
Date:   Wed Nov 17 17:38:45 2021 -0800

    Add DO NOT MERGE message in PR title

commit e336ae7178f2e748dca9d52bfb14629ca979334b
Author: Victor Lin <13424970+victorlin@users.noreply.github.com>
Date:   Wed Nov 17 17:38:18 2021 -0800

    Use nextstrain-bot for nextstrain.org test PR/author/committer

commit b04e0c41cd14d2ed3b9b18c196f6afedb4b499da
Author: Victor Lin <13424970+victorlin@users.noreply.github.com>
Date:   Wed Nov 17 15:57:07 2021 -0800

    Use status badge for ci workflow in README

commit 0c38cf920fc8107f8fd7c45c6701895817fece95
Author: Victor Lin <13424970+victorlin@users.noreply.github.com>
Date:   Wed Nov 17 15:46:56 2021 -0800

    Add workflow to publish to NPM

commit 213012b6bdd65bf09f39d21429a3029d18567e4b
Author: Victor Lin <13424970+victorlin@users.noreply.github.com>
Date:   Wed Nov 17 11:13:44 2021 -0800

    Use node versions=12,14,16 on all jobs

commit bd54d1d9ed6111960787e1dc3916cf48743b14e6
Author: Victor Lin <13424970+victorlin@users.noreply.github.com>
Date:   Wed Nov 17 11:12:23 2021 -0800

    Update actions/setup-node to v2

commit 09f9d09ced3d8cdf222fe9eb625b5bb8f95ea73b
Author: Victor Lin <13424970+victorlin@users.noreply.github.com>
Date:   Wed Nov 17 10:50:14 2021 -0800

    Add build job to GitHub workflow

commit 220e012f20d4ee22a128d77e9bd3eb7785728503
Merge: 6b76384c e30ab251
Author: Thomas Sibley <tsibley@fredhutch.org>
Date:   Tue Nov 16 14:57:26 2021 -0800

    Merge branch 'ci/remove-awscli'

commit e30ab2514bc5e42fca8b33385082dee099e76252
Author: Thomas Sibley <tsibley@fredhutch.org>
Date:   Tue Nov 16 14:44:26 2021 -0800

    Travis CI: Remove install of AWS CLI
    
    No longer needed since "Update release instructions, docs" (f6a576db),
    which removed the release/deploy step that uploaded to S3.

commit 6b76384ce269ba7a9c21878c445c6e5886fbed3a
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Thu Nov 11 12:58:34 2021 +1300

    changelog

commit 53390ce153ee700b832789334700e0a39de16884
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Thu Nov 11 12:55:18 2021 +1300

    version bump to 2.32.1 for release

commit d6cfe62e6d7399e6e20533d3cfe358cd24c7bb0e
Merge: 2677b768 f72d6bef
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Thu Nov 11 12:18:43 2021 +1300

    Merge pull request #1428 from nextstrain/fix-narratives-url-parsing
    
    Limit scope of narratives search in URL

commit f72d6befb4afe3b088a731f6df90b00177de50ba
Author: John Huddleston <huddlej@gmail.com>
Date:   Wed Nov 10 10:42:49 2021 -0800

    Limit scope of narratives search in URL
    
    Changes the substring to search a given URL for narratives content to
    include a leading and trailing forward slash. This change limits the
    scope of the search in the URL to match paths like
    https://nextstrain.org/narratives/ and
    https://nextstrain.org/community/narratives/ but to avoid trying to load
    as narratives datasets that happen to have the word "narratives" as a
    substring of their names (e.g.,
    "nextstrain-narratives-demo_ncov_2020-03-04.json").

commit 2677b768f60913bb9b81a4e28799a636192c2850
Author: John Huddleston <huddlej@gmail.com>
Date:   Wed Nov 10 10:04:14 2021 -0800

    Update link to current Auspice installation docs
    
    Updates the link for Auspice install docs, so users don't need to wait for the GitHub Pages redirect.

commit 91ff8fb620c9f5e0ca230392f48667e102d09847
Author: James Hadfield <hadfield.james@gmail.com>
Date:   Wed Oct 20 11:25:35 2021 +1300

    version bump to 2.32.0 for release

commit d271936614a2256d79a8830ac14aa5254e39678d
Author: James Hadfield <hadfield.james@gmail.com>
Date:   Wed Oct 20 11:25:08 2021 +1300

    changelog

commit ba0c9d75d1413630e9146c7c7a0b349f8c670821
Merge: c35bdc87 9d4b29e5
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Wed Oct 20 09:25:29 2021 +1300

    Merge pull request #1408 from nextstrain/narrative-image-width
    
    narratives: Set max-width on images in the main (right-hand) panel

commit c35bdc8716787be8c905b894e3a32c16d449f605
Merge: c871641d 6bc7f3c3
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Wed Oct 20 09:23:35 2021 +1300

    Merge pull request #1414 from nextstrain/collapsible-filters
    
    collapsible filter lists in footer

commit c871641db98de6c82ef5f3848bcecfdd899f1e94
Merge: 23f95a9a 0bfff4ef
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Wed Oct 20 09:23:21 2021 +1300

    Merge pull request #1419 from nextstrain/windows
    
    Remove postinstall step

commit 23f95a9a305621add0ee8fc090c87f9c709e3ba2
Merge: dbd40e48 9aafd612
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Wed Oct 20 09:21:26 2021 +1300

    Merge pull request #1420 from nextstrain/node-click
    
    Improve info boxes on tree

commit 6bc7f3c3422a989dad2cd66cf0366d6b10606546
Author: James Hadfield <hadfield.james@gmail.com>
Date:   Tue Oct 19 16:17:51 2021 +1300

    Add number of filter values to filter header
    
    Makes it easier to understand filters without needing to expand/contract each filter.

commit 1be1ec00a9417013e31ca7b08aa902bbfe3a0ac9
Author: James Hadfield <hadfield.james@gmail.com>
Date:   Tue Oct 19 16:16:58 2021 +1300

    Tweak padding in footer

commit 9aafd61209a65082af48d7a4e4d3da73047df193
Author: James Hadfield <hadfield.james@gmail.com>
Date:   Tue Oct 19 12:09:37 2021 +1300

    Sort displayed genes by genome position
    
    This sorting is used in hover/click info-panels in the tree.

commit f3fa9b880fac1f6ddb8b6972e8b1c514eed25067
Author: James Hadfield <hadfield.james@gmail.com>
Date:   Tue Oct 19 11:19:31 2021 +1300

    Provide nucleotide mutations on tip-click
    
    The original reason for excluding these was due to the large number of mutations causing the modal box to be too large. Using a "click to copy" button here solves this problem, and allows us to interrogate all mutations in a strain which is often very useful.

commit 073f372b62a49aafc05254f26c193b203ee75d7e
Author: James Hadfield <hadfield.james@gmail.com>
Date:   Mon Oct 18 17:49:05 2021 +1300

    Improve display for node-clicked info panel
    
    The previous info-panel was only available for terminal nodes (tips). This adapts the component to render information relevant to a tip or a branch, as required.

commit cffb38207bbe5f2ed253c78efaaae1e012836428
Author: James Hadfield <hadfield.james@gmail.com>
Date:   Mon Oct 18 14:04:45 2021 +1300

    Shift-click branch to display more info
    
    This paves the way to display more branch-specific info in a user-friendly way, as requested in #1317 [1]. Content of the panel will be improved in further commits.
    
    Other UI implementations may be explored, but detecting if the shift-key was pressed is the simplest for now.
    
    [1] https://github.com/nextstrain/auspice/issues/1417

commit 926f6ff7ef565415794e65c6ac1fada20e71ffe5
Author: James Hadfield <hadfield.james@gmail.com>
Date:   Mon Oct 18 12:11:04 2021 +1300

    Remove unused state
    
    This is in preparation for enabling branch-selected modals

commit 0bfff4ef91d684b65bb7df1b2ee3e7dd345a015b
Author: James Hadfield <hadfield.james@gmail.com>
Date:   Mon Oct 18 11:16:40 2021 +1300

    Remove postinstall step
    
    The postinstall script created `./data` and `./narratives` directories, but is now obsolete. The `get-data` script will create its own `./data` directory, and the docs identify when this should be run. There is no script to automatically fetch narratives.
    
    Removing this from the postinstall step means that `env` is not necessary for an auspice install, which should facilitate installation on windows.

commit 3783a78091ff7a98d92e464daefb4a16b4d48077
Author: eharkins <eli.harkins@gmail.com>
Date:   Thu Oct 7 12:32:33 2021 -0700

    collapsible filter lists in footer;
    
    see https://github.com/nextstrain/ncov/pull/738#issuecomment-933749455

commit dbd40e48d661024a6e06c96fd6904ac8e357efbd
Author: Elias Harkins <eli.harkins@gmail.com>
Date:   Fri Oct 1 15:51:42 2021 -0700

    Update building the docs instructions

commit 9d4b29e5fa29a98576484fe7e6bf8e5c75f3c7f0
Author: Thomas Sibley <tsibley@fredhutch.org>
Date:   Mon Sep 27 14:58:21 2021 -0700

    narratives: Set max-width on images in the main (right-hand) panel
    
    This prevents wide or high-resolution images from exceeding the panel's
    width, which is important for visibility, especially since the main
    panel doesn't scroll horizontally.

commit f6f92136eb947c54ee3b97f41cb3c73be34f4095
Merge: a22b82b0 e5f790db
Author: Elias Harkins <eli.harkins@gmail.com>
Date:   Thu Sep 23 14:33:51 2021 -0700

    Merge pull request #1401 from nextstrain/parse-metadata-fix
    
    XLSX.read use raw option to avoid parsing issue;

commit e5f790dbd0ff0ff8f01b353493d91e3d752ac0a9
Author: eharkins <eli.harkins@gmail.com>
Date:   Fri Sep 17 17:17:37 2021 -0700

    XLSX.read use raw option to avoid parsing issue;
    
    addresses #1395

commit a22b82b02d39380092e2d1cbaefc295d270dbd1b
Author: James Hadfield <hadfield.james@gmail.com>
Date:   Thu Sep 16 13:53:07 2021 +1200

    version bump to 2.31.0 for release

commit 302ef6dd1d5c8bfcdd4c3a2c51d92299faababeb
Author: James Hadfield <hadfield.james@gmail.com>
Date:   Thu Sep 16 13:52:29 2021 +1200

    changelog

commit e48e4326240740bc9a1053f1f71849e89e597d85
Merge: 8e686ed4 f435407e
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Thu Sep 16 13:49:26 2021 +1200

    Merge pull request #1392 from nextstrain/up-branch
    
    Improve ability to zoom out in the tree

commit f435407e0341e0eb8e51a6f658716d57347ceeec
Author: Jover <joverlee521@gmail.com>
Date:   Tue Sep 14 12:42:36 2021 -0700

    [tree] zoom out of both trees
    
    The zoom out button also zooms out of the second tree if its root index
    is not 0. This means the zoom out button will affect both trees if they
    are both zoomed in. If the user wants to zoom out of one specific tree,
    they would have to use the old method of clicking on the root branch
    of the tree.
    
    This pattern makes sense to me since the user already has to click on
    each tree individually to zoom in. The previously existing buttons for
    zoom to selected and reset layout also affects both trees.

commit f84bd08bea84dd8746c23436df25dc05fdba50b3
Author: Jover <joverlee521@gmail.com>
Date:   Tue Sep 14 12:27:38 2021 -0700

    [tree] Update zoom out icon
    
    Use an icon that is more universally interpreted as "zoom out".

commit 28506c3ce14fafa51dff09bdc56f685db0a2ca86
Author: James Hadfield <hadfield.james@gmail.com>
Date:   Tue Sep 14 19:42:23 2021 +1200

    [tree] add button to zoom out
    
    Our previous method for zooming out worked well when the root-branch of the clade itself had some horizontal length (i.e. it wasn't a very short temporal branch, or a branch with ~zero divergence). This proved problematic in many situations, especially when viewing outbreak trees which often had clades with little divergence.
    
    The solution here adds a small icon button to the current row of buttons above the tree. This icon becomes active when the tree is zoomed.
    
    Note that this is only implemented for the main (left) tree at the current time. A second (tangle) tree can still be zoomed by the previous method.

commit 8b4667f6b519fae7002bff6d4c625c19ca9a0373
Author: James Hadfield <hadfield.james@gmail.com>
Date:   Tue Sep 14 19:08:58 2021 +1200

    [tree] improve x axis padding
    
    The clipping introduced in v2.30.0 often obscured the stem of the root node for rectangular trees, resulting in it being hard to click on this branch to zoom out. Here we modify the domain of the x axis to allow space for such a branch to be rendered, iff the tree is zoomed.
    
    Note that this does not solve the bigger issue of hard-to-find root branches!

commit 8e686ed48d93bf3c38220a1f4a2a0b5ba44ce3db
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Tue Sep 7 20:54:09 2021 +1200

    version bump to 2.30.0 for release

commit 2d56dedd97a023919b1de3aff06c8949cfbe410e
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Tue Sep 7 20:52:40 2021 +1200

    changelog

commit 8fdbb2388073449f595a09bc4918329b0712af04
Merge: 4aac28d9 ca4c4176
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Tue Sep 7 20:46:13 2021 +1200

    Merge pull request #1383 from nextstrain/clip-tree
    
    Clip tree to improve visibility of axes

commit 4aac28d9f33c0cfcd4e1735e83065ded4c6308df
Merge: 56afe6d8 5441324f
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Tue Sep 7 20:42:16 2021 +1200

    Merge pull request #1305 from nextstrain/bug-narratives-frequencies
    
    Unify data loading between narrative and non-narrative modes

commit 56afe6d832cceb05d692148841f0c8513bf3564c
Merge: 3ff0f755 e4c91f44
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Tue Sep 7 20:27:30 2021 +1200

    Merge pull request #1386 from nextstrain/drag-drop-excel
    
    Drag-and-drop Excel

commit e4c91f44ab59fa99e5d751648f4881dc3edb8944
Author: Jover <joverlee521@gmail.com>
Date:   Fri Aug 27 19:13:38 2021 -0700

    rename parseCsvTsv to parseCsv

commit 78b3671d74d055a9489207adf2f0f51cc2f18153
Author: Jover <joverlee521@gmail.com>
Date:   Fri Aug 27 19:05:35 2021 -0700

    docs: add Excel to drag-and-drop section

commit abd46d555d05a63c63c5357d3799435743688e31
Author: Jover <joverlee521@gmail.com>
Date:   Fri Aug 27 18:42:18 2021 -0700

    drag-and-drop: support metadata in Excel format
    
    Uses the xlsx package to convert dropped files to a CSV string that
    can then be parsed by Papa Parse. Currently only reads the first sheet
    of Excel files.
    
    We continue to use Papa Parse instead of using `xlsx.utils.sheet_to_json`
    because papaparse has built in options for `comments` and `dynamicTyping` that
    are not available in xlsx.

commit 3ff0f755f996cc8aecb7fdeb859d1dd7d6ac4396
Author: Thomas Sibley <tsibley@fredhutch.org>
Date:   Wed Sep 1 11:04:06 2021 -0700

    Fix broken links to install page in documentation

commit d598c41885da7ae1837ff9c7b74bd1fb109bd258
Author: Jover <joverlee521@gmail.com>
Date:   Fri Aug 27 16:16:38 2021 -0700

    add xlsx npm package

commit 5441324f9ccb25c8ebbbd5d9438252b0faf2b8aa
Author: James Hadfield <hadfield.james@gmail.com>
Date:   Wed Aug 11 17:36:50 2021 +1200

    Allow tanglegrams to be used in narratives
    
    This fixes a longstanding (perhaps undescovered) bug where narratives
    could not both define different datasets per slide and have one of those
    datasets be a tanglegram.

commit e83e82676ef02ba79b8b8602c3c39012d8082ce6
Author: eharkins <eli.harkins@gmail.com>
Date:   Fri Mar 26 17:04:41 2021 -0700

    Load sidecar files when changing narrative datasets
    
    This complements the previous commit to allow narrative slide-changes to
    change datasets by querying the cache set up at narrative load.
    Appropriate sidecar files are also loaded, and we ensure that
    sidecar data from the previous dataset is not displayed.
    
    This work is based upon PR #1312 by eharkins.
    
    Co-authored-by: eharkins <eli.harkins@gmail.com>

commit c1900570546f37771dbc187c69def42711df91d2
Author: James Hadfield <hadfield.james@gmail.com>
Date:   Tue Mar 16 12:14:34 2021 +1300

    Make dataset loading more consistent
    
    These changes were motivated by
    [#1283](https://github.com/nextstrain/auspice/issues/1283) which arose
    as we used different code paths for loading a dataset viz and a
    narrative.
    
    Here we represent each dataset by a `Dataset` object. This is used for
    stand alone datasets, each dataset in a tangletree, and each dataset in
    a narrative. Each dataset instance describes the various API endpoints
    of datafiles for each dataset, manages fetching of these datafiles and,
    where appropriate, can dispatch data to update redux state.
    
    This has been tested on various single datasets, tangle-trees, and
    narratives in this repo. Notably, this commit breaks narratives with
    multiple datasets; this will be fixed in a subsequent commit to
    reflect Eli's work in PR #1312.

commit 9a9bf2d766329475027eefe754d6d1ef5dd01db3
Author: James Hadfield <hadfield.james@gmail.com>
Date:   Thu Feb 11 14:21:19 2021 +1300

    Add narrative to test multiple datasets with sidecar files
    
    This replaces the functionality of narratives/test_multiple-datasets.md
    which is removed.

commit ca4c4176795b6a903239469111920fc6e1294f46
Author: James Hadfield <hadfield.james@gmail.com>
Date:   Wed Jul 28 18:21:04 2021 +1200

    Clip tree elements to improve aesthetics
    
    This (essentially) clips branches, tips and grids to the range of the
    {x,y} scales in order to prevent branches / tips from obscuring the axes
    
    The clipping of grid lines in radial view is not perfect here.

commit 10f9ec7a06e54c3efe09fc82b60a94710e194b8c
Author: James Hadfield <hadfield.james@gmail.com>
Date:   Wed Jul 28 17:47:30 2021 +1200

    Improve tree margins
    
    Maximizes the amount of space available for rendering, whilst still
    allowing axes labels as needed. Moving the `margins` definitions
    into `mapToScreen()` makes them easier to reason with.

commit 8c283941c1fee151cc78b7ba8d140783a1676a2a
Merge: a7d5d4c1 90e695fe
Author: Trevor Bedford <trevor@bedford.io>
Date:   Mon Jul 26 10:39:06 2021 -0700

    Merge pull request #1382 from nextstrain/attribution-link
    
    Include attribution link with gisaid_epi_isl

commit 90e695fe67286c09eeb42b9d91eecb29c18f6bf4
Author: Trevor Bedford <trevor@bedford.io>
Date:   Sat Jul 24 10:25:10 2021 -0700

    Include attribution link with gisaid_epi_isl
    
    This updates behavior to match what we were doing for genbank_accession. We special case both genbank_accession and gisaid_epi_isl and construct direct DB links when these are present rather than using the accession / url metadata pair.
    
    This update allows users to lookup attribution info for individual samples even if workflow metadata did not include this attribution data.

commit a7d5d4c105a30f634e02a06842dc1c85bdd9af28
Merge: 4a89db88 9957cfda
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Mon Jul 19 15:42:21 2021 +1200

    Merge pull request #1381 from nextstrain/docs-gisaid
    
    Improve documentation

commit 9957cfdae6241c2bff2a9a7875e7fe64995364e0
Author: James Hadfield <hadfield.james@gmail.com>
Date:   Mon Jul 19 12:39:23 2021 +1200

    Improve documentation around how to build docs

commit 62cde8e21d6f66251ec094fba06d5bbda7a68fc6
Author: James Hadfield <hadfield.james@gmail.com>
Date:   Mon Jul 19 12:33:22 2021 +1200

    Document GISAID-specific changes in behavior

commit 4a89db887c5821568439692ec6c7635732891559
Author: James Hadfield <hadfield.james@gmail.com>
Date:   Fri Jul 16 13:31:26 2021 +1200

    changelog

commit ea8b047b156b35b341c3967961e39f7f2ba15598
Author: James Hadfield <hadfield.james@gmail.com>
Date:   Fri Jul 16 12:53:32 2021 +1200

    version bump to 2.29.1 for release

commit dbc73f119e690e4fdec0a757855fd62558a7ccef
Merge: b11e9210 a3fa1f10
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Fri Jul 16 12:50:57 2021 +1200

    Merge pull request #1380 from nextstrain/travis
    
    Update TravisCI config

commit a3fa1f10b0401c067b6cae5a3b45dd5dabce32d1
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Fri Jul 16 11:17:00 2021 +1200

    Only publish to npm using Node.js 14
    
    Our previous config would run `npm publish` for each node_js
    version (previously this was n=2, it's currently n=3). This
    resulted in errors as we were trying to publish the same (auspice)
    version number multiple times. This may or may not be related to
    the integrity shasum errors for auspice 2.29.0.

commit 2abc6cb84bfa633f352a6b2ec21188a3a4af016e
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Fri Jul 16 11:13:09 2021 +1200

    Update supported Node.js versions
    
    Node 10 LTS support has ended, so we drop this from the "recommended"
    engines. TravisCI also updated to use the three even-numbered releases
    currently supported. Currently v12 is in Maintenance LTS, v14 is
    Active LTS and v16 is Current.
    
    npm 6.9 is the default version which shipped with NodeJS 12.

commit b11e9210242966479849af4d5f53c265d556a220
Author: James Hadfield <hadfield.james@gmail.com>
Date:   Thu Jul 15 17:28:51 2021 +1200

    version bump to 2.29.0 for release

commit 8b131bcc007a4a6907325da2751bc26d9e920a7c
Author: James Hadfield <hadfield.james@gmail.com>
Date:   Thu Jul 15 17:28:14 2021 +1200

    changelog

commit cfbab4a27adc27dc2c0995405459d32c3f4e6946
Merge: f7e612c4 f57236bb
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Thu Jul 15 15:58:23 2021 +1200

    Merge pull request #1377 from nextstrain/docs
    
    [docs] detail how to set custom mapTiles

commit f57236bbcf86898da13d1914939c7a13a1ae1104
Author: James Hadfield <hadfield.james@gmail.com>
Date:   Thu Jul 15 15:55:30 2021 +1200

    [docs] detail how to set custom mapTiles
    
    Closes #1286

commit f7e612c4a516000889b16547e78375bfe80a45c7
Merge: 56279c80 0d2a28a1
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Thu Jul 15 15:25:34 2021 +1200

    Merge pull request #1375 from nextstrain/tooltip-width
    
    Dynamically set infoPanel.hover width

commit 56279c80b95c0da8fd49e45b3a3e2bc991a74153
Merge: 13d13afc 0254c77a
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Thu Jul 15 15:10:53 2021 +1200

    Merge pull request #1370 from nextstrain/hidden-branch-labels
    
    Don't display branch labels for inactive branches

commit 13d13afc21aea32aefaf6e8484af53871fea3fc9
Merge: c0ff4e45 b060167e
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Thu Jul 15 15:09:37 2021 +1200

    Merge pull request #1372 from nextstrain/tip-filters
    
    Inactivate tips when no longer focused

commit c0ff4e456f55ff907623b146599b530ca88c80c4
Merge: 35d90f1e f05d78fa
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Thu Jul 15 15:06:12 2021 +1200

    Merge pull request #1371 from nextstrain/filters
    
    Allow hiding of all filters in a category

commit 35d90f1ec1a719a5f7f77065ebe7ae883ff9f100
Merge: 6bbbe3fd 96091c9b
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Thu Jul 15 15:04:04 2021 +1200

    Merge pull request #1355 from nextstrain/color-scale-bug
    
    [bugfix] generate colour scales for 37 values

commit 0d2a28a1a24f2a8050caff70cadac948d35d389f
Author: Trevor Bedford <trevor@bedford.io>
Date:   Tue Jul 13 16:42:58 2021 -0700

    Dynamically set infoPanel.hover width
    
    This sizes up width of infoPanel.hover, eg "tooltip", when the Tree panel is wider. This helps with two issues:
    
    1. Longer strain names don't wrap into as many lines and thus look better
    2. This often decreases height of tooltip and thus helps with vertical overflow
    
    Specific relationship between panel width and tooltip width was set via experimentation, but the panel can roughly support a tooltip half its width.

commit 6bbbe3fddde7120fe486022a86015f8945ab6821
Author: Trevor Bedford <trevor@bedford.io>
Date:   Tue Jul 13 16:09:38 2021 -0700

    Revise get-data script with revised file names
    
    The primary "ncov" analyses have moved to ncov/gisaid/global, etc...

commit b060167e24f2a55e24b0e0786c47e9f4dfceb5e0
Author: James Hadfield <hadfield.james@gmail.com>
Date:   Fri Jul 9 15:16:03 2021 +1200

    Inactivate tips when no longer focused
    
    Selecting a tip (and the corresponding info panel modal) is intrinsically linked to setting a single active "strain" filter. When clicking away from this modal the filter was removed.
    
    This caused issues in the situation where "a tip is selected under a filter, then you click on that tip to see more information, when you click away to close the box, the filter is removed."
    
    The solution here is to inactivate the strain filters when removing the info panel. This has the benefit (bug?) of keeping a history of clicked tips in the form of inactive filters. (Note that all strain filters can be removed by a single click in the sidebar filter badge.)
    
    Closes https://github.com/nextstrain/auspice/issues/1357

commit f05d78fa5e876dd561c7c2042834530ff1f6b98b
Author: James Hadfield <hadfield.james@gmail.com>
Date:   Fri Jul 9 14:11:10 2021 +1200

    Improve styling of filter badges in sidebar
    
    The sidebar background can change (via customisations). This forces the inactive state of a filter to have a white background. This was the expected behaviour, as previously inactive badges were only displayed on the main part of the page where the background was always white.

commit d81700f177c267269afd7f83572024de359369e2
Author: James Hadfield <hadfield.james@gmail.com>
Date:   Fri Jul 9 14:08:44 2021 +1200

    Allow hiding of all filters in a category
    
    Expands the functionality of the sidebar filter badges to allow inactivation of all (active) filters in a category.
    
    The choice was made to keep a sidebar badge "active" if any of its constituent filters was active. For example, if there were a mixture of 3 active and 2 inactive country filters (displayed at the top of the page), then the sidebar badge will be active and show "3 x country", with the option to inactivate those 3 filters, or remove all 5.
    
    Closes https://github.com/nextstrain/auspice/issues/1358

commit 0254c77a84d28c16a77f88fb7b1b020c0d47a991
Author: James Hadfield <hadfield.james@gmail.com>
Date:   Fri Jul 9 13:02:39 2021 +1200

    Don't display branch labels for inactive branches
    
    Closes https://github.com/nextstrain/auspice/issues/1335

commit 6fbd8eb5b3c799dce6b6698fc3f0c9f573cf40f6
Author: Trevor Bedford <trevor@bedford.io>
Date:   Mon Jul 5 17:40:59 2021 -0700

    version bump to 2.28.0 for release

commit ed01d98e685c37ac07836a68bb4290ea444bdb7c
Author: Trevor Bedford <trevor@bedford.io>
Date:   Mon Jul 5 17:38:24 2021 -0700

    Update changelog

commit 7db03a615ca4bff41ec639d128d787a79570529b
Merge: f1f98247 9fc50515
Author: Trevor Bedford <trevor@bedford.io>
Date:   Mon Jul 5 17:28:22 2021 -0700

    Merge pull request #1367 from nextstrain/metadata-header
    
    Cleanup metadata headers

commit f1f98247499fc0e168153ff3ac51ed2b71894d8b
Merge: 00a8e816 19d7784e
Author: Trevor Bedford <trevor@bedford.io>
Date:   Mon Jul 5 17:27:05 2021 -0700

    Merge pull request #1366 from nextstrain/gisaid-metadata-download
    
    Remove metadata download from GISAID datasets

commit 9fc50515960ca2ac539fd133f485796b8815b4b7
Author: Trevor Bedford <trevor@bedford.io>
Date:   Sat Jul 3 14:16:47 2021 -0700

    Cleanup metadata headers
    
    This commit cleans up naming of metadata headers in downloaded metadata TSV. It does the following:
    1. Keeps headers as input into "augur export" rather than renaming by title. Thus it has "originating_lab" rather than "Originating lab", "pango_lineage" rather than "PANGO lineage", etc... This should make it easier for people to process downloaded metadata from Auspice alongside metadata provisioned by Nextstrain (via GISAID or via S3).
    2. Makes "date" the second column as this is often what's most important. I couldn't figure out a way to intelligently order remaining fields. My first thought was to use metadata.colorings, but this isn't sorted.
    3. Fixes "accession". It had been exporting as "[object Object]".

commit 19d7784ea041f8a0f0f032b9a5b2e39bbbc25f32
Author: Trevor Bedford <trevor@bedford.io>
Date:   Sat Jul 3 12:25:05 2021 -0700

    Remove metadata download from GISAID datasets
    
    This commit uses dataProvenance in metadata to identify datasets using "GISAID" data. For these datasets, the full metadata download is swapped to an "acknowledgments" download that only includes the following fields:
     - strain
     - gisaid_epi_isl
     - genbank_accession
     - originating_lab
     - submitting_lab
     - author

commit 00a8e8160ee9772a7337b84a562211a1b4dab34e
Merge: 5132a1c1 7af7fd74
Author: Trevor Bedford <trevor@bedford.io>
Date:   Sat Jul 3 10:53:28 2021 -0700

    Merge pull request #1364 from nextstrain/footer-styling
    
    Styling adjustments to footer text

commit 7af7fd7405d00fc16ac277005c6feca4286a11f6
Author: Trevor Bedford <trevor@bedford.io>
Date:   Tue Jun 29 18:51:04 2021 -0700

    Styling adjustments to footer text

commit 96091c9b44216a6a3306be6162c96aacaae7764c
Author: James Hadfield <hadfield.james@gmail.com>
Date:   Tue Jun 8 13:09:48 2021 +1200

    [bugfix] generate colour scales for 37 values
    
    Our colour-scale generation logic contained a bug where we couldn't
    have domains of length 37 (off-by-one error).
    
    Closes https://github.com/nextstrain/auspice/issues/1354

commit 5132a1c1d063761eb02dc5434a8316c6d5be7085
Author: James Hadfield <hadfield.james@gmail.com>
Date:   Sat Jun 5 12:59:06 2021 +1200

    version bump to 2.27.0 for release

commit c2e89c768958dc937e73e7158db53ee9f2cb0693
Author: James Hadfield <hadfield.james@gmail.com>
Date:   Sat Jun 5 12:18:32 2021 +1200

    changelog

commit d1801b1667a8b20c27c7616bcb45c3be7f9734c5
Merge: 7e40fdfb bdceae67
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Sat Jun 5 12:10:34 2021 +1200

    Merge pull request #1353 from nextstrain/grayscale-ramp
    
    Adjust grayscale color ramp

commit bdceae67be3fe88e0cd2b55233dcf478947c8923
Author: Trevor Bedford <trevor@bedford.io>
Date:   Fri Jun 4 15:20:16 2021 -0700

    Inject a bit of color into the "grayscale" color ramp
    
    This adds a bit of blue into the grayscale color ramp. Still reads as mostly gray, but no colors seem to exist more in the same universe as canonical auspice color ramp.

commit f50693252344707c01bacad4631e6308397cba4d
Author: Trevor Bedford <trevor@bedford.io>
Date:   Thu Jun 3 17:23:41 2021 -0700

    Adjust grayscale color ramp
    
    The existing grayscale color ramp (used for values absent in an explicitly specified color scale) had values that were too dark and threw off the overall color balance. This commit narrows the grayscale color ramp to be more in line with pastel color ramp.

commit 7e40fdfb5fd24fd2b65da341e8446147d93a03c8
Merge: db9d174e e56079f7
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Wed Jun 2 10:39:15 2021 +1200

    Merge pull request #1352 from nextstrain/regression-clock-fix
    
    Always show regression toggle for clock layout

commit e56079f765a2ca02ae43edd0aeb0ea9b63404023
Author: James Hadfield <hadfield.james@gmail.com>
Date:   Sat May 29 12:55:13 2021 +1200

    Always show regression toggle for clock layout
    
    Fixes a bug where the ability to toggle regression lines was hidden for clock views. (The ability to hide this toggle is only intended for scatter layouts, where we should not expose the toggle unless both axes are showing continuous variables.)

commit db9d174ee5af016def21b64de4b131333f1d8b11
Author: James Hadfield <hadfield.james@gmail.com>
Date:   Tue May 25 11:48:45 2021 +1200

    version bump to 2.26.0 for release

commit 5d1232e589497d2f477d362d0ecdcb33b4fc85f0
Author: James Hadfield <hadfield.james@gmail.com>
Date:   Tue May 25 11:48:18 2021 +1200

    changelog

commit d4dd9559a91d664d346ea43cf4fa5208eed37257
Merge: 797090f8 78ca4cba
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Tue May 25 11:25:41 2021 +1200

    Merge pull request #1344 from didithilmy/filter-search-alg
    
    Use filterOptions to modify filter search algorithm

commit 797090f8092ffe1291b58efd113d2c5def8b092a
Merge: b58f1488 e370dd6b
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Tue May 25 11:09:03 2021 +1200

    Merge pull request #1328 from nextstrain/legend-overflow-text
    
    Apply clipping to first column of legend

commit e370dd6b6707bbc16f1fae5522ae46edabcf40fe
Author: James Hadfield <hadfield.james@gmail.com>
Date:   Wed Mar 31 11:26:10 2021 +1300

    Apply clipping to first column of legend
    
    We have had issues in the past with legend values from column 1 overflowing into column 2. For instance, issue #899 was fixed by PR #914 which implemented a maximum character limit for legend names. This solution can produce misleading views, such as those described in #1306.
    
    This solution implements a clipping mask for column 1, avoiding the complication of limiting the string size. Column 2 already has similar behaviour because the SVG element of the legend itself performs the clipping.

commit b58f14889924ca887587d5a65d623b97d0ed1b32
Merge: e47d9e25 898a387d
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Tue May 25 10:23:55 2021 +1200

    Merge pull request #1346 from nextstrain/ordinal-scatterplots
    
    Allow non-continuous scatterplot variables

commit 898a387de488233eba70570ae15b39c52606be63
Author: James Hadfield <hadfield.james@gmail.com>
Date:   Fri May 21 20:18:08 2021 +1200

    Add jitter to categorical scatterplots

commit 442dd0be284ffc7af6289adfc29800820d675fbb
Author: James Hadfield <hadfield.james@gmail.com>
Date:   Fri May 21 19:29:09 2021 +1200

    Improve padding for categorical scatterplot variables
    
    This prevents nodes falling on the axis itself or at the very end of
    the grid, which was especially noticeable for traits with small domains.

commit d55a888320cb2a4b6d2fa896ccb8936832589a59
Author: James Hadfield <hadfield.james@gmail.com>
Date:   Fri May 21 17:29:34 2021 +1200

    Allow genotype to be scatterplot variable
    
    Genotype is treated differently to other colorings in two important
    ways: (1) it can change value, for instance when changing the
    colorby to another genotype position and (2) it is stored in a
    different place to other colorings. These require scatterplot logic
    to be more complex as actions are no longer separate - we now require
    a NEW_COLOURS action to potentially update the layout which was
    formerly within the remit of the CHANGE_LAYOUT actions. This is
    achieved through a middleware layer.
    
    This implementation makes it clear that jitter and better domain
    spacing are crucial for scatterplots.

commit e40b03f95d556a966cf79176c8c9efcec965c2ac
Author: James Hadfield <hadfield.james@gmail.com>
Date:   Fri May 21 16:58:09 2021 +1200

    Layout changes occur via redux thunk
    
    This commit is in preparation for allowing genotype to be a scatterplot
    variable. This will complicate the allowable scatterplot variables
    and force these to update upon colorBy changes. This is much cleaner
    if layout is changed in a thunk.

commit 09407cf9b8b33e2095122247f3352eeb2298ae9e
Author: James Hadfield <hadfield.james@gmail.com>
Date:   Tue May 18 16:47:34 2021 +1200

    Allow non-continuous scatterplot variables
    
    This implements a requested improvement to the original
    scatterplot implementation. The implementation hinges on two changes:
    (1) The collection of values for a given variable (e.g. x-var) need
    to be computed and passed to PhyloTree to act as the scale's domain.
    We reuse the colorScale machinery here, which could be optimised
    (see todo messages in code), but this has the advantage that the
    domain ordering matches the legend (unless user supplied).
    (2) PhyloTree needed to be modified to use non-linear scales, in this
    case `pointScale`.
    
    This commit should be fully functional, however there are some
    future improvements to be made:
    
    (i) Grid text is obscured and unreadable when there are many entries
    in the domain.
    (ii) Genotypes and Boolean scales are not yet available.
    (iii) Jitter should be added to nodes to avoid obfuscation.

commit e47d9e25a08b9648f7c3af38358fb9a3da2f7f0a
Merge: a9c0c3f8 142754cc
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Fri May 21 12:29:24 2021 +1200

    Merge pull request #1347 from nextstrain/automate-prs
    
    GitHub Action to create nextstrain.org PR

commit 142754cca9151193a37484ebc70ec421f7989a21
Author: James Hadfield <hadfield.james@gmail.com>
Date:   Wed May 19 17:42:56 2021 +1200

    GitHub Action to create nextstrain.org PR
    
    This action will run on each auspice PR and create a corresponding
    PR on nextstrain.org which includes a commit using the version
    of auspice from this (auspice) PR. This functionality is extremely
    useful for auspice development as it will allow us to use a Heroku
    review app to test auspice in the context of nextstrain.org
    
    There are a number of future improvements to implement:
    
    * New auspice releases (tagged commits on `release` branch)
    would ideally create a PR on nextstrain.org which could be merged
    to update the version of auspice there.
    
    * Other consumers of auspice (e.g. auspice.us) could be added to this
    GitHub Action.

commit 78ca4cba0eba5158c468df557664fab464b52523
Author: Muhammad Aditya Hilmy <mhilmy@hey.com>
Date:   Wed Mar 10 15:02:39 2021 +0700

    Use filterOptions to modify search alg

commit a9c0c3f8955c9bba67f7a88f25242ceb6c186632
Merge: a0e9080d aa94ea21
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Fri Apr 30 12:42:55 2021 +1200

    Merge pull request #1340 from nextstrain/continous-color-scale-improvements
    
    Continous color scale improvements

commit aa94ea2150e2f119056da3f79a6fed9962993d16
Author: James Hadfield <hadfield.james@gmail.com>
Date:   Thu Apr 29 17:34:51 2021 +1200

    Extend user-provided legend info beyond continuous scales

commit 09d3a99cef3a30659afe9d02ab4335a1a2f0e993
Author: James Hadfield <hadfield.james@gmail.com>
Date:   Thu Apr 29 14:31:49 2021 +1200

    Legend bound matching is (a, b] for continuous scales
    
    This restores the algorithm used to associate a hovered legend
    item to tips for continuous variables. Commit
    0f37b1ac2bff354115e47e14719e7fef4cb282fb (Mar 2018) incorrectly changed
    this to `tip \in [a, b]` rather than the intended (and documented)
    `tip \in (a, b]`.
    
    This takes on more importance given that the previous commit allows
    user-defined bounds.
    
    Note that the frequencies panel already used `(a, b]` matching, so now
    the legend matching mirrors this.

commit 07507b1f00f186d524377d457e483e3e949fdb16
Author: James Hadfield <hadfield.james@gmail.com>
Date:   Wed Apr 28 18:12:49 2021 +1200

    Allow legend entries to be user-defined
    
    This allows continuous colour scales to define custom legend
    entries, via a `legend` key in the JSON. This allows control
    over the values in the scale which we use as legend elements,
    the displayed text, and the range of values which each entry covers.
    
    Bounds are enforced to be non-overlapping. If overlapping bounds
    are detected, we revert to Auspice dynamically generating these.
    (This is a requirement for future work which will map continuous
    tip values to a legend entry, which will allow pie-chart display
    using the legend swatches.)

commit c3bdee13f4c971b283f0b9589dfb4f039d136307
Author: James Hadfield <hadfield.james@gmail.com>
Date:   Wed Apr 28 16:17:57 2021 +1200

    Allow continuous colorings to define anchor points
    
    The schema currently allows datasets to provide a scale for non-
    continuous scales where specific trait values are given colour hexes
    (missing values are given greys by auspice).
    
    Here we extend this to continuous scales by interpreting the same
    data structure as anchor points which we interpolate between using
    the same method as we currently use for generating default continuous
    color scales (d3's `interpolateRgb`)

commit a0e9080dcd61249f24f6c822dfcf6478e4e07ac2
Merge: 8f87bc9e eb7f7b4f
Author: Richard Neher <richard.neher@unibas.ch>
Date:   Sat Apr 10 15:58:11 2021 +0200

    Merge pull request #1325 from nextstrain/explore-normalization-fix
    
    Make frequencies tend to 0 in absence of data

commit eb7f7b4f75791bcfe15afd656f9b7da00ae2740a
Author: Richard Neher <richard.neher@unibas.ch>
Date:   Wed Apr 7 20:30:35 2021 +0200

    remove unassigned variable

commit 17a4abab89daa4181abc5fc8b4a28dfa380ebadc
Author: Richard Neher <richard.neher@unibas.ch>
Date:   Wed Apr 7 12:26:14 2021 +0200

    reduce frequency normalizaton threshold to single constant

commit a98451e51b8911c104c4b796835db37cfc45d929
Author: Richard Neher <richard.neher@unibas.ch>
Date:   Wed Apr 7 12:19:41 2021 +0200

    set frequencies explicity to 0 if total is too low

commit 8f87bc9e1ae2aee4a006a12cb217f281e1c8612f
Author: James Hadfield <hadfield.james@gmail.com>
Date:   Wed Apr 7 11:30:30 2021 +1200

    version bump to 2.25.1 for release

commit 130b869bc3c7d6b7c0ba335200b144265f0fbcf3
Author: James Hadfield <hadfield.james@gmail.com>
Date:   Wed Apr 7 11:29:03 2021 +1200

    changelog

commit 9650943926b2bc8eada8ba87427027cdfce81e64
Merge: f6157ce6 40927722
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Wed Apr 7 11:23:32 2021 +1200

    Merge pull request #1332 from nextstrain/scatterplot-fixes-2
    
    [PhyloTree] branch label bugfix

commit edeb19a0eb955bbeb17da4cf1cf85860e68c3b03
Author: Richard Neher <richard.neher@unibas.ch>
Date:   Tue Apr 6 18:37:22 2021 +0200

    lint appeasment

commit 15c76af988464f73d6b14fe8d5a24f26196248b7
Author: Richard Neher <richard.neher@unibas.ch>
Date:   Tue Apr 6 18:15:54 2021 +0200

    increase padding value for frequencies

commit 40927722ffff526bcf4eb560a927d203f3d10908
Author: James Hadfield <hadfield.james@gmail.com>
Date:   Thu Apr 1 13:31:16 2021 +1300

    [PhyloTree] branch label bugfix
    
    Fixes a bug where we sometimes ask PhyloTree to update the branch labels
    for a view without any branch labels, which would cause auspice
    to crash.
    I first tried to fix this in a80e1869956daa0c63a0bfc5f564745023263358
    but that didn't cover all the situations when this could arise.

commit f6157ce6ffbb52492133ef503296b7b65c88c8b4
Author: James Hadfield <hadfield.james@gmail.com>
Date:   Wed Mar 31 13:45:01 2021 +1300

    version bump to 2.25.0 for release

commit 2900c7b469ec5317a88ca785e3b4169bb651b09b
Author: James Hadfield <hadfield.james@gmail.com>
Date:   Wed Mar 31 13:42:25 2021 +1300

    changelog

commit f715f0b268f57ba6aaa60faed72c4a9704fa2f54
Merge: 75913550 ca445241
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Wed Mar 31 13:03:01 2021 +1300

    Merge pull request #1327 from nextstrain/filter-data-labels
    
    Use trait titles for data filter display

commit 759135501e94596a47d1817b18f3447eba7c1248
Merge: 946e2105 a80e1869
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Wed Mar 31 11:04:56 2021 +1300

    Merge pull request #1326 from nextstrain/scatterplot-minor-fixes
    
    Scatterplot minor fixes

commit ca445241f9cfe4d2f7d926e996b079a2efe838e6
Author: James Hadfield <hadfield.james@gmail.com>
Date:   Wed Mar 31 10:59:13 2021 +1300

    Use trait titles for data filter display
    
    Each coloring variable is defined by both a "key" and a "title". Keys
    are (largely) used internally, whereas titles are intended for user-
    facing display. This commit improves the "Filter Data" sidebar UI
    to use titles, resulting in a more consistent (and nicer) UI.
    
    Closes #1322

commit 7b9495b107517008ef5d1dca7466e83f3db2984a
Author: Richard Neher <richard.neher@unibas.ch>
Date:   Tue Mar 30 23:42:03 2021 +0200

    make frequencies tend to 0 in absense of data

commit a80e1869956daa0c63a0bfc5f564745023263358
Author: James Hadfield <hadfield.james@gmail.com>
Date:   Wed Mar 31 10:22:44 2021 +1300

    [phylotree] fix edge cases surrounding display of branch labels
    
    Fixes a couple of edge cases introduced by the scatterplot functionality which would result in a tree rendering with branch labels when it shouldn't have them (and vice versa).

commit 0751e819d7417d9657fbf8c8044e608b8c7ffd76
Author: James Hadfield <hadfield.james@gmail.com>
Date:   Wed Mar 31 10:10:22 2021 +1300

    [phylotree] fix case where x-axis grid wasn't present
    
    A missed conditional resulted in certain configurations of the scatterplot "missing" the x-axis grid. (The grid was incorrectly being calculated for a temporal scale, which resulted in no meaningful grid lines.)
    
    Closes #1323

commit 946e2105a5bff32d78c25da47e1582ccb8fffd54
Merge: 11302dce d80608e7
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Tue Mar 30 17:21:47 2021 +1300

    Merge pull request #1319 from nextstrain/auspice-us-filters-bug
    
    [bugfix] Initialize `filtersInFooter` for all datasets

commit d80608e7f5cb1f384dcbb7b324ef293c4f4b5438
Author: James Hadfield <hadfield.james@gmail.com>
Date:   Tue Mar 30 16:54:09 2021 +1300

    [bugfix] Initialize `filtersInFooter` for all datasets
    
    This fixes a bug noticed in auspice.us [1] where certain
    datasets would not have the `controls.filtersInFooter` state set,
    causing a crash when metadata was dropped on. Type / prop checking
    would have alerted us to this.
    
    [1] https://github.com/nextstrain/auspice/issues/1304

commit 11302dceaf04a9a673604c22d030e7a87dac76bc
Merge: 93a171a0 135d999e
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Tue Mar 30 16:46:38 2021 +1300

    Merge pull request #1301 from nextstrain/frequency-rounding
    
    [frequencies panel] Don't round frequencies below 1%

commit 93a171a0d3b09c4a84427ffa46f30f91cbc7d9fb
Merge: 305b1ab2 38201fbd
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Tue Mar 30 16:13:05 2021 +1300

    Merge pull request #1310 from nextstrain/scatterplot-revisited
    
    Scatterplots

commit 38201fbdbdaaf6c0d2ed87635f330dabba7ae2a6
Author: James Hadfield <hadfield.james@gmail.com>
Date:   Tue Mar 30 14:46:42 2021 +1300

    Render appropriate scatterplot axes grids
    
    This commit updates the logic for deciding the gridlines for both
    x and y axes for scatterplots. Previously we had a very limited range
    of cases to consider here. We now have two general functions available
    for creating grids - one for temporal scales and one for all other
    numeric scales (previously used only for divergence). We will need
    to add a third function when we expand scatterplots to plot
    non-continuous variables.

commit 305b1ab2781f4802a332fbcc51b572b33f65a031
Merge: 3a0bc845 1a4fd726
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Tue Mar 30 13:59:28 2021 +1300

    Merge pull request #1313 from nextstrain/data-provenance
    
    Add support for "data_provenance" metadata

commit e3a96c441254485430dc4433fddcc265fa7b44b8
Author: James Hadfield <hadfield.james@gmail.com>
Date:   Wed Mar 24 19:06:21 2021 +1300

    Store scatterplot state in URL query
    
    See added documentation for available queries

commit 7e714aea2ff0429f53c4a4680abfaf962b69a95b
Author: James Hadfield <hadfield.james@gmail.com>
Date:   Wed Mar 24 15:47:57 2021 +1300

    Unify clock and scatterplot layouts
    
    As the clock view is simply a specific type of scatterplot layout,
    this commit unifies the code and display between these two
    "separate" layouts. We preserve the clock button in the sidebar
    as this is a common action which we want to surface.
    
    **Show branch toggles**
    Are now rendered for both views. The layout of scatterplots does
    not consider internal nodes for calculating the domain if branches
    are not shown. Similarly, branch labels are not displayed if
    branches are not.
    
    **Regression Lines**
    These are now available for both layouts, and are toggled via a UI
    element similar to branches. Previously, the regression would be
    shown for clock layouts _if_ the branch metric was time, however
    the explicit UI element introduced here is better. For scatterplot
    views we calculate the regression with a free intercept, as the root
    node may not have co-ordinates defined (depending on chosen x,y
    variables), and additionally report the R^2.
    The display of the regression text can be improved in future commits.
    
    **Persist chosen state**
    To improve the UX, once a scatterplot has been viewed, we persist the
    x,y  variables for future viewing. Similarly, the toggle state persists
    between clock & scatter layouts.

commit 1a4fd726e4206d005ea86e82431bd8b3162744d6
Author: Trevor Bedford <trevor@bedford.io>
Date:   Mon Mar 29 11:42:36 2021 -0700

    Link out to gisaid.org
    
    This adds a link to gisaid.org from the GISAID logo (when present). It also adjusts parsing so that data_provenance.name == "gisaid" will still get picked up.

commit 79bbde088682ecf557eaf6d06d5c4d83d5312792
Author: James Hadfield <hadfield.james@gmail.com>
Date:   Wed Mar 24 10:47:54 2021 +1300

    Scatterplots improved for continuous variables
    
    This fixes some issues highlighted by the previous commit to improve
    rendering of scatterplots. We now limit scatterplot x,y variable
    choices to continuous-scaled colorings, and leave the display of
    other scale types to future work as this requires PhyloTree to switch
    to a new d3 scale.
    
    As not all nodes may have traits assigned (contrary to other tree
    layouts), we detect and hide those nodes from view, as well as any
    joining branches. We also expose the ability to toggle branches
    on/off.
    
    We also improve the starting variable choices for x & y.

commit 3a0bc84531ec8a4d30dbaa3c9459efaf91a979bb
Merge: 8d1bce24 0bac3b70
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Mon Mar 29 14:11:52 2021 +1300

    Merge pull request #1308 from nextstrain/node-attrs-urls
    
    Allow node traits to define URLs

commit 4506442070f45114dcfdf53b2988f9435235183a
Author: James Hadfield <hadfield.james@gmail.com>
Date:   Mon Mar 29 13:52:09 2021 +1300

    Add support for "data_provenance" metadata
    
    In the early stages of COVID-19, we added support for acknowledging
    GISAID as the source of data in the Byline. This was inferred based
    on domain / dataset name heuristics.
    
    We now support data provenance to be defined in the dataset JSON
    (see https://github.com/nextstrain/augur/pull/705) and all core
    nCoV builds have been updated to include this here. This commit
    parses and renders such information.
    
    Note that a previous commit removed the "Build info" from the byline
    for datasets displaying GISAID (see [0]), which I believe was an
    oversight. This commit reinstates it.
    
    [0] https://github.com/nextstrain/auspice/commit/18d5d21ac731d771c97bbefdc6ca20854fd1e2c2

commit 65d60b644ad9cd8fc2e7d467c757cabbf5ba05b4
Author: James Hadfield <hadfield.james@gmail.com>
Date:   Tue Mar 23 11:31:33 2021 +1300

    Generic scatterplot layouts
    
    This adds a new layout for scatterplots and allows users to choose
    the x and y variables from the available colorings. The defaults are
    the tree metric (x-axis) and the current color-by (y-axis).
    
    The layout algorithm is largely unchanged from the root-to-tip layout.
    This presupposes that node trait values will be numeric, and thus
    map nicely to an axis. Future work will allow scales to map
    non-numeric values (e.g. categorical, ordinal, boolean scales) to
    a d3 domain for rendering. Currently these traits get assigned `0`
    as their x and/or y values.
    
    Similarly, the algorithm presupposes that all nodes (internal and
    terminal) have values and should be rendered. There will be many
    cases where nodes (especially internal nodes) do not have traits
    assigned. In these cases we should hide them from view, and remove
    any connecting branches.
    
    Future work needed:
    * More testing is needed for rare use cases, e.g. trees without
    divergence, datasets with no colorings.
    * Dataset JSONs and URL queries should be able to select the
    scatterplot variables.
    
    This commit is based off previous work by trvrb.
    
    Co-authored-by: Trevor Bedford <trevor@bedford.io>

commit 0bac3b700a617c2ed2797cd1ac89e0e2a3781f51
Author: James Hadfield <hadfield.james@gmail.com>
Date:   Fri Mar 19 14:00:17 2021 +1300

    Improve validation of URLs & add tests
    
    This improves our validation of URLs which should improve app stability.

commit b11618bcaf873916ba4eef697d800ce099c39483
Author: James Hadfield <hadfield.james@gmail.com>
Date:   Fri Mar 19 13:01:03 2021 +1300

    Allow node_traits to define their own URLs
    
    This extends our interpretation of dataset-supplied traits to allow them to define a URL as well as a value. If a url is specified, then the value (in the tip-clicked panel) is rendered as a link.
    
    Closes #1307

commit d7091fc65933e9c5f7872cc4acdae7c21b2f724b
Author: James Hadfield <hadfield.james@gmail.com>
Date:   Fri Mar 19 10:51:05 2021 +1300

    Treat accessions and urls as special node traits
    
    The schema defines these as "special" property, and we use them to render the value and link to be rendered via `<AccessionAndUrl>` within the tip-clicked panel.
    
    These should not be available as valid traits for general display.

commit 8d1bce24b843b5922754fd34300a8a2a1e73e7d7
Author: James Hadfield <hadfield.james@gmail.com>
Date:   Fri Mar 19 09:24:29 2021 +1300

    version bump to 2.24.1 for release

commit 5202755231cb95e66434da194ea79078de2313ec
Author: James Hadfield <hadfield.james@gmail.com>
Date:   Fri Mar 19 09:14:31 2021 +1300

    Ensure metadata.display_defaults exists
    
    A bug was introduced in PR #1280 where datasets which did not
    define `metadata.display_defaults` would crash, as the code assumed
    its existence. This property is optional in the dataset
    JSON.
    
    This commit ensures `display_defaults` exists in redux state after
    a dataset is loaded, thus allowing code to rely on its presence.
    This was preferred to checking for `display_defaults` in (all) the
    relevant sections of code, now and in future.
    
    (Using TypeScript, or expanding our smoke tests, would be approaches
    to avoiding these kinds of bugs in future.)

commit e96d0023eace0dd9743260da0efbe007988cec3e
Author: James Hadfield <hadfield.james@gmail.com>
Date:   Wed Mar 17 09:23:42 2021 +1300

    version bump to 2.24.0 for release

commit cf4d8b984e75fe3ca6e86b8e74b5cb9a158dd966
Author: James Hadfield <hadfield.james@gmail.com>
Date:   Wed Mar 17 09:20:45 2021 +1300

    changelog

commit d3d0dac5ee1e34f4e7bcc090dc102ad8c960a014
Author: Trevor Bedford <trevor@bedford.io>
Date:   Mon Mar 15 09:47:58 2021 -0700

    Fix spelling typo

commit 058d23fe4a2b65adfb004441db37c97d885b49c4
Merge: fe167e35 658f8dcc
Author: Trevor Bedford <trevor@bedford.io>
Date:   Thu Mar 11 16:37:16 2021 -0800

    Merge pull request #1278 from nextstrain/frequencies-default
    
    Enforce unnormalized frequencies when data is lacking

commit fe167e35b848cabe15db6c6a0fb51b2719828f0e
Merge: 7933f73e b8124eca
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Wed Mar 10 15:12:06 2021 +1300

    Merge pull request #1303 from nextstrain/json-lang
    
    Allow JSONs to define language

commit b8124eca8d3d8aee4cce67b19a0e8bedbcd41bc7
Author: James Hadfield <hadfield.james@gmail.com>
Date:   Wed Mar 10 14:53:34 2021 +1300

    Allow JSONs to define language
    
    This is a squashed & rebased version of PR #1221,
    which itself superseded PR #1218.
    
    Closes #1049.
    
    Co-authored-by: Charlie Jones <ctwj88@gmail.com>
    Co-authored-by: eharkins <eli.harkins@gmail.com>

commit 7933f73ea1bc9d7cf672ab342047ebba6bbf8149
Merge: e880ea22 b4f81de1
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Wed Mar 10 13:32:17 2021 +1300

    Merge pull request #1288 from bioinf-mcb/master
    
    Added Polish language

commit e880ea2234fa7d46a543352ab26faf92f5320607
Merge: 1069d306 049a14d9
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Wed Mar 10 13:21:53 2021 +1300

    Merge pull request #1302 from nextstrain/tree-behind-legend
    
    Legend no longer obscures branches/tips.

commit 1069d306ba96cb93378f710a5f64798f014bc870
Merge: d713de07 0a6fb817
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Wed Mar 10 13:17:43 2021 +1300

    Merge pull request #1280 from nextstrain/mutations-to-tip
    
    Show root-to-tip mutations in tip-clicked info box

commit 0a6fb8175d4fc1e33821002a73073d4a03988717
Author: Trevor Bedford <trevor@bedford.io>
Date:   Tue Mar 9 16:04:06 2021 -0800

    Styling adjustments for mutation list

commit 049a14d9ab0679f458d87bd985eb8d81ac5be3a3
Author: James Hadfield <hadfield.james@gmail.com>
Date:   Tue Mar 9 18:02:44 2021 +1300

    Legend no longer obscures branches/tips.
    
    Shifts the top of the tree down slightly so that tips and branches cannot be hidden behind the (closed) legend, which prevents interacting with them. This only happens in rectangular / unrooted trees, as radial / clock views almost never have tips rendered in the top-left corner.

commit 135d999e1a51255d1a1ed845a71064dc0f3cb9fa
Author: James Hadfield <hadfield.james@gmail.com>
Date:   Tue Mar 9 17:07:02 2021 +1300

    [frequencies panel] Don't round frequencies below 1%
    
    When a frequency value is below 1% we now display "<1%" rather than rounding to the nearest integer which could lead to confusing output of  "frequency: 0%".
    
    Closes #1279

commit 658f8dccc34c1789befe1c13589980bd13a099e1
Author: James Hadfield <hadfield.james@gmail.com>
Date:   Tue Mar 9 16:42:45 2021 +1300

    Update frequencies panel when data changes
    
    The frequencies component performed some basic comparisons between the previously rendered data and new data to avoid unnecessary re-renders. This logic was too simplistic and caused a bug where the component wouldn't re-render the graph when the data had indeed changed. This commit skips these checks. This may result in some unnecessary re-renders, however I couldn't find any in my testing.
    
    Closes #1224

commit 0de2197439c13989eb8bdfcbd407d165a7fe6d89
Author: James Hadfield <hadfield.james@gmail.com>
Date:   Tue Mar 9 15:51:52 2021 +1300

    Update normalizeFrequencies flag via redux actions
    
    Upon initial parsing of the frequencies JSON as well as frequency data updates we may set redux→controls→normalizeFrequencies→false. This commit modifies the LOAD_FREQUENCIES and FREQUENCY_MATRIX actions to pass this information to the reducer, rather than updating the redux state directly from within the actions.
    
    I couldn't find any bugs caused by the previous implementation, but this change is more in line with suggested behaviour and should help future-proof work here.

commit bbef8f80af0309413c000055eba54411fb42c72d
Author: James Hadfield <hadfield.james@gmail.com>
Date:   Tue Mar 9 15:32:04 2021 +1300

    Indicate if frequencies can be normalized in sidebar
    
    Previous implementation continued to display the toggle icon but disabled its functionality (by forcing `normalizeFrequencies` to be `false`). Here we replace the toggle with a "not available" message & update the info-popup text.

commit 4fee77738352d86ecd8d08fab474af42c8b5431e
Author: James Hadfield <hadfield.james@gmail.com>
Date:   Mon Mar 8 18:06:48 2021 +1300

    Report all root-to-selected-tip mutations

commit 0653954639cc1749884d92bc809aae2ef97c769c
Author: James Hadfield <hadfield.james@gmail.com>
Date:   Mon Mar 8 18:01:23 2021 +1300

    Ensure unique component keys for rendering

commit ddaff9e8cd69232cb313c4b4f188845d38120955
Author: James Hadfield <hadfield.james@gmail.com>
Date:   Mon Mar 8 17:36:40 2021 +1300

    Correctly handle reversions & multiple mutations
    
    The function `collectMutations` now doesn't report reversions (where the tip state = the ancestral state) and combines multiple mutations (e.g. A->B->C is now A->C rather than two separate mutations).

commit d713de070e62a261e21d68ff0953ad0d8fd0669d
Merge: 954f2bc7 5e76c5ea
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Mon Mar 8 15:32:40 2021 +1300

    Merge pull request #1297 from nextstrain/dates-bce
    
    Correctly format BCE dates

commit 954f2bc7a7c8db087c6bb3f43b93ad85ccf3faa5
Merge: f4fa3fd4 ac4e9d4e
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Mon Mar 8 15:32:20 2021 +1300

    Merge pull request #1298 from nextstrain/bundlesize-increases
    
    Increase bundlesize limits

commit ac4e9d4e8f3c08a9fb3df083f8059c35aa08690e
Author: James Hadfield <hadfield.james@gmail.com>
Date:   Mon Mar 1 16:33:22 2021 +1300

    Increase bundlesize limits
    
    This simply increases the limits to allow CI tests to pass.
    Large bundlesizes are a long-term concern, but given the
    recent bugs regarding bundling and other priorities this change
    essentially pushes improvements here to "sometime in the future"

commit 5e76c5ea2f2c73983a6c6e04fb98f4f19a3372dd
Author: James Hadfield <hadfield.james@gmail.com>
Date:   Mon Mar 1 16:23:08 2021 +1300

    Correctly format BCE dates
    
    BCE dates were correctly interpreted but incorrectly rendered
    due to a bug in the final string-prettying step. This would
    result in a tree with the correct layout and positioning, but
    incorrect labels ("-undefined"). This commit remedies this and
    adds a test.

commit f4fa3fd499bfc89c5813213e21e9dec4d02c2041
Merge: 71365f28 7f0787ad
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Fri Feb 26 15:53:35 2021 +1300

    Merge pull request #1293 from nextstrain/filter-call-stack-size
    
    controls/filter: Avoid spread syntax with potentially large arrays

commit 7f0787ad70f707962030e9975042ea694321706b
Author: Thomas Sibley <tsibley@fredhutch.org>
Date:   Thu Feb 25 12:55:23 2021 -0800

    controls/filter: Avoid spread syntax with potentially large arrays
    
    Push each value individually instead of all at once, which results in
    more method calls but a much smaller call stack size.  Alternatively,
    Array.concat could be used, but this follows the pattern of surrounding
    code and avoids reassignment of "options", which would also necessitate
    removal of the "const" declaration.
    
    The /tb/global build has ~277k genotype states, which resulted in a call
    to Array.push with as many arguments when the spread syntax was used.
    This blew through the call stack size limit on Chrome with an error
    like:
    
        RangeError: Maximum call stack size exceeded
            at FilterData.eval [as makeOptions] (filter.js?6bcb:65)
            at FilterData.render (filter.js?6bcb:100)
            …
    
    Firefox was unaffected, so presumably has a larger limit.
    
    Debugging was waylaid for a bit by the assumption that exceeding the
    call stack size necessarily meant deep recursion, but the lack of a deep
    stack trace led to the realization that it can also occur when a
    function's arguments are too many.
    
    Resolves #1292.

commit b4f81de19a74861f74e37861051f282d73870fe0
Author: Michał Kowalski <mkowalski@argon.mcb.uj.edu.pl>
Date:   Fri Feb 12 20:05:49 2021 +0100

    fixed typos in sidebar.json

commit 9372764eb811a7fd9e75f631621bddab32ba418f
Author: Michał Kowalski <mkowalski@argon.mcb.uj.edu.pl>
Date:   Thu Feb 11 12:46:32 2021 +0100

    Added Polish language to sidebar options

commit ac8046c5209a3f31d243dc0192c9d556324513bc
Author: Michał Kowalski <mkowalski@argon.mcb.uj.edu.pl>
Date:   Thu Feb 11 11:33:09 2021 +0100

    Added Polish language to locales

commit 71365f2825cc998df92ede2b60d275618b21f23d
Author: James Hadfield <hadfield.james@gmail.com>
Date:   Thu Feb 11 14:19:53 2021 +1300

    update get-data script

commit e8e8b5860fc42b5a957eef28fb6c3e2063bb96d4
Merge: c583bfd7 4dad5351
Author: Trevor Bedford <trevor@bedford.io>
Date:   Thu Jan 28 22:53:28 2021 -0800

    Merge pull request #1269 from nextstrain/pr/1205
    
    Statically define value which will always be false

commit 9e3e4c3c24a53dbda03cd825f19ddb6b75d05152
Author: Trevor Bedford <trevor@bedford.io>
Date:   Thu Jan 28 21:36:31 2021 -0800

    Cap string length in tip-clicked info box

commit dd6a679309e03b654543f493c29d5a2f150c5ca9
Author: Trevor Bedford <trevor@bedford.io>
Date:   Thu Jan 28 20:58:26 2021 -0800

    Clean up mutation display in tip-clicked info box

commit 8d7f78eb66736bb8f5d549414fbe2b2182bfed00
Author: James Hadfield <hadfield.james@gmail.com>
Date:   Wed Jan 27 15:48:57 2021 +1300

    Show root-to-tip mutations in tip-clicked info box

commit c583bfd7eb4c3e1e71592f3db089038dafd570c1
Author: James Hadfield <hadfield.james@gmail.com>
Date:   Thu Jan 28 15:03:25 2021 +1300

    update version info & changelog

commit 5efc8a59f582e561c3a5dbf4f487d9c1d0f251e7
Author: Trevor Bedford <trevor@bedford.io>
Date:   Tue Jan 26 21:41:51 2021 -0800

    Enforce unnormalized frequencies when data is lacking
    
    This commit forces controls.normalizeFrequencies to be false if there are any pivots where the total frequency is less than 0.1%.
    
    This addresses two issues:
    1. In the existing code, attempting to normalize situations where pivots have 0% total frequency results in bad looking "all equal" bands. This commit removes the capacity to get into this bad looking app state.
    2. When filtering to a particular clade, we often want to switch to unnormalized frequencies anyway (as opposed to filtering to geography). This commit accomplishes this automatically because filtering to an emerging clade will generally result in pivots with <0.1% frequency.

commit f5081f2e12de58418116c6d99fe7370ee0035eab
Author: James Hadfield <hadfield.james@gmail.com>
Date:   Wed Jan 27 15:51:35 2021 +1300

    2.23.0

commit e18c917059f19132a2b229a3ad22fdf3e01fd59c
Author: James Hadfield <hadfield.james@gmail.com>
Date:   Tue Jan 26 18:17:35 2021 +1300

    version bump to 2.23.0-beta.0 for testing

commit 37b31ac13ab3c8c61a5515a3579dfc3c11c53cb4
Author: James Hadfield <hadfield.james@gmail.com>
Date:   Tue Jan 26 18:07:25 2021 +1300

    changelog and docs update

commit d0232f889039eca35d01cd7ce07aa2d88e53b9cf
Merge: e851ce8a 6b58c327
Author: James Hadfield <hadfield.james@gmail.com>
Date:   Tue Jan 26 17:47:53 2021 +1300

    Merge branch 'filter-by-genotype'
    
    * filter-by-genotype:
      Find MRCA when using genotype filters
      Improve how filters are displayed in the Info Header
      Refactor <Info> components
      Genotype filters at same residue operate as OR
      Use "genotype" for filter name
      Genotype filters are sorted and above strains
      Update encoding and display of genotype filters
      Speed up rendering of (very large) list of filters
      Update genotype filtering algorithm to consider basal states
      Collect all variable states observed in the tree
      Check filter genotypes against tree on load
      Functions for encoding and decoding genotype filters
      First pass at implementing filtering by genotype

commit 6b58c3275541f0d6ff86efce33239e75c2823949
Merge: 4f77242e 5e359564
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Tue Jan 26 17:45:22 2021 +1300

    Merge pull request #1276 from nextstrain/mrca-of-visible
    
    Find smallest subtree with all visible data when using genotype filters

commit e851ce8a0cd916f4496b12b23c34e7e2cf24d72c
Merge: d4364c7f 252399c4
Author: James Hadfield <hadfield.james@gmail.com>
Date:   Tue Jan 26 16:33:37 2021 +1300

    Merge remote-tracking branch 'origin/webpack-hash'
    
    * origin/webpack-hash:
      Drop third party webpack-chunk-hash

commit 5e3595646862dedc4f35a3148c0bbb09025a1c62
Author: James Hadfield <hadfield.james@gmail.com>
Date:   Tue Jan 26 14:19:17 2021 +1300

    Find MRCA when using genotype filters
    
    Previously we were not recomputing the MRCA of the the filtered nodes if genotype filters were applied, which resulted in the "zoom to selected" button behaving as if the genotype filters did not exist.
    
    For non-genotype ("normal") filters, given a set `X` of visible nodes, we simultaneously find the MRCA  of `X` and add the paths from the MRCA to `X`.
    
    For genotype filtering, we wish to find the MRCA of `X` _without_ modifying `X`.  Note that this allows situations where `MRCA \not\in X`. This is introduced in this commit via the function `findFilteredMRCA` which uses a 3 step process:
    
    1. Find the basal-most nodes of each (potentially non-monophyletic) visible cluster
    2. Identify the paths from the root to the nodes in (1).
    3. Find the first fork in this set of paths

commit 4f77242e3a142f58811195f1b62b30e8bce8a0cf
Author: James Hadfield <hadfield.james@gmail.com>
Date:   Mon Jan 25 17:15:31 2021 +1300

    Improve how filters are displayed in the Info Header
    
    Makes the union logic we employ for genotypes at the same position clear by rendering these as sets of residues within a set, and providing useful on-hover info boxes.
    
    The on-hover info boxes for other filters are also improved in this commit.

commit ca6e4b5b85e46fc8db507df3f28fd135df8cf575
Author: James Hadfield <hadfield.james@gmail.com>
Date:   Mon Jan 25 14:03:13 2021 +1300

    Refactor <Info> components
    
    No changes were made but the components which render the dataset info (above the viz panels) were broken out into smaller components and (partially) cleaned up.
    
    In general, the styles were shifted into the `<Info>` component so that the child components can focus on returning content.

commit fe1850b77dc281fc71861fe7500afe5b501708ab
Author: James Hadfield <hadfield.james@gmail.com>
Date:   Mon Jan 25 12:41:21 2021 +1300

    Genotype filters at same residue operate as OR
    
    Previously genotypes at the same residue (i.e. same gene and position)
    would intersect ("AND"), and thus couldn't be used. We now treat these
    as unions ("OR"). This allows useful queries such as
    `?gt=HA1.186D,186S`
    
    Note: The page info header does not accurately express the behavior of
    genotype filters. This will be improved in a subsequent commit.

commit 0ac6701c13d802780fef0f98f0f65ece30518716
Author: James Hadfield <hadfield.james@gmail.com>
Date:   Mon Jan 25 10:49:17 2021 +1300

    Use "genotype" for filter name
    
    As we use both wildtype and alt residues for filters, using
    "genotype" is preferable over "mutation". Furthermore, we tend
    to use mutation to refer to things such as "N501Y" whereas
    "501Y" would be the genotype.

commit 252399c4d174bdee2ff219261302b8471ea30a88
Author: Kairsten Fay <kairsten.fay@gmail.com>
Date:   Fri Jan 22 13:22:31 2021 -0800

    Drop third party webpack-chunk-hash
    
    We noticed irregular behavior in the hashing of our ubndled auspice
    files [1]. The webpack-chunk-hash (a.k.a. WebpackChunkHash) library
    appears to have been abandoned by its developers with no commits in the
    past 4 years. I'm not sure what purpose this library originally served,
    but after taking a hint from Ivan, it appears that Webpack natively does
    exactly what we want with respect to chunk hashing and content hashing.
    
    Therefore, drop the third party webpack-chunk-hash library from our
    webpack config in favor of the vanilla webpack API.
    
    [1]: https://github.com/nextstrain/auspice/issues/1266

commit 1431b09496a9ea24a87d4ac904a68b771e884f23
Author: James Hadfield <hadfield.james@gmail.com>
Date:   Fri Jan 22 16:45:31 2021 +1300

    Genotype filters are sorted and above strains
    
    It's user-friendly to have mutations appear above strains in the filtering UI. We also sort the mutations for improved usability.

commit 3ca2c02a9bb39a2435f301c5d07d9ff20213accc
Author: James Hadfield <hadfield.james@gmail.com>
Date:   Fri Jan 22 16:36:05 2021 +1300

    Update encoding and display of genotype filters
    
    Shifts the URL query syntax to `{gene}.{pos}{residue}` and the rendering in auspice to `{gene} {pos}{residue}`.

commit f9944eb7eda30c5922d229fafe2752f21fa507b4
Author: James Hadfield <hadfield.james@gmail.com>
Date:   Fri Jan 22 16:10:43 2021 +1300

    Speed up rendering of (very large) list of filters
    
    Using `react-virtualized-select` here makes the sidebar filtering UI much more responsive.
    
    Note that our version of react select is well out of date and we should upgrade sometime in the future to take advantage of more efficient rendering options.

commit d4364c7f11f74b24d5f39dc32a84882dee9191f5
Author: Trevor Bedford <trevor@bedford.io>
Date:   Thu Jan 21 16:54:26 2021 -0800

    Update get-data script
    
    Update get-data to grab tip-frequencies for ncov datasets.

commit e4ecf3e815b08daf8dc52e0739f4da5fd8336bb1
Author: James Hadfield <hadfield.james@gmail.com>
Date:   Fri Jan 22 13:05:16 2021 +1300

    Update genotype filtering algorithm to consider basal states
    
    Builds on the previous commit to allow filtering by basal states (of variable sites).

commit 4982fe2fc4cf2cdabacac720ab31b5aeefa95a40
Author: James Hadfield <hadfield.james@gmail.com>
Date:   Fri Jan 22 12:55:20 2021 +1300

    Collect all variable states observed in the tree
    
    Refactor code to expose a function which collects all genotype states in the tree with the exception of non-variable sites (for which the option root-sequence JSON would be needed).
    
    This updates the behavior to preserve filter-by-genotype URL queries on load which define basal states for variable sites. If the site is not variable, then the filter is removed as it makes little sense to filter to non-variable sites.
    
    Note that the filtering algorithm needs to be updated (future commit) to take into account basal states.

commit 4dad535171cf26aead8e691fd0c036d61edcc76b
Author: Rick Leir <rleir@leirtech.com>
Date:   Mon Sep 7 20:02:33 2020 -0400

    Statically define value which will always be false
    
    At this '!==' operation, left operand 'nextProps.geoResolution' and
    right operand 'this.props.geoResolution' always have the same value
    because of the condition
    `this.props.geoResolution !== nextProps.geoResolution` above.

commit ded1e980c97a8e232c2be08dafc772f2f4996b64
Author: James Hadfield <hadfield.james@gmail.com>
Date:   Thu Jan 21 16:35:05 2021 +1300

    Check filter genotypes against tree on load
    
    We now remove any genotype filters that we don't observe in the tree. This isn't ideal because we can't filter by basal mutations.
    
    Sometimes this just a bit frustrating -- e.g. "ncov/global?gt=ORF1a:4261" just gets removed, because it's a basal nucleotide with no reversions. Other times it's highly confusing, e.g. "ncov/global?gt=S:614D" only filters to tips which have reverted to aspartic acid and ignores all the genomes which have a basal D codon.

commit 47a8181be802bd3a744d5cfb7659417e5d27c4fd
Author: James Hadfield <hadfield.james@gmail.com>
Date:   Thu Jan 21 15:58:19 2021 +1300

    Functions for encoding and decoding genotype filters
    
    Functions and tests for encoding and decoding genotype filters.

commit 960dfea966a3bec924ccec259eaa50ef7a1e8314
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Fri Jan 15 10:34:00 2021 +1300

    First pass at implementing filtering by genotype
    
    See added code for a number of "todos" before this can be considered ready.

commit 7ecbd6e33f55cfb87d4b591498a0855bcec1c89b
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Thu Jan 14 09:27:32 2021 +1300

    version bump to 2.22.2 for release

commit a6c285a0755b0ecce6fd0102a75c45a340612efd
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Thu Jan 14 09:27:01 2021 +1300

    changelog

commit bd2401f86a3bdc62d39f031d880dce84792b6341
Merge: 08133c2a 32523b53
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Thu Jan 14 09:22:37 2021 +1300

    Merge pull request #1263 from nextstrain/webpack-hash
    
    Update webpack chunk-hash-generation settings

commit 32523b53dd5a1ff96f936ea5aa63aac09263399b
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Wed Jan 13 22:23:26 2021 +1300

    Update webpack chunk-hash-generation settings
    
    This removes `HashedModuleIdsPlugin` from the build pipeline as
    we use `WebpackChunkHash` to generate contenthash for each chunk.
    
    This caused hard-to-debug bugs in auspice (and nextstrain.org)
    where a hash was being generated from the pre-minified (etc)
    bundle contents, but different minification resulted in different
    bundle contents. As the bundle name was the same, clients could
    use their (out-of-date) cached version, which would result in
    a variety of errors in auspice.

commit 08133c2a34f2aa77e43a5821dead32125580f1cb
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Wed Jan 13 16:07:16 2021 +1300

    version bump to 2.22.1 for release

commit 5e5b50728195202a83d99030e63eb6a1e70fae86
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Wed Jan 13 14:26:04 2021 +1300

    update package-lock JSON

commit c572b977f3a450e3cb949f6285ac632d45a79ec1
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Mon Jan 11 18:18:52 2021 +1300

    version bump to 2.22.0 for release

commit 16130b65f79c82aac372ff662624b3da9d3e6731
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Mon Jan 11 18:12:57 2021 +1300

    changelog

commit cd309472203d3bf4d1c9c9f57c1103dc9a378d76
Merge: 31815a0a 9bb06715
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Mon Jan 11 17:58:20 2021 +1300

    Merge pull request #1262 from nextstrain/animation-controls
    
    Move animation controls to the sidebar

commit 9bb067153dc8ab389150cb7b4c0b50dd63fce4f0
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Mon Jan 11 17:52:41 2021 +1300

    Change animation icons to lighter grey
    
    This trades off less-than ideal appearence in (default) auspice
    for a more appealing nextstrain.org version. In future, the
    sidebar theme customisation should be able to define this.

commit 31815a0a7ec7ad2b38f3427b94bb2af83d510263
Merge: 83d4e461 fb938707
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Mon Jan 11 17:38:26 2021 +1300

    Merge pull request #1261 from nextstrain/rotate-mapbox-token
    
    Rotate Mapbox API token

commit fb938707e6424975bfb58e307607fde518072e30
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Mon Jan 11 16:40:20 2021 +1300

    Allow map tile API address and attribution to be customised
    
    See added docs for usage.

commit 83d4e461f718f989a4f983d6dede2da34bcf7010
Merge: 11215b04 b2c8a654
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Mon Jan 11 15:27:17 2021 +1300

    Merge pull request #1260 from nextstrain/footer
    
    Update footer and fine print

commit b2c8a6543ba76735b6bfba310d1d66d4d2dae3f7
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Mon Jan 11 15:15:04 2021 +1300

    add docs re: sharing source code modifications

commit 624b0c8d6e1588398367e2c14e9528f348755282
Author: Trevor Bedford <trevor@bedford.io>
Date:   Sun Jan 10 17:51:41 2021 -0800

    Move animation controls to the sidebar
    
    The play / pause / reset buttons were originally placed in the upper left corner of the map to highlight this functionality for Zika and Ebola where animation works well. With emphasis on SARS-CoV-2, we should no longer highlight animation. It doesn't work well for the large SARS-CoV-2 trees.
    
    Placing play / pause / reset under the date slider also helps to show what's actually going on with the animation.

commit a466dac68c0dba84a4927a9bb1b339f2cf07787f
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Mon Jan 11 14:46:24 2021 +1300

    Deduplicate "powered by" code
    
    Allows the (default auspice) splash page to import the code from `fine-print.js`.

commit b0ece604142a6a2bf5420fa955e1b8a7dcb03b57
Author: Trevor Bedford <trevor@bedford.io>
Date:   Sun Jan 10 15:57:20 2021 -0800

    Rotate Mapbox API token

commit e26f776d1b86ba227e2174393ed61221c139e848
Author: Trevor Bedford <trevor@bedford.io>
Date:   Sun Jan 10 14:53:25 2021 -0800

    Streamline footer for dataset listing
    
    Previously the dataset listing had a row of logos at the bottom as seen on nextstrain.org. This commit swaps these logos for the same "Powered by Nextstrain..." fine print used at the bottom of the main Auspice view. This should work better for forks of Auspice.

commit 4d15bcd365495a6ca7d3054e1a6a800ba0ec42cd
Author: Trevor Bedford <trevor@bedford.io>
Date:   Sun Jan 10 13:34:44 2021 -0800

    Split Footer and FinePrint components
    
    This splits the Footer component (Description + Filters) from the FinePrint component (Version, Citation, Download).
    
    This allows showOnlyPanels to keep displaying fine print.

commit 095ed3426ec70673fbb2f824c553c87a0782cf63
Author: Trevor Bedford <trevor@bedford.io>
Date:   Sun Jan 10 12:29:02 2021 -0800

    Remove custom logic for hiding sidebar when pathname includes gisaid
    
    GISAID iFrames have been updated to include query param 'sidebar=closed' and so this logic is no longer needed.

commit 53bd63c0651608ca1968e1fac44a93d7a4f20a39
Author: Trevor Bedford <trevor@bedford.io>
Date:   Sun Jan 10 12:19:48 2021 -0800

    Update footer to include "Powered by" language

commit 11215b0442ec91eea24b2c2b4d77f4671e582858
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Wed Jan 6 15:55:15 2021 +1300

    version bump to 2.21.0 for release

commit 1828527e772fea818325ff70e79a53f96593e8b7
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Wed Jan 6 15:54:23 2021 +1300

    changelog

commit a5207f23a352324f8f2399b881c0ffddba65f78a
Merge: 66516587 6af08dd6
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Wed Jan 6 14:14:52 2021 +1300

    Merge pull request #1258 from nextstrain/disable-smoke-tests
    
    disable (broken) smoke test for /ncov/global

commit 6af08dd692ce329eaed0c7a687b04b5f3a4af9ae
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Wed Jan 6 11:43:41 2021 +1300

    disable (broken) smoke test for /ncov/global
    
    Smoke testing works as intended when running locally, however it
    is currently broken on GitHub Actions which causes confusion.
    https://github.com/nextstrain/auspice/issues/1215 has been created
    to fix this.

commit 66516587d03c6fe9f9f167f7b348945c4196ca63
Merge: cefefb90 0259bb20
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Wed Jan 6 13:26:19 2021 +1300

    Merge pull request #1257 from nextstrain/zoom-to-selected
    
    Zoom to selected

commit cefefb90e920bc4f1d8547a6e646d79f0b4a0d6e
Merge: 9c11067e 413dac1a
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Wed Jan 6 11:23:28 2021 +1300

    Merge pull request #1256 from h-astephan/master
    
    Adding Italian language

commit 9c11067e55b19ada76670483d9eaea95cac58a42
Merge: 1541b753 e83e5ffc
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Wed Jan 6 10:40:25 2021 +1300

    Merge pull request #1249 from nextstrain/adjust-branch-labels
    
    only show amino acids on branches leading to big clades

commit 1541b7533821d1511660ae77b98c1d86d0f1b45b
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Tue Dec 22 14:23:11 2020 +1300

    [bugfix] allow legend filtering to work with genotype colorings
    
    The improvements to legend-item filtering introduced in PR #1150 treated genotype like a "normal" coloring, however it is not (currently) possible to get the genotype of a node via `getTraitFromNode`. This resulted in empty legends for genotypes. This commit fixes this by adding a check within the `createVisibleLegendValues` function. A future improvement may be to extend `getTraitFromNode` to be able to return the genotype when appropriate.

commit 5483e2e685a40d265c3ee2f5705732482f65b718
Merge: 7c8a08a8 bb62142d
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Wed Jan 6 10:25:53 2021 +1300

    Merge branch 'pull/1150'
    
    * pull/1150:
      Clean up whitespace and remove unnecesary array copying
      Remove trailing space per eslint
      Fix visible legend values calculation delay
      fix-loading-race-condition
      Modify createVisibleLegendValues to handle second tree and fix null visibility on load
      prototype of architecture for dynamically computing visible legend labels

commit 7c8a08a8aac707b3c4d04fcb22f5c52307b241db
Merge: 309cd06f 3144a0da
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Wed Jan 6 09:42:50 2021 +1300

    Merge pull request #1237 from nextstrain/color-scale-unknown-val
    
    [bugfix] handle unknown values in color scales with provided scales

commit 309cd06f4ba7ac1b41c17f8c1601f33f71d3249e
Merge: 0423d6f1 0e55b302
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Wed Jan 6 09:42:22 2021 +1300

    Merge pull request #1246 from nextstrain/tip-label-source
    
    Allow tip labels to be user selected

commit 0423d6f125cc398ed43f5ff18903ffe45bc147d9
Merge: 0c70781b 9c15c4ab
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Wed Jan 6 09:39:26 2021 +1300

    Merge pull request #1244 from nextstrain/drag-drop-metadata-improvements
    
    Drag drop metadata improvements

commit 0c70781b6b7ba097a518b9813779b9686ce423b1
Merge: 95dc21b6 0b0c01b1
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Wed Jan 6 09:39:05 2021 +1300

    Merge pull request #1245 from nextstrain/download-improvements
    
    Download data improvements

commit 9c15c4abed38c52cb7fdaf0b037404135b4ed4ac
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Tue Dec 15 13:26:38 2020 +1300

    Add documentation describing additional metadata capabilities

commit c1122a86b61383e8a0896e16ff22b2197b84889e
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Tue Dec 15 11:27:19 2020 +1300

    Allow additional metadata to define geographic locations
    
    This interprets specific lat/long columns in the CSV/TSV as association a strain with a geographic location.  As this approach defines lat-longs _per-sample_ it is orthogonal to Nextstrain's approach (where we associate coords to a metadata trait). The approach employed here is to create a new (dummy) trait whose values represent the unique lat/longs provided.
    
    If a JSON does not define any lat/longs then the appropriate additional metadata will trigger the map to become available (and displayed).

commit e43feb39791ce24d1860e8f2d688dd9787eb1bd6
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Tue Jan 5 17:49:20 2021 +1300

    [metadata csv] allow colour and color spellings
    
    Previously only `<trait>__colour` was valid to specify the
    colour hexes, which was chosen to maximise compatability with
    MicroReact format files. Here we allow `<trait>__color` to be
    used as an alternate spelling.
    If both are specified, then `__colour` is used.

commit e0de23f04cc647f39378f0fba15581abb170c723
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Fri Dec 11 19:28:20 2020 +1300

    Add coloring & filter for samples in added metadata
    
    Allows for a common use case where one wants to filter the dataset to those samples in the CSV/TSV.

commit 0b0c01b156d9a0b7f72f4a89390ccc7ca069417a
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Fri Dec 18 07:52:46 2020 +1300

    Downloaded tree units represent current view
    
    This makes behavior consistent with the idea that downloaded data represents the current view. It also prevents a bug when trying to download a temporally scaled tree for a non-temporal dataset.

commit 0259bb20770fcfb9d1ab98620fd45737a49f29eb
Author: Jover <joverlee521@gmail.com>
Date:   Tue Dec 29 13:14:18 2020 -0800

    Tree: add margin between zoom and reset buttons

commit 6d56082e6e054b1c1cfb3e33922efab41f272438
Author: Jover <joverlee521@gmail.com>
Date:   Tue Dec 22 19:13:31 2020 -0800

    Add "Zoom to Selected" button
    
    Clicking on the "Zoom to Selected" button will change the root of the
    visible tree to the node of the last common ancestor of the selected
    tips.
    
    Note: the button is disabled if the the LCA is the current visible root
    node since the display will not change.

commit 016d14dbce77b73e146c287ace210570df1ef346
Author: Jover <joverlee521@gmail.com>
Date:   Tue Dec 22 19:07:13 2020 -0800

    Refactor calcVisibility into smaller functions
    
    This is done in preparation for returning the index of the last
    common ancestor for filtered nodes.

commit 2a387f2cc311aa346e2d50b6a75ddeaaac30e35e
Author: Jover <joverlee521@gmail.com>
Date:   Tue Dec 22 18:40:11 2020 -0800

    Update hideNodesAboveVisibleCommonAncestor() to return index of LCA
    
    In preparation for adding the zoom-to button, return the index of the
    node that represents the last common ancestor of the filtered nodes.
    
    If we can't find the last common ancestor for some reason (e.g. the LCA
    is not within the current view), the function returns null as default.

commit 413dac1a924ddaf4266a83e9dc00b3c2e14f53f8
Author: h-astephan <61523280+h-astephan@users.noreply.github.com>
Date:   Mon Dec 28 15:26:53 2020 -0800

    update language.js
    
    added italian to final line

commit dbe0a7e2ed3e1b6277534c0ab5fccb7db8b49191
Author: h-astephan <61523280+h-astephan@users.noreply.github.com>
Date:   Mon Dec 28 15:24:40 2020 -0800

    add italian

commit 727d87a86c4ac7162874dc574085b08598e125bb
Author: Jover <joverlee521@gmail.com>
Date:   Mon Dec 21 10:55:46 2020 -0800

    Rename function `hideNodeIfOnlyONeChildVisbile`
    
    Renamed to `hideNodesAboveVisibleCommonAncestor` to be clearer purpose
    of the function.

commit 0e55b3022db5ac8c5ffa52deddec61b7182f8103
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Fri Dec 18 16:34:25 2020 +1300

    Allow tip labels to be user selected
    
    Adds an additional dropdown box to allow users to change the attribute used as tip labels. This is similar in design to the branch label drop down.
    
    Currently attributes are limited to the colorings. The function which collects these, `collectAvailableTipLabelOptions` could be easily extended to produce further valid attributes.
    
    This should pave the way for smarter and more customisable logic around _when_ labels are displayed, and the dropdown should not be shown in the situation that labels aren't shown.
    
    For a full description, see #1201
    Closes #1201

commit e83e5ffcdf83861086a233e753314feb70190763
Author: Richard Neher <richard.neher@unibas.ch>
Date:   Sat Dec 19 21:21:12 2020 +0100

    only show amino acids on branches leading to big clades

commit 2332920cdaadd64d558d9da5431d4bc1e9eb75e5
Author: Jover <joverlee521@gmail.com>
Date:   Fri Dec 18 16:21:32 2020 -0800

    Update filters to hide ancestral nodes before last common ancestor
    
    Before this commit, filters determined visibility by:
    1. Finding all terminal nodes in view window that match the filters and
    mark them as visible.
    2. Recursively marking all parent nodes of these terminal nodes visible,
    all the way up to the root of the tree.
    
    This commit adds an additional step to hide ancestral nodes before
    the last common ancestor of visible terminal nodes. Starting from
    the root of the tree, recursively hide each node if it does not have
    more than one child node that is visible.

commit 9f3561fa0761952a026c8b79e24f79d143031074
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Thu Dec 17 16:13:14 2020 +1300

    Allow NEXUS export with all colorings included as annotations
    
    Similar to current Newick export except in a format conforming with BEAST such that it can be read by FigTree.

commit 9681c1f66d815fb9f18d5aa8c7df6b3e1f5d6d18
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Wed Dec 16 14:23:58 2020 +1300

    Downloaded files now represent selected (displayed) data. 2/2
    
    (See previous commit message for context).
    
    Exported trees now represent the visible (and in-view) tree.
    
    Note that exported trees of filtered datasets often contain nodes higher (more ancestral) than the expected root. This is the bug reported in https://github.com/nextstrain/auspice/issues/1240.

commit 021df4cb39733c1f3388666b0688a6d2473ba9b0
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Wed Dec 16 13:06:28 2020 +1300

    Downloaded files now represent selected (displayed) data. 1/2
    
    Previously certain downloaded files (e.g. trees) represented all data, certain files only represented selected (visible) data (e.g. entropy) and some could do both (e.g. there were two metadata buttons).
    
    This commit moves to having all buttons behave in a consistent manner -- if the data is subsetted (filtered, zoomed etc) then only the visible nodes will be part of the download.
    
    All file exports _except_ trees are updated in this commit.

commit 829ef234573d51bec2791534cc1d87c97c183b72
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Tue Dec 15 18:56:12 2020 +1300

    Remap key "d" to open download modal
    
    Previously this triggered an automatic screenshot (SVG) download, which was dev-only, undocumented functionality that made it into production.
    
    Here we map "d" to open the download modal which is both more expected, and helpful for the current work. This key shortcut can either be removed in this PR or documented and released as-is.

commit f6b46f798ae6b85da554b6ce965382fb95822eeb
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Tue Dec 15 18:52:17 2020 +1300

    Refactor Download Buttons code
    
    This splits apart the download modal react component into two: one for the main modal layout, and another for the download buttons. This improves separation and paves the way for improvements to the download buttons. There should be no changes in behavior arising from this commit.

commit 95dc21b6b7bf2260d3ecd3b3b4567886d020f43a
Merge: 6a2d0f27 c3fe29f9
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Tue Dec 15 14:44:40 2020 +1300

    Merge pull request #1234 from nextstrain/warn-fetched-docs
    
    Add warning to docs fetched by docs.nextstrain.org

commit 9bb7676078259ccc2cb00ff16268a55a22f31534
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Fri Dec 11 18:42:43 2020 +1300

    interpret column header suffixes and allow custom colors
    
    Here we use microReact-style interpretation of column header names. Specifically, a double-underscore in a header name is interpreted as extra information, with valid suffixes "colour", "autocolour" and "shape".
    
    We ignore "shape" (as auspice doesn't have this capability) and "autocolour" (as that's our default).
    
    We parse "colour" as a column defining colours for the corresponding column. We enforce that these are (long) HEX values, but this should be relaxed in the future. Where multiple nodes with the same trait value define different colours, we average them similarly to the map.

commit 12ba6195fadfe6e11bc5b05db9d3a59972581a54
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Fri Dec 11 17:41:23 2020 +1300

    Refactor parsing of additional metadata files
    
    The refactor was motivated by upcoming functionality and this influenced the implementation here. The change in action type name indicates that we will be able to extract more information from dropped files than just extra color-bys.

commit 3144a0da2e5b1d6307db9a0fb84f2b06e8d59441
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Fri Dec 11 13:50:11 2020 +1300

    Refactor individual colorScales into functions
    
    The `calcColorScale` function was overly long and consisted of a number of conditionals which decided on which color scale to create. This commit doesn't change the conditional logic at all, but it pulls the logic to create each scale into a separate function. This results in the `calcColorScale` function being readable.

commit 04e0f320849195756b64b9bb1aea0dccdf9a453d
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Fri Dec 11 13:18:30 2020 +1300

    Refactor error handling in color scale creation
    
    The previous implementation used an `error` boolean to control flow. This is inferior to throwing errors. By using try/catch logic we catch all errors (including unanticipated ones) which will result in fewer crashes.

commit aa32c77e21eb26c33534c42b5389a17e9e6dcccd
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Fri Dec 11 12:48:25 2020 +1300

    Begin to add tests for color scales
    
    This involves a (slight) refactoring of the `colorScale.js` file in order to convert the logic which generates a color scale from JSON-provided scale into a function which can be tested.

commit 6bc34daf04299cf81fe2f7b73af613e5ab332526
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Mon Nov 30 13:57:11 2020 +1300

    [bugfix] handle unknown values in color scales with provided scales
    
    Colorscales have to deal with nodes with unknown values for the current colorScale (e.g. `getTraitFromNode(node, colorBy=undefined`). This was not being correctly handled in the case where we provided a scale in the dataset JSON. For certain cases (i.e. when traits had not been inferred for internal nodes) this resulted in internal nodes being coloured rather than grey as intended.

commit c3fe29f9e73bd5face7041d0cd0f24b27feefff6
Author: eharkins <eli.harkins@gmail.com>
Date:   Fri Nov 20 12:13:41 2020 -0800

    Add warning to docs fetched by docs.nextstrain.org

commit 6a2d0f276fccf05bfc7084608bb0010a79086c83
Merge: 45f16463 06e6f8b4
Author: eharkins <eli.harkins@gmail.com>
Date:   Thu Nov 19 14:05:37 2020 -0800

    Merge branch 'master' of https://github.com/nextstrain/auspice

commit 45f164636c503fb555d1256a62224903ac649704
Author: eharkins <eli.harkins@gmail.com>
Date:   Thu Nov 19 14:05:04 2020 -0800

    point to auspice stable docs instead of latest

commit 06e6f8b4934ecd953b425f7f1b925886cd5e07b5
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Thu Nov 19 16:15:13 2020 +1300

    version bump to 2.20.1 for release

commit 2b0db53f28decf0abbefed1161061c615983b562
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Thu Nov 19 16:09:57 2020 +1300

    changelog

commit 868179b1b629aea67c7c6894840d51f88dc0e49b
Merge: 802e51ff 8d39af06
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Thu Nov 19 16:07:28 2020 +1300

    Merge pull request #1232 from nextstrain/filter-ui-perf
    
    Improve performance of sidebar filter UI

commit 802e51ffd860fad2aa107d566c6d472eae539ff2
Merge: 8e5793e0 70209504
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Thu Nov 19 15:38:00 2020 +1300

    Merge pull request #1231 from nextstrain/styling
    
    Improve appearance of sidebar headers

commit 8d39af06e39e3c3c0ca3aacb102275eee61d9bc7
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Thu Nov 19 15:25:14 2020 +1300

    Improve performance of sidebar filter UI
    
    The previous implementation of the sidebar filtering was slow to respond to keystrokes for large datasets. This was because of two implementation decisions: (i) the list of available filters was computed upon every key-stroke and (ii) the matching algorithm was run against this. A subsequent key-stroke wouldn't appear until both steps had completed.
    
    Here we improve (i) by precomputing the options at component render time, and improve (ii) by debouncing the matching algorithm and not ignoring accents. (Profiling indicated that the stripping of accents took a lot of time.) By using an Async React Select component we get a spinner UI to indicate that the result of the matching algorithm is being awaited.

commit 70209504216f0fb71dc23d1941ab0d2f77f5ff7f
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Thu Nov 19 13:46:03 2020 +1300

    CSS fix for safari compatibility

commit 982d43bfff0464a55c61148f247a46afee6174e5
Author: Trevor Bedford <trevor@bedford.io>
Date:   Wed Nov 18 10:39:37 2020 -0800

    Update sidebar info icon to medium gray
    
    Using medium gray so it's less prominent on both Auspice's dark sidebar and Nextstrain's light sidebar. We only have a single text color in globalStyles.js and so I hard coded this to the component rather than borrowing something from globalStyles.js.

commit 8e5793e0ae2e67e6ace187dad5555b7f29138ca6
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Wed Nov 18 16:33:17 2020 +1300

    version bump to 2.20.0 for release

commit 18e36cb9c8f72646fbe94eb32f087437e8b7916e
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Wed Nov 18 16:32:38 2020 +1300

    changelog

commit f9be5b521c0d02bc6f15f47beaa95a3698ee2589
Merge: 43d9b055 5914192c
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Wed Nov 18 16:17:23 2020 +1300

    Merge pull request #1200 from nextstrain/filters
    
    Sidebar filtering of data

commit 5914192c44c8f7faf31a22ecaf4cba7ab3613ae5
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Wed Nov 18 15:58:04 2020 +1300

    Add react-tooltip to vendors bundle

commit 43d9b055b3e3e534e4bb3d37be6f397262cfb306
Merge: 213c5626 3a3f111b
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Wed Nov 18 15:53:41 2020 +1300

    Merge pull request #1229 from nextstrain/date-labels
    
    Improve temporal axis labelling

commit 12f489d32ae5948b1642986d07eb3d49f5920776
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Wed Nov 18 15:27:46 2020 +1300

    [filters] minor fixes
    
    Including linting, react `key` errors and fix to the onClick functionality of the filters in the footer

commit 213c56261f754954103fa683dd3d82b1781c9544
Merge: 5a5d20ce f45d302c
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Wed Nov 18 15:43:29 2020 +1300

    Merge pull request #1226 from nextstrain/fetch-no-content
    
    Use response status code not status message for 204 responses

commit 3a3f111b29a58b7163900b994874906be0faced4
Author: Trevor Bedford <trevor@bedford.io>
Date:   Mon Nov 16 09:32:56 2020 -0800

    [phyloTree] Tweak grid display parameters

commit becfaade551042dc86ae6f22e955e3627c1444fb
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Thu Nov 12 11:23:44 2020 +1300

    Improve temporal axis labelling

commit 49895ac81a6c150c684cc19a5cd86e9a05f9f9fa
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Fri Nov 6 17:52:23 2020 +1300

    Add tooltips to indicate how filters are working

commit 59ae3146b22b7ab210f3c3e99f3f6c443e8cd753
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Wed Nov 18 13:34:54 2020 +1300

    [filters] use stripes to indicate inactive filter

commit cb170bbbb860c5bfed890f8abbcac836b68631bb
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Fri Nov 6 17:38:00 2020 +1300

    Modify display of filter badges
    
    This shifts the active/inactive & remove icons to the RHS of the filter badge based on feedback from testing.

commit 78276bfca7ebb1692479f2a01dc20f076d466c5d
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Fri Nov 6 17:20:12 2020 +1300

    Display active filter summary below filter box UI
    
    Previous iterations showed no recognition in the sidebar that a filter selection had been enabled, which was confusing. Here we add a summary element per filter category which balances the above confusion with the desire to not occupy too much space in the sidebar

commit ece581dc4dec008cf4912ee7c31976f2beea506f
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Fri Nov 6 15:39:07 2020 +1300

    Remove the search-strains UI
    
    The functionality of this is now part of the "Filter Data" UI in the sidebar.

commit b2a69809fb7eda11e12fc77b8413f9ebe463e69d
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Fri Nov 6 15:31:14 2020 +1300

    Allow strains to be searched as normal filters
    
    With the introduction of a "filter" search box in the sidebar, we wanted to allow strain-search here which would allow us to get rid of the "strain search" box.
    
    There are some slight differences with this new UI:
    
    Positives: One can now select multiple strains, which is really cool. They are stored in the URL (comma separated list) and thus can be used in narratives.
    
    Todo: The previous behavior of expanding the tip radii on partial search completion isn't part of this new UI, but it should be.

commit a430ef6cf48b7f9661087878adfd16b91be6b019
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Tue Oct 27 15:55:41 2020 +1300

    Allow filters to be displayed but inactive
    
    A commonly requested feature is to have the ability to toggle filters on-off in quick succession. This commit achieves such functionality for filters displayed in the header (<Info>) by exposing not only a "remove filter" icon but also a "hide filter" icon. "inactive" filters are not stored in URL state as they're considered temporary. Selected strains and date ranges are not implemented as filters and therefore don't (yet) have this new functionality.
    
    Internally, instead of representing filters as a simple list of values which we are filtering against, we now use a list of objects which allows each item to be "active" or not and allows scope for future functionality. Code is also cleaned up as it was refactored.

commit 5a5d20ce639f43c856d574ea728bcb15cabfc9f0
Author: eharkins <eli.harkins@gmail.com>
Date:   Thu Nov 12 15:18:59 2020 -0800

    README and DEV_DOCS update to reflect new docs

commit b3ae796e2ad50fe8773d2f6dcef8f6c7c9824b1d
Merge: f2b68a09 090c16c2
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Thu Nov 12 13:13:53 2020 +1300

    Merge branch 'migrate-docs'
    
    * migrate-docs:
      Update docs URLs
      fix docs links, remove narratives index page
      [fetch-docs] relative link -> absolute
      [fetch-docs] relative links
      [fetch-docs] relative links
      fix link to work when doc fetched by main rtd
      exclude unused docs from build
      [docs] minor fixes
      [docs] minor fixes and content improvements
      [docs] remove stub warning from splash page
      [docs] Set theme (sidebar) options
      docs link back to docs.nextstrain.org/en/latest;
      add link back to parent project
      remove non-reference material from docs
      readthedocs config must be in root of project
      docs build environment with deps
      Migrate Auspice docs from docusaurus to RTD

commit 090c16c2fd21fd6067f016b5008e0079e5c17c44
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Thu Nov 12 13:08:12 2020 +1300

    Update docs URLs
    
    With the imminent merge of this branch into master, the URLs need updating

commit 2d9353a78d5ef30756f6ad7463c1bc3fffa186dc
Author: eharkins <eli.harkins@gmail.com>
Date:   Wed Nov 11 15:46:03 2020 -0800

    fix docs links, remove narratives index page

commit 1be473fa947d78261c2ff731778c5ae331744a70
Author: eharkins <eli.harkins@gmail.com>
Date:   Sat Nov 7 14:18:57 2020 -0800

    [fetch-docs] relative link -> absolute

commit 16ab6cde02595d3ba3881c4f8c2c548b84896970
Author: eharkins <eli.harkins@gmail.com>
Date:   Sat Nov 7 13:55:26 2020 -0800

    [fetch-docs] relative links

commit 16748657f2407e22673774da5f7ace1dfafbeec2
Author: eharkins <eli.harkins@gmail.com>
Date:   Sat Nov 7 13:52:46 2020 -0800

    [fetch-docs] relative links

commit 87e1cd906f7f09847138b8383027cb5c5f8aa8c9
Author: eharkins <eli.harkins@gmail.com>
Date:   Sat Nov 7 13:44:09 2020 -0800

    fix link to work when doc fetched by main rtd
    
    this relative link did not work
    after fetching this doc into
    docs.nextstrain.org because the
    folder structure is different from
    this repo so this changes it to fit
    with that of docs.nextstrain.org.
    this means the relative link breaks
    in this repo but this document is
    not rendered in this repo's docs.
    there are many more instances of this
    which will need to recieve similar
    edits and remain that way until
    we have a unified toctree.

commit a63f7c7459f3bcf2026f615a2a830d52b7fef27f
Merge: 0e5ec804 d652434b
Author: eharkins <eli.harkins@gmail.com>
Date:   Thu Nov 5 19:40:08 2020 -0800

    Merge branch 'migrate-docs' of https://github.com/nextstrain/auspice into migrate-docs

commit 0e5ec804e93deefd350a6c0490366abeeac043ac
Author: eharkins <eli.harkins@gmail.com>
Date:   Wed Nov 4 20:16:09 2020 -0800

    exclude unused docs from build

commit d652434b1e259d07d1ddccd9a9de4bf6471ce9e7
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Wed Nov 4 14:36:31 2020 +1300

    [docs] minor fixes
    
    Remove page which was no longer to be displayed as its content was in the `index.rst`

commit a8cdc08e170815d63b37d0105c3d2b09279f322c
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Wed Nov 4 14:33:40 2020 +1300

    [docs] minor fixes and content improvements
    
    In preparation for release

commit 9e8d3aece2727450645042946a05e86a6e28a503
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Wed Nov 4 13:45:43 2020 +1300

    [docs] remove stub warning from splash page
    
    In preparation for release

commit 6d47ae1069e1ecb8197fedd489e1a77e14ed68d9
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Tue Nov 3 17:55:33 2020 +1300

    [docs] Set theme (sidebar) options
    
    Part of an effort to standardize the appearance of the sidebar in subprojects. Settings chosen based on docs.nextstrain.org.

commit f45d302ce91fc755cbeb2f945be947cc9d392202
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Mon Nov 2 13:12:17 2020 +1300

    Use response status code not status message for 204 responses
    
    API requests for `getDataset` which return 204 (No content) responses are a special case which should "cause Auspice to show its splash page listing the available datasets & narratives" (see https://nextstrain.github.io/auspice/server/api#charon-getdataset)
    
    Auspice previously looked at the response statusMessage to check if responses were 204, however this wasn't appropriate (see https://github.com/nextstrain/nextstrain.org/commit/ff810503b0de6d03fc07e25d9f626d0e25f9e429 for more).
    
    Here I switch the code to specifically check the response status code. This restores the intended behavior.

commit f79243e04982d2923a18ec9f075b3d2a6ccfc2f5
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Tue Oct 27 09:39:25 2020 +1300

    Refactor badge icons
    
    This commit is in preparation for expanding the functionality of the filter icons (currently in the info bar and the footer). It should not result in any UI changes.

commit 807d6b304d2ede7c5c6a5529bed4cba3f303ee66
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Mon Oct 26 17:18:52 2020 +1300

    Implement sidebar info pop-up boxes
    
    This refactors the sidebar titles to allow an (optional) pop-up text box. This is useful to convey the functionality of certain features. The only current feature using it is the new filter-box.
    
    Uses `react-tooltip` rather than implementing our own (as we did in the entropy panel for instance) which is more robust.
    
    Currently disabled on mobile-view, which is left as a to-do item as it requires more testing to get right.

commit e2fa24b2346693e79e8ae0818bb2e1a7a1376303
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Mon Aug 24 18:18:16 2020 +1200

    Begin implementation of typing-based data filtering
    
    See https://github.com/nextstrain/auspice/pull/1200 for the motivation
    for a typing-based filter query box. This commit starts the implementation
    which is functional but incomplete.
    
    Implements the star

commit eecffc121299734c499646ca870ec4432c81b473
Author: eharkins <eli.harkins@gmail.com>
Date:   Fri Oct 23 15:45:07 2020 -0700

    docs link back to docs.nextstrain.org/en/latest;
    
    prepare to merge migrate
    into master for docs.nextstrain.org

commit f2b68a09e9e7f707f1560ebb990e1f7d10928f2f
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Wed Oct 7 16:30:51 2020 +1300

    changelog; rebuild docs

commit 8fa1ee820506560c5102a4366cb2e18c1b774817
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Wed Oct 7 15:20:41 2020 +1300

    version bump to 2.19.0 for release

commit 29dca853252698b80565168c5df2a62bf1276e49
Merge: ba5fdf4f 616d119c
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Wed Oct 7 15:00:17 2020 +1300

    Merge pull request #1197 from nextstrain/root-seq
    
    Fetch (optional) root-sequence JSON

commit 616d119cf065cdb135311ce4f81915afe66f692c
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Fri Aug 7 18:25:07 2020 +1200

    Update get-data script to fetch root-sequence JSONs
    
    This switches to getting vic & yam from the nextstrain staging bucket as the root-sequence JSONs weren't present on the data bucket

commit c15b8d0901436f2b0ba6f34c88909770238a9cc9
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Fri Aug 7 18:12:03 2020 +1200

    Fetch (optional) root-sequence JSON and color genotypes accordingly
    
    Upon dataset load we now make a request for the "root-sequence" sidecar file. If this request is successful we use the data to color genotypes for which there are no mutations (previously the nt/aa at such positions weren't known)

commit 66b2167dc2aaad5556bf25619a9b7e031e663148
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Fri Aug 7 18:09:25 2020 +1200

    Change coloring for unknown genotypes to grey
    
    Currently genotypes are unknown for positions without any mutations, as it is through mutations we infer the appropriate values to display. This commit changes the coloring to be grey in such cases, rather than blue/green.

commit ba5fdf4fd32adbbf34b6e6f7f087a19581e99d06
Merge: f58fe4e5 5ed31c55
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Wed Oct 7 14:21:22 2020 +1300

    Merge pull request #1217 from ivan-aksamentov/fix/crash-in-old-browsers
    
    fix: polyfill Promise to avoid crashes in old browsers

commit 61157e82968a5c2e6a7158055cedfd9f6de4bc7d
Author: eharkins <eli.harkins@gmail.com>
Date:   Tue Oct 6 16:20:24 2020 -0400

    add link back to parent project

commit 9b54e83da70d3a177e89f4230c782cbc119dd3ff
Author: eharkins <eli.harkins@gmail.com>
Date:   Tue Oct 6 15:59:34 2020 -0400

    remove non-reference material from docs

commit 336d9fd9398815bf42334b8700a85e16be2f5022
Author: eharkins <eli.harkins@gmail.com>
Date:   Mon Oct 5 16:43:15 2020 -0400

    readthedocs config must be in root of project

commit 1a7b24ef2be5e1e0037b577a62fff1da6f904792
Author: eharkins <eli.harkins@gmail.com>
Date:   Mon Oct 5 16:35:17 2020 -0400

    docs build environment with deps

commit 6ec14444702c8e3a95b9e514312cd4ae8b02c0e5
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Fri Oct 2 11:52:11 2020 +1300

    Migrate Auspice docs from docusaurus to RTD
    
    As part of our migration of all nextstrain-docs to RTD and docs.nextstrain.org
    this commit switches Auspice to using RTD.
    
    There is further work needed in terms of organisation structure, using pages here
    under docs.nextstrain.org's RTD page (as opposed to the Auspice subproject), but this
    migration paves the way.
    
    No content changes, but lots of syntax changes etc
    
    See https://github.com/nextstrain/docs.nextstrain.org/issues/8 for context.

commit 5ed31c55c210db0cdbd91293bbe3eda5b6cb99ce
Author: ivan-aksamentov <ivan.aksamentov@gmail.com>
Date:   Tue Sep 29 22:07:02 2020 +0200

    fix: polyfill Promise to avoid crashes in old browsers
    
    Resolves #1213
    
    This adds `Promise` polyfill before async entrypoint.
    This is "solution 2" in the linked issue. See there for more details.

commit f58fe4e5802e4ca4450c76c91b0e7c32905ba90f
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Mon Sep 28 16:22:00 2020 +1300

    update changelog and rebuild docs

commit 8460066a9b8c54795c4098bb6c5d8acd74680980
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Mon Sep 28 16:13:44 2020 +1300

    version bump to 2.18.4 for release

commit 92b920836ae6776bf7314e00f38abe0fe3ed7b94
Merge: 1c819517 129ff933
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Mon Sep 28 16:07:46 2020 +1300

    Merge pull request #1214 from nextstrain/update-deps
    
    Update dependencies

commit 129ff93333f5673e4c3735b3fe65a7c3c0aaf477
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Mon Sep 28 15:28:45 2020 +1300

    security fix: update deps via npm audit

commit f9b63822a93523a85cfd07bc9af2bfef5d1f6653
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Mon Sep 28 15:21:25 2020 +1300

    Update leaflet libraries
    
    The leaflet library wasn't pinned correctly resulting in recent
    installs of auspice using 1.7.1 which was incompatible with versions
    of leaflet-gesture-handling allowed by auspice. See
    https://github.com/nextstrain/nextstrain.org/issues/223 for more
    information.
    
    This commit fixes the problem by updating both libraries which allows us
    to use an improved version of leaflet. The versions are now pinned
    exactly preventing this issue in future.

commit 1c819517568c01e1a654c56b30b666211d03d7ab
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Tue Sep 22 09:05:30 2020 +1200

    version bump to 2.18.3 for release

commit 6ca107cab3af3332450db71cf1ebb1342ff71d25
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Tue Sep 22 08:59:33 2020 +1200

    Revert "Improve parsing of auspice URLs with a colon character"
    
    This reverts commit 886e706a3d9b3dee4aeab4e3bef5097a0e90d1e4.
    The regex (`const re = /(?<!http[s]?):(?!\/\/)/;`)
    was not working on Safari, ER etc and gave the error:
    "SyntaxError: Invalid regular expression: invalid group specifier name"
    This may be because < looks like a beginning of a named capture group.

commit e60247ef40b52a58949f6333bc55854c0aca74d6
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Sat Sep 19 10:09:24 2020 +1200

    version bump to 2.18.2 for release

commit 9f6c2c1de6fdfe4e4dd8780a7244ce05a4315934
Merge: 99acab53 886e706a
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Sat Sep 19 10:00:16 2020 +1200

    Merge pull request #1210 from nextstrain/dont-split-dataset-prefix
    
    Improve parsing of auspice URLs with a colon character

commit 99acab539bc2f8e98f438d9bfafb91a58be2bb2c
Merge: 468a34ea 2a962c8c
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Sat Sep 19 09:58:37 2020 +1200

    Merge pull request #1209 from ivan-aksamentov/fix/unescaped-css-selectors
    
    fix: ensure generated svg ids are escaped

commit 2a962c8c555971325daa84f21502d2d43d58a484
Author: ivan-aksamentov <ivan.aksamentov@gmail.com>
Date:   Fri Sep 18 19:25:03 2020 +0200

    fix: ensure generated svg ids are escaped

commit 886e706a3d9b3dee4aeab4e3bef5097a0e90d1e4
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Fri Sep 18 16:06:20 2020 +1200

    Improve parsing of auspice URLs with a colon character
    
    In preparation for new nextstrain.org functionality to allow
    users to specify custom JSON locations as a URL within the
    nextstrain.org URL (see https://github.com/nextstrain/nextstrain.org/pull/216)
    we need to improve the logic auspice uses to identify dual trees.
    
    dual trees are defined via <pathA>:<pathB> but we wish to allow a `:` charater
    inside pathA (and/or pathB) and not interpret this as requesting two trees.

commit 468a34ea493dcd73901442fb462e0ac197e3c1e7
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Fri Aug 7 11:21:31 2020 +1200

    changelog & rebuild docs

commit eb623a93da63c1f549ae4940b79cad94cbd02ed7
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Fri Aug 7 11:07:50 2020 +1200

    version bump to 2.18.1 for release

commit 33d749dc857795edd876340654256566a673c7fc
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Tue Aug 4 13:48:53 2020 +1200

    update test narrative
    
    The narrative to test missing dataset was confusing as the dataset (a "nextstrain community" URL) was invalid for a local auspice server but valid for the nextstrain.org server. Making it a clearly non-existing dataset URL makes it less confusing when testing functionality within nextstrain.org.

commit 994b39c521c9ac68899c0b5feb790b1264b9818d
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Tue Aug 4 13:45:47 2020 +1200

    Add padding to narrative sidebar paragraphs
    
    Currently there is no vertical space between paragraphs.
    This fix is for desktop only as padding was already in place on mobile.
    Closes #1196

commit 8ae57f1856b6aed6ee884a8e73541e9274e79787
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Mon Aug 3 15:51:40 2020 +1200

    version bump to 2.18.0 for release

commit c60ac8e490c48587a9f533f8a65865e9adc41959
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Mon Aug 3 15:50:51 2020 +1200

    changelog + minor docs updates

commit fa438656afca90445873a7ea9440bb44a510757d
Merge: 08e9522d f0d4d59e
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Mon Aug 3 14:57:17 2020 +1200

    Merge pull request #1188 from hangzho/zoom-bug-in-entropy-panel
    
    Fix the shift/option + mouseWheel zoom bug in entropy panel

commit 08e9522d90597fd8fdbbbf4c9f5f89eacc028d69
Merge: e878e3c9 0ed3eee1
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Mon Aug 3 14:43:07 2020 +1200

    Merge pull request #1192 from nextstrain/fix-zoom
    
    Improve redux state recalc on narrative slide changes. Closes #1191

commit e878e3c9e7e41ec52d71635c4751ab8782b35604
Merge: bef3e846 d4baefaf
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Mon Aug 3 14:26:04 2020 +1200

    Merge pull request #1193 from nextstrain/next
    
    Narrative mode improvements

commit d4baefafff493d9d537ae53f92522a8c4b709beb
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Mon Aug 3 13:54:47 2020 +1200

    Improve logic around switching into & out of narrative mode
    
    This commit represents a big simplification of how we toggle into and out of narrative mode. This happens in two places: the "exit narrative mode" button on the last narrative slide and the "explore the data" button (desktop only). The desired behavior is that we switch to "interactive mode" (i.e. with the controls sidebar) but with a "return to narrative" button (desktop only). The URL should change from a narrative pathname and n=<slide_number> query to the pathname of the dataset & query describing the view settings.
    
    The code is simplified to use a consistent action for all the above behavior ("TOGGLE_NARRATIVE").  This allows multiple datasets to work appropriately, as well as window resizing triggering a switch to mobile display (or vice versa).
    
    This resolves a long-standing development paper-cut where the narrative URL would disappear when hot-reloading (due to the unmounting behavior).
    
    
    Co-authored-by: eharkins <eli.harkins@gmail.com>

commit 6df515cb11823b9c23ba3fb1870cc4a1d7807390
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Thu Jul 30 16:55:26 2020 +1200

    extend multiple-datasets-in-narrative to mobile narrative view

commit 1efd1d1f86ae5e83ef7e35192aaa28c4797c6858
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Thu Jul 30 16:33:37 2020 +1200

    Remove "experimental" terminology relating main-display-markdown
    
    This commit represents a simplification of the page-change logic when navigating between pages (the `EXPERIMENTAL_showMainDisplayMarkdown` action is unnecessary as the `changePage` action will correctly set the panels).
    
    Additionally we rename the react component to remove the "experimental" prefix as this has been in widespread use for a number of months now.

commit ba623e1703870425cc15a89480b93eab3e8bc5d1
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Thu Jul 30 16:16:34 2020 +1200

    Simplify URL query logic
    
    This commit was prompted by a bug resulting from the URL query representing two different concepts: what is displayed in the URL and the app state that this drives.
    
    Previously we approached this with two arguments to the state-setting-function: `query` and `queryToDisplay`. Here we remove the latter and interpret the former as synonymous with the URL. This results in simplified logic where the logic for interpreting what app state a narrative page desires (e.g. `query={n: 3}` -> `{c: "region", ...}) now resides within the `createStateFromQueryOrJSONs` function.

commit f63bfbbd47510c1c2c7103f9c43bcc4cfd4e2417
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Wed Jul 29 18:04:36 2020 +1200

    Update and add test narratives

commit eb67db662f24b7854ca5d38ae7c86c7d916a6de4
Merge: ba652b85 3a49166c
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Wed Jul 29 17:40:24 2020 +1200

    Merge branch '1050-mult-narratives'
    
    * 1050-mult-narratives: (26 commits)
      narrative fetching error handling
      Add back in CACHE_JSONS
      remove unused action CLEAR_JSON_CACHE
      Only clear jsonCache on CLEAN_START;
      linting
      Update loadData.js
      throw 404 when dataset is not available, compatibility fallback for old narratives
      async fetching of additional datasets, remove _.uniq
      fetch unique set of datasets for narratives
      TODOs
      fix package lock to same as master
      mostly clarifying comments
      WIP: remove listeners in components when unmounted
      clean up + jsonCache redux sensible default
      mult-dataset narratives working;
      changing narrative datasets: how to best rerender?
      WIP: mult-dataset narratives partly working
      WIP allow multiple dataset narratives;
      Update recomputeReduxState.js
      Update recomputeReduxState.js
      ...

commit ba652b85215b2f645ff70cf68316b7841ffa473a
Merge: bef3e846 de9439f1
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Wed Jul 29 13:40:59 2020 +1200

    Merge branch 'parse-narrative-in-client'
    
    * parse-narrative-in-client:
      [client-narratives] update bundlesize config
      [client-narratives] change bundle structure to accommodate YAML parsing
      [client-narratives] modify markdown parser settings
      [client narratives] update documentation
      [client-narratives] parse markdown client-side
      [client-narratives] Allow client to gracefully fall-back to JSON
      [client-narratives] Allow narrative API to return unmodified markdown file

commit 0ed3eee1ec9b7efb1e38e3c2011d8e72b3171502
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Tue Jul 28 15:52:53 2020 +1200

    Improve redux state recalc on narrative slide changes. Closes #1191
    
    This commit improves the creation of new state during narrative slide-changes which has a number of beneficial side-effects.
    
    Previously we made a shallow-copy of the (redux) controls state when we changed slides, which resulted in props-comparison of nested state (i.e. objects within the controls state) being hard to reason with. This was problematic with the `temporalConfidence` object, which explains the approach employed in 0713e69b0707c92df806a575796e7205f08332ff to allow narrative slides to update CIs.
    
    We now deep clone the controls state, allowing valid props comparison and allowing us to use this technique to decide when to render / remove CIs. (This is essentially a reversion of 0713e69b0707c92df806a575796e7205f08332ff, which was implemented as props comparisons were found to be unreliable).
    
    This commit was motivated by, and fixes #1191. That bug was a result of the previous logic indicating that CIs should be removed on each branch-hover event. This meant that any subsequent tree-manipulation (such as clicking a branch to zoom) would be likely to be considered "in quick succession" to a previous manipulation and thus not employ an animation.
    
    A test narrative is added.

commit bef3e8463e84f8b53bce032ffe5064d5a935fe35
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Tue Jul 21 16:41:11 2020 +1200

    version bump to 2.17.4 for release

commit 17f8b489d3f5fc9a56349dde3741d2ff33be99b2
Merge: 631fa8d2 01f6562d
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Tue Jul 21 16:40:31 2020 +1200

    Merge pull request #1189 from nextstrain/MainDisplayMarkdown-parse
    
    rewrite parsing of auspiceMainDisplayMarkdown;

commit 01f6562dde30318a7f4bed6eb2494ac24c66cced
Author: eharkins <eli.harkins@gmail.com>
Date:   Mon Jul 20 20:17:32 2020 -0700

    rewrite parsing of auspiceMainDisplayMarkdown;
    
    use string.split instead of regex, which
    was causing browser to hang (possibly due to
    https://www.regular-expressions.info/catastrophic.html)
    despite technically valid paragraph missing both the
    opening string, "```auspiceMainDisplayMarkdown", and
    the closing string, "```".

commit f0d4d59e13b26be29f86771d4cf0df89e38d9b10
Author: Hang Zhou <hang.zhou@salesforce.com>
Date:   Thu Jul 16 16:37:59 2020 -0700

    Fix the shift/option + mouseWheel zoom bug in entropy panel

commit de9439f121f573231ceb2db8c19c6a45d3fb9a6c
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Wed Jul 15 14:30:55 2020 +1200

    [client-narratives] update bundlesize config
    
    For unknown reasons, the core-vendors and other-vendors chunks have different hashes when building locally compared with via GitHub CI. This is after running `npm ci` to mimic the CI conditions. An issue should be created to better understand this, as it implies that the contents differ.

commit b343979d97f5e077daf546d4f1a05c26fa4fff3b
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Wed Jul 15 13:26:24 2020 +1200

    [client-narratives] change bundle structure to accommodate YAML parsing
    
    The move to client-parsing of narratives has caused two changes to bundle structure.
    
    Firstly, since the `loadJSON` function now references the markdown parsing code, the dependency graph tries to pull in the related libraries into the chunk with most of the Auspice code (currently chunk 5). Previously these were a separate chunk lazily loaded with (e.g.) the footer parsing component. Since it's very common to display markdown footers, it makes life simple to include these libraries in the other-vendors bundle. It is possible to lazily load the markdown parsing function as needed, but more complicated.
    
    Secondly, the YAML frontmatter parser (previously server-side only) has a dependency on `js-yaml` which itself has dependency on "esprima" and others. Esprima is unnecessary for our purposes and we use a webpack loader to ignore it. For simplicity, we shift `js-yaml` to the other-vendors bundle. An alternative approach would be to bundle  pre-minified 'js-yaml' bundle.

commit 631fa8d2b380ba9ef9d88a0b52ff7f500e0860d6
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Tue Jul 14 16:36:18 2020 +1200

    changelog, rebuild docs & update package-lock

commit ce0f7095010d05e6b7eaded59e35c6fe5d2112c8
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Tue Jul 14 16:32:33 2020 +1200

    version bump to 2.17.3 for release

commit 4900ac5b2cfc6f4322ea4d156cc38b26098355db
Merge: 670fa911 d5c77d41
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Tue Jul 14 16:24:58 2020 +1200

    Merge pull request #1182 from nextstrain/auspice-us-fix
    
    [bugfix] allow `auspice view` to work with custom auspice clients

commit d5c77d41dfa3b7803c1699832e96135412df8aa0
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Tue Jul 14 15:35:50 2020 +1200

    [bugfix] allow `auspice view` to work with custom auspice clients
    
    When running `auspice view` there is some logic to ask if we have a customised client bundle present, which we should serve, or whether we should serve the vanilla (default) auspice client.
    
    PR #1126 introduced hashes into the (client) JS bundle names, which resulted in this logic missing when there was a customised client present, so we would always fall back to the vanilla auspice client.

commit a0cf89eda98cbb4f95c4667238c01c90bfde44ce
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Mon Jul 13 17:04:52 2020 +1200

    [client-narratives] modify markdown parser settings
    
    Parsing of the narrative (YAML) frontmatter produces markdown with `<sup>` and `<sub>` HTML elements to render affiliations using superscripts. (This behavior is unchanged from parsing server-side.) The client-side markdown sanitizer settings, however, were stricter than those employed on the server, and were removing these HTML elements causing the affiliations not to be displayed. These settings are relaxed in this commit.

commit 7e2b9d71dcc61ba6b901e13d5b0b90ce0e615306
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Thu Jun 18 15:22:57 2020 +1200

    [client narratives] update documentation

commit 5b941343d2437bfe76f66ed720d5696e668feda1
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Thu Jun 18 12:47:03 2020 +1200

    [client-narratives] parse markdown client-side
    
    This commit shifts the parsing of the markdown file (md + yaml frontmatter) into a centralised function which is imported by both the server and the client, allowing us to maintain backward compatible server-side parsing as well as client-side parsing, whilst avoiding code duplication and the inevitable divergence of functionality.
    
    Our approach to conversion of YAML frontmatter -> markdown is essentially unchanged. The algorithm for parsing of the main body has been rewritten to be more robust.
    
    Unit tests are added to cover the various ways we can define authors, links & affiliations in the YAML frontmatter of narratives.

commit 9e37b27e330699dc2417bf6c5e86aa01e7ce87c2
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Wed Jun 17 15:51:14 2020 +1200

    [client-narratives] Allow client to gracefully fall-back to JSON
    
    Here we add the framework to (eventually) parse the response from `getNarrative` as a markdown file and interpret this client-side.
    
    To facilitate backward compatibility in the cases where a server does not respect the `?type=md` query and continues to return a JSON, if the file doesn't look like markdown we will attempt to parse it as JSON.
    
    To mimic such a server, we explicitly request "type=json" in this commit, as the code to actually do the client-side md-parsing is not yet implemented.

commit 7a553b6353952f235afea99494248673fc031046
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Wed Jun 17 13:27:58 2020 +1200

    [client-narratives] Allow narrative API to return unmodified markdown file
    
    This is in preparation for client-side parsing of narrative files. A optional `type` URL query allows the same API to return the markdown file (see the documentation changes in this commit for more details).
    
    There are other possibilities, such as using the content-type field in the header, but I felt this was the clearest.

commit 670fa911f4d88e34c44dde85a56ad7ff55949476
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Mon Jul 13 15:20:36 2020 +1200

    changelog & rebuild docs

commit 3f313bae5eea653a74ecdc6e4670098e0f61f91c
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Mon Jul 13 15:07:20 2020 +1200

    version bump to 2.17.2 for release

commit 8c35cbe7ec5a834bac62de6ec11afff6157bda90
Merge: 13cc771b 83b6dcb9
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Mon Jul 13 15:04:00 2020 +1200

    Merge pull request #1181 from nextstrain/error-responses
    
    Send error messages in the response body, not the status line

commit 83b6dcb958419aa731e632eea20ac88077311934
Author: Thomas Sibley <tsibley@fredhutch.org>
Date:   Thu Jul 9 10:58:07 2020 -0700

    Disable ESLint's "no return await" rule
    
    This rule encourages premature micro-optimizations that impact
    debug-ability¹ and, IMO, make the code's intent harder to read.
    
    ¹ https://github.com/eslint/eslint/blob/master/docs/rules/no-return-await.md

commit 9bcf2004518aa06a16c0ca0c7efa03944376ed3e
Author: Thomas Sibley <tsibley@fredhutch.org>
Date:   Thu Jul 9 10:48:38 2020 -0700

    Send error messages in the response body, not the status line
    
    The HTTP status line message is not intended for arbitrary messages and
    not suitable for freeform text due to character restrictions.
    
    Using statusMessage this way has caused nextstrain.org server crashes
    when the field is assigned an error containing a newline, as newlines
    are not allowed.
    
    Resolves #1180.

commit 3a6202e0fc3daf81cd25652d16827b8023d0b1b5
Author: Thomas Sibley <tsibley@fredhutch.org>
Date:   Thu Jul 9 10:44:24 2020 -0700

    Remove unused fetchJSON() function from CLI utils
    
    All existing callers of fetchJSON() use the version in
    src/utils/serverInteraction.js.  I also checked the nextstrain.org (uses
    its own fetchJSON()) and auspice.us (doesn't call fetchJSON())
    codebases.

commit 25ae57ed198ed866b03685891d90c3c565753d67
Author: Thomas Sibley <tsibley@fredhutch.org>
Date:   Thu Jul 9 10:31:01 2020 -0700

    Update package-lock.json to reflect current version

commit bb62142d5ae1f59afee667a0cc388395b3addd96
Author: mingir2 <mingir2@illinois.edu>
Date:   Sat Jul 4 00:37:36 2020 -0500

    Clean up whitespace and remove unnecesary array copying

commit 78568f30a7f485e28127eed87b1ada8aa8525b15
Author: mingir2 <mingir2@illinois.edu>
Date:   Sat Jul 4 00:25:38 2020 -0500

    Remove trailing space per eslint

commit 391bca4150415c61efcf2e8d3dde0786b7f0226c
Author: mingir2 <mingir2@illinois.edu>
Date:   Sat Jul 4 00:21:26 2020 -0500

    Fix visible legend values calculation delay

commit 029902d038c84764d20b390e76c233754272c8a6
Merge: 1f33c26b 13cc771b
Author: Mingi Ryu <mingir2@illinois.edu>
Date:   Fri Jul 3 22:32:28 2020 -0500

    Merge branch 'master' into wip-dynamic-legends

commit 13cc771b0738bedd2d96d397b4ca77ca419ded5e
Merge: 05efebfd 288aef7a
Author: Elias Harkins <eli.harkins@gmail.com>
Date:   Fri Jun 26 13:16:40 2020 -0700

    Merge pull request #1175 from dos077/zoom_state_fix
    
    fix bug of gmax&gmin query earse on any other entropy brush

commit 05efebfd5eba8a7d086132cf8a182176118b7c28
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Thu Jun 25 16:07:28 2020 +1200

    version bump to 2.17.1 for release

commit ce56e4489a0a60c056d7fb2653d4fe34f2ad6547
Merge: ff1447c3 02c8b980
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Thu Jun 25 16:04:57 2020 +1200

    Merge pull request #1177 from nextstrain/1176-droptsv-colorby
    
    fix 1176 (Drag and drop tsv metadata not adding color by option to dropdown)

commit 02c8b980a2be2a002ca930a8f9a127c34d01572f
Author: eharkins <eli.harkins@gmail.com>
Date:   Wed Jun 24 16:38:02 2020 -0700

    fix 1176;
    
    see github.com/nextstrain/auspice/issues/1176#issuecomment-649097216

commit 288aef7af2546949ace54729f7002bffc782a4ac
Author: fbiagenthotmail <zeming@dreamofsky.com>
Date:   Tue Jun 23 00:11:42 2020 -0400

    lint fix

commit 01775c5ec356503ff929c206f33089c9355c9fc5
Author: Zh <zeming@dreamofsky.com>
Date:   Mon Jun 22 22:11:46 2020 -0400

    fix bug of gmax&gmin query earse on any other entropy brush

commit ff1447c324bb28c599c63ba19d9ad039be075951
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Fri Jun 19 15:46:59 2020 +1200

    rebuild docs

commit 18dfb6bde4f7453eec5c7f13c1fde59af3ee1932
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Fri Jun 19 15:40:23 2020 +1200

    version bump to 2.17.0 for release

commit f599c5159d6424a8a877dd09ef788cfe3c0a9258
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Fri Jun 19 15:39:40 2020 +1200

    changelog

commit 738a53368b91060ab17ede3070edc3e03c809ff2
Merge: df332dec a9a60cd4
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Fri Jun 19 10:28:17 2020 +1200

    Merge pull request #1170 from nextstrain/use-narratives-to-test
    
    Implement screenshot testing for narratives

commit df332dec361418cae7a3b2fe10aba77bc98ce783
Merge: dd5e458a ea3441cb
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Fri Jun 19 10:12:41 2020 +1200

    Merge pull request #1165 from dos077/add_transmission_url_query
    
    add url query for transmission

commit 3a49166c1603c2f51098ea6b6e66b2b0fb6042bd
Author: eharkins <eli.harkins@gmail.com>
Date:   Tue Jun 16 18:06:39 2020 -0700

    narrative fetching error handling

commit 26c5e63ec39ca98657a21b82614ee5121ff053b4
Merge: 1d03df2b f5962ecc
Author: eharkins <eli.harkins@gmail.com>
Date:   Tue Jun 16 16:05:50 2020 -0700

    Merge branch '1167-addons' into 1050-mult-narratives

commit a9a60cd4f1890206f6ca9c4bac232a57375b9211
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Tue Jun 16 17:51:58 2020 +1200

    Add a narratives snapshot test
    
    This builds on our previous efforts to develop snapshot testing (not being run automatically at the moment). Here we dynamically compare snapshots for each page within a test-narrative. This code may be refactored so that we can easily test a wide range of narratives in this fashion.
    
    Changes to the content of the narrative, including the addition of slides, should cause this test to fail, however the screenshots can be regenerated (see DEV_DOCS) without the need to modify the test script itself.

commit b2a347a66f73e0c1bbecba895d7027469e33d91f
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Tue Jun 16 14:08:42 2020 +1200

    Move to storing test narratives in the auspice repo
    
    This commit signifies a shift to storing a set of narrative files in this repo, as opposed to obtaining the nextstrain.org narratives via a script.
    
    The Nextstrain.org narratives are still obtainable (they are all stored in their own github repo) and the docs have been updated to show this.
    
    By storing and maintaining "test narratives" in the auspice repo we can both provide examples of the capability of narratives and use them to test functionality and fix bugs. As the are stored in the `narratives` directory, they are available via Nextstrain Community URLs at nextstrain.org/community/narratives/nextstrain/auspice/...

commit 1d03df2bc70043020cfe7db2c59ea78650ab5925
Author: eharkins <eli.harkins@gmail.com>
Date:   Mon Jun 15 15:37:09 2020 -0700

    Add back in CACHE_JSONS

commit dd5e458aa9e48fcf4fbf9389424580f20b19f8a2
Merge: b68296bd e301e7cb
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Mon Jun 15 17:49:12 2020 +1200

    Merge pull request #1169 from nextstrain/narratives-color-change-bug
    
    [bugfix] allow narratives to simultaneously zoom and change color

commit e301e7cb48238325bef61bc731c7387040cea46e
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Mon Jun 15 14:58:50 2020 +1200

    [bugfix] allow narratives to simultaneously zoom and change color
    
    This fixes a bug where a narrative slide-change requests that the tree both zoom and change color.
    
    This was introduced by 0639da85c4e1e1c343acbbe8d3231280ea8b68ca which, as part of the (now disabled) push for SVG gradient rendering of branches, moved the d3 call to update the stroke (branch color) into a separate code block, in order that it can behave differently for "T" and "S" parts of a branch. This code-block is not run when the tree zooms (that is the bug).
    
    Here we partially revert that commit. This should be revisited when we re-enable SVG gradients.

commit b68296bd9e901ef745ed040312ae6fafa4182aad
Merge: aa9e36aa 73b1870b
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Mon Jun 15 09:45:26 2020 +1200

    Merge pull request #1166 from nextstrain/allowed-node-versions
    
    Relax requirement for nodejs 10.8. Closes #1161.

commit 65ac3c031eb0d11793ff82ebda624b32060f4c4d
Author: eharkins <eli.harkins@gmail.com>
Date:   Fri Jun 12 13:03:57 2020 -0700

    remove unused action CLEAR_JSON_CACHE

commit 70c834ccdd07cb4975c74c37e9081bda3dee21f8
Author: eharkins <eli.harkins@gmail.com>
Date:   Fri Jun 12 13:02:17 2020 -0700

    Only clear jsonCache on CLEAN_START;
    
    also rework narrative json fetching code, fixes bug with:
     "explore the data yourself" and "return to narrative" buttons

commit f5962ecc169db27773d8d44ac2d93e9730dc0df4
Author: salvatore-fxpig <salvatore@fxpig.com>
Date:   Fri Jun 12 18:40:57 2020 +0200

    linting

commit e03bebab56ffabdcf5d7dd1855cbfe7d8f2cba1a
Author: salvatore-fxpig <salvatore@fxpig.com>
Date:   Fri Jun 12 18:20:30 2020 +0200

    Update loadData.js

commit 6c322d9eec3b83c811681a9de5e24cb018364bea
Author: salvatore-fxpig <salvatore@fxpig.com>
Date:   Fri Jun 12 17:59:50 2020 +0200

    throw 404 when dataset is not available, compatibility fallback for old narratives

commit d1cdf40c5f2b6e970c5e78f84a8038d51e0f70af
Author: salvatore-fxpig <salvatore@fxpig.com>
Date:   Fri Jun 12 04:01:27 2020 +0200

    async fetching of additional datasets, remove _.uniq

commit c887fb8cd63df086de52768756afdb5ed6cf7763
Author: eharkins <eli.harkins@gmail.com>
Date:   Thu Jun 11 13:40:01 2020 -0700

    fetch unique set of datasets for narratives

commit 73b1870bad19a46c95cf0b25bc4263aeffa597a8
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Thu Jun 11 17:50:18 2020 +1200

    Relax requirement for nodejs 10.8. Closes #1161.
    
    Auspice should work on a wide range of nodejs versions. Here I specified
    between 10.8 and 13.14 as they are the versions I've personally run
    auspice on without trouble.

commit ea3441cbbf530e88612dd51c081583e3f4614874
Author: fbiagenthotmail <zeming@dreamofsky.com>
Date:   Wed Jun 10 23:42:36 2020 -0400

    add url query for transmission

commit c456b7e73c484185e1b90cfa92ddb43f68186691
Author: eharkins <eli.harkins@gmail.com>
Date:   Wed Jun 10 18:44:09 2020 -0700

    TODOs

commit 2544076ae3a623ce0a722aba3a425df4fafa6bba
Author: eharkins <eli.harkins@gmail.com>
Date:   Wed Jun 10 18:43:51 2020 -0700

    fix package lock to same as master

commit 616ee53b5b6c5c0ec451c8aec0e58ad8c164cd58
Author: eharkins <eli.harkins@gmail.com>
Date:   Wed Jun 10 18:13:44 2020 -0700

    mostly clarifying comments

commit 54c8c6ab5ed1872d8799546bc2b48da01fb6cd22
Author: eharkins <eli.harkins@gmail.com>
Date:   Tue Jun 9 17:43:38 2020 -0700

    WIP: remove listeners in components when unmounted

commit 1ac3e667fbc5e356b1878dea6a7bd97c65ef4916
Author: eharkins <eli.harkins@gmail.com>
Date:   Tue Jun 9 17:43:03 2020 -0700

    clean up + jsonCache redux sensible default

commit 6308e62ada054f1a9264f8fb9b7ddc0eca3bfab6
Author: eharkins <eli.harkins@gmail.com>
Date:   Mon Jun 8 19:31:48 2020 -0700

    mult-dataset narratives working;
    
    this completes a bunch of TODOs (search TODO:1071 for remaining items):
    1. clear the json cache when unmounting narrative component
    2. rerender mounted react components with new dataset
    upon redux state update
    this is achieved using react "key" props
    (https://reactjs.org/docs/lists-and-keys.html#keys)
    3. wait for all datasets to be fetched using promise.all
    4. fix loading narratives from not the first page
    5. use the appropriate dataset when leaving
    the narrative page to explore a dataset

commit 0ea217af82a4225459c0ff782e34c2306f72c9f9
Author: eharkins <eli.harkins@gmail.com>
Date:   Fri Jun 5 13:07:48 2020 -0700

    changing narrative datasets: how to best rerender?

commit 3f4680777549cdf3b24b2c1d0ffc4fd844c4ea96
Author: eharkins <eli.harkins@gmail.com>
Date:   Fri May 29 21:03:00 2020 -0700

    WIP: mult-dataset narratives partly working

commit 2700cd88ba92c1273a36e8620c64258a235ad331
Author: eharkins <eli.harkins@gmail.com>
Date:   Thu May 21 13:35:57 2020 -0700

    WIP allow multiple dataset narratives;
    
    using redux to cache JSONs

commit 8f4943b2e73d068309b6813890902d9126724982
Author: salvatore-fxpig <salvatore@fxpig.com>
Date:   Tue May 5 12:26:51 2020 +0200

    Update recomputeReduxState.js

commit 0893dce90416c1e55e8e3b9de3fe3a474439dfd9
Author: salvatore-fxpig <salvatore@fxpig.com>
Date:   Tue May 5 11:55:24 2020 +0200

    Update recomputeReduxState.js

commit 24a3db418f0ed3f089d4c6d35b2ef307fa23d3a5
Author: salvatore-fxpig <salvatore@fxpig.com>
Date:   Tue May 5 02:33:54 2020 +0200

    Update package-lock.json

commit 4e35aeeefb071ae1865791c272b9a09d904c0363
Author: salvatore-fxpig <salvatore@fxpig.com>
Date:   Tue May 5 02:27:42 2020 +0200

    remove alt script to get data

commit 2e0b0b0599e9ec574308cb12ab49d9245c56bbaa
Author: salvatore-fxpig <salvatore@fxpig.com>
Date:   Tue May 5 02:24:19 2020 +0200

    lint

commit 26283222f227352dfa781c9ed2ff5a20556fb50c
Author: salvatore-fxpig <salvatore@fxpig.com>
Date:   Tue May 5 02:18:14 2020 +0200

    move all saved window state in one place

commit 55d6ff68a26a1844c11211bfeeed8c5adfca5d8f
Author: salvatore-fxpig <salvatore@fxpig.com>
Date:   Tue May 5 02:08:16 2020 +0200

    Update recomputeReduxState.js

commit 667f22ed940d8f77cb132b4d46d505dbefaa6936
Author: salvatore-fxpig <salvatore@fxpig.com>
Date:   Tue May 5 01:38:38 2020 +0200

    allow to source multiple narratives

commit aa9e36aad101d0705eaec9e366ca7e247eade072
Merge: 67a9fe3f e288c6d8
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Tue Jun 9 16:16:29 2020 +1200

    Merge pull request #1156 from nextstrain/improve-tree-zoom-logic
    
    Keep sources of the root of the zoomed-subtree in sync. Closes #1139

commit 67a9fe3f740d7439f8cc61888db6009e45dbb5d1
Merge: c3b34d59 0d86695c
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Tue Jun 9 16:15:48 2020 +1200

    Merge pull request #1159 from nextstrain/dependabot/npm_and_yarn/docs-src/websocket-extensions-0.1.4
    
    Bump websocket-extensions from 0.1.3 to 0.1.4 in /docs-src

commit c3b34d595507ba8830e9e3af4172bbf52fb9d1cc
Merge: 0a998d8a 40cb5f3e
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Tue Jun 9 16:12:31 2020 +1200

    Merge pull request #1157 from nextstrain/cast-branch-labels
    
    Cast all branch labels to strings

commit 0a998d8a36fcec12b976928e1545725f45257918
Merge: 55208f63 3d3a1c29
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Mon Jun 8 12:47:15 2020 +1200

    Merge pull request #1158 from nextstrain/feat/frequencyNormalizationToggle
    
    add toggle to normalize frequencies

commit 3d3a1c293124db257ecfc1f0802451e33ca92395
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Mon Jun 8 12:25:02 2020 +1200

    [frequencies] combine dispatch calls
    
    Toggling "normalize frequencies" now results in only a single dispatch call. This reduces the chances of state becoming out-of-sync in future work, and will allow narratives to function better (if we ever use frequencies in narratives).
    
    The "TOGGLE_X" actions work best if the react component will update appropriately when that state changes (or some middleware listens for it and updates redux state accordingly). As the frequencies are currently designed, however, the underlying matrix is updated independent of the frequencies panel, and the panel component is more of a plain-renderer.

commit 1ae3b163588360035d1e97ae295e1628c7aa119f
Author: Richard Neher <richard.neher@unibas.ch>
Date:   Sun Jun 7 14:29:42 2020 +0200

    prevent division by zero in frequency normalization

commit 8ab84aed964c2399736e6cf57563dd51fe546dce
Author: Richard Neher <richard.neher@unibas.ch>
Date:   Sun Jun 7 14:11:46 2020 +0200

    flesh out normalization message and indicate number of visible tips

commit 2c3d37365d4c3e22b5ce9c5ffd38350388f0d669
Author: Richard Neher <richard.neher@unibas.ch>
Date:   Sun Jun 7 00:13:28 2020 +0200

    fix initial state of normalization toggle

commit 00d5a03c85d20c4776ee17ba1c7619eff61e4f08
Author: Richard Neher <richard.neher@unibas.ch>
Date:   Sat Jun 6 23:59:12 2020 +0200

    add missing semicolon

commit d0259ecd28c90551068bcd196114d751a223855a
Author: Richard Neher <richard.neher@unibas.ch>
Date:   Sat Jun 6 23:55:16 2020 +0200

    fix trailing commata to appease linter

commit 06f70d4a19cd38181834f86ad86bd66cf4e6739d
Author: Richard Neher <richard.neher@unibas.ch>
Date:   Sat Jun 6 23:54:34 2020 +0200

    recalculate frequencies when toggling normalization switch

commit 0d86695cbde2b81316d921c137e79ea3d6213c8a
Author: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>
Date:   Sat Jun 6 15:12:54 2020 +0000

    Bump websocket-extensions from 0.1.3 to 0.1.4 in /docs-src
    
    Bumps [websocket-extensions](https://github.com/faye/websocket-extensions-node) from 0.1.3 to 0.1.4.
    - [Release notes](https://github.com/faye/websocket-extensions-node/releases)
    - [Changelog](https://github.com/faye/websocket-extensions-node/blob/master/CHANGELOG.md)
    - [Commits](https://github.com/faye/websocket-extensions-node/compare/0.1.3...0.1.4)
    
    Signed-off-by: dependabot[bot] <support@github.com>

commit ea965f637ba19105fe57e6fd071ecbedab852f5f
Author: Richard Neher <richard.neher@unibas.ch>
Date:   Fri Jun 5 16:04:37 2020 +0200

    add toggle to normalize frequencies

commit 1f33c26b4e9b540a107eaabd9a86ccded8e07057
Author: mingir2 <mingir2@illinois.edu>
Date:   Thu Jun 4 20:39:36 2020 -0500

    fix-loading-race-condition

commit 40cb5f3e5d21f80fcac72faf7c7e7019e9f2de75
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Fri Jun 5 13:14:49 2020 +1200

    Cast all branch labels to strings
    
    This addresses a long-standing bug in auspice and closes #888. Casting branch labels to strings doesn't change how the labels render, but does allow restoration of zoom state via URL queries which always use strings.

commit e288c6d863870b6aa8cdd10bbf52cc8e642c07db
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Fri Jun 5 12:28:02 2020 +1200

    Keep sources of the root of the zoomed-subtree in sync. Closes #1139
    
    We keep track of the root-node of the currently selected subtree within auspice via two pieces of state: `idxOfInViewRootNode` (redux state) and `zoomNode` (phylotree state). They were out-of-sync when loading a tree in a zoomed state, which resulted in the inability to zoom out via clicking on a basal branch. This commit fixes this bug. It would be better to only store this state in one place.

commit 55208f633e5f6ea549c3c6022c44ee42b32cec3e
Merge: 748ec8af a9ef44bb
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Thu Jun 4 10:15:58 2020 +1200

    Merge pull request #1153 from nextstrain/transmission-perf
    
    Improve performance when transmission lines are not drawn

commit 748ec8af6d134b8e807915e83cd89256ea375521
Merge: 290e482a f8b8b564
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Thu Jun 4 10:15:39 2020 +1200

    Merge pull request #1152 from nextstrain/transmission-lines-defaults
    
    Allow "show transmission line" state to be set as a display default

commit a9ef44bb886bdd1273115576197e85b722424486
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Wed Jun 3 17:16:33 2020 +1200

    Skip transmission calcs when not displayed
    
    This skips the creation of `transmissionData` and `transmissionIndices` when we are not displaying transmission lines, and the corresponding DOM elements are never created.

commit f8b8b5648161b887ba01e636559c4c0a4f2ae41c
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Wed Jun 3 13:06:33 2020 +1200

    Allow "show transmission line" state to be set as a display default

commit 290e482a8739037280e2232a20be1510345b5214
Merge: 074f13b9 3a795d1f
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Tue Jun 2 18:42:47 2020 +1200

    Merge pull request #1146 from nextstrain/caching-settings
    
    Caching settings

commit 716f76fbf04a359837bd2655e93c927b1ae1e6ab
Merge: 688f8d83 074f13b9
Author: Mingi Ryu <mingir2@illinois.edu>
Date:   Mon Jun 1 17:14:26 2020 -0500

    Merge branch 'master' into wip-dynamic-legends

commit 688f8d83f260175e64fd00d4df2c42505bc1cb90
Author: mingir2 <mingir2@illinois.edu>
Date:   Mon Jun 1 17:01:14 2020 -0500

    Modify createVisibleLegendValues to handle second tree and fix null visibility on load

commit 074f13b971c22e99df2afb9051540fe92b81eb0e
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Fri May 29 17:25:40 2020 +1200

    rebuild docs

commit 5cc6c86e67964302bdb893d00f781d247e2a3bb5
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Fri May 29 17:08:48 2020 +1200

    changelog

commit 66c0f662b620f40a881159f3baa95b350c1a3630
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Fri May 29 16:43:05 2020 +1200

    version bump to 2.16.0 for release

commit c64660e4c188189e053824eb67e18bc0108db2d4
Merge: 6e4137c8 331c3012
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Fri May 29 16:22:54 2020 +1200

    Merge pull request #1148 from nextstrain/temporarily-disable-integration-tests
    
    temporarily disable integration tests running on GitHub

commit 6e4137c83b7161f1cb36ec0ac35c512f98ee78f6
Merge: 9d0b4214 c238807c
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Fri May 29 16:16:14 2020 +1200

    Merge pull request #1147 from nextstrain/toggle-transmission-lines
    
    Toggle transmission lines

commit 331c3012e2cdeab46411d276f7cba0e406d72354
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Fri May 29 16:09:24 2020 +1200

    temporarily disable integration tests running on GitHub
    
    These are problematic due to subtle differences in fonts across
    OSs (and maybe other reasons). There are solutions forthcoming
    which I hope we can implement shortly. However for now it's simpler
    to disable these from GitHub CI. This commit should be reverted
    in a feature branch to bring these important tests back.

commit c238807ccfe423e7e47831ef5d6fa598b245266f
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Fri May 29 15:57:54 2020 +1200

    Remove unnecessary byline in sidebar

commit ea47ae4f8e1506e3a616a73155d91e59cc7cf328
Author: Marc Aaron <marc.aaron.glasser@gmail.com>
Date:   Sat May 2 11:12:24 2020 -0700

    Fix style

commit 192bcd38d937f9a1d873606707ca218ee56c944a
Author: Marc Aaron <marc.aaron.glasser@gmail.com>
Date:   Sat May 2 10:56:13 2020 -0700

    use spaces

commit fa028ef133f7e51f197b8040896a35544ae3edea
Author: Marc Aaron <marc.aaron.glasser@gmail.com>
Date:   Sat May 2 10:55:32 2020 -0700

    dont modify spacing

commit 5ffc2b4507c7536093b2c6ba4d57d58fba559d51
Author: Marc Aaron <marc.aaron.glasser@gmail.com>
Date:   Sat May 2 10:53:07 2020 -0700

    Toggle stroke

commit 4635a8f9063e7ddbbfd89ec82bbc7b04dda292d9
Author: Marc Aaron <marc.aaron.glasser@gmail.com>
Date:   Sat May 2 10:41:02 2020 -0700

    add missing control component

commit c8c9962b89c27bdde76db55949b3ed6d95327c50
Author: Marc Aaron <marc.aaron.glasser@gmail.com>
Date:   Sat May 2 10:40:46 2020 -0700

    toggle transmission lines

commit 3a795d1fb5e1082e26926a8cd8489240ed2c7c16
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Fri May 29 14:56:02 2020 +1200

    [auspice view] improve cache-control settings
    
    This commit (building on top of #1126) enforces that
    index.html is never cached, as it gets recreated when auspice rebuilds and the src for the main JS bundle changes accordingly. This may not be strictly necessary, as the max-age was 0 and the ETag changes as the file changes, but setting this explicitly is good practice.
    
    JS bundles, which use hashes to facilitate cache busting, are served with a 30d cache lifetime. Note that this is not enough to _force_ browsers to not revalidate within the 30d (i.e. 304 response) -- see [this post](https://stackoverflow.com/questions/26166433/how-to-prevent-request-that-returns-304/26339940#26339940) for context. Revalidation during the 30d lifetime will return a 304 which is no worse than the current situation we have.

commit adf57b0a358c54b2cf0f301e510017c38a1e1a19
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Fri May 29 14:46:48 2020 +1200

    [auspice view] remove unused handler
    
    All static assets are asked for under the `/dist` prefix and handled by the `expressStaticGzip` handler.

commit 9d0b42143edc1841e6cfb6606fb346607ce27a54
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Fri May 29 15:34:00 2020 +1200

    update package-lock

commit ff07d064e94897ee966a8c37ecf78fb79e68b4ab
Merge: 2a8f8a59 bbe2708e
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Fri May 29 14:38:45 2020 +1200

    Merge pull request #1135 from nextstrain/adjust-deme-size
    
    make deme size non linear to number of visible tips

commit 2a8f8a5911c1bd0f0bd717fd21162dc3734cff53
Merge: eefb7079 a051ec24
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Fri May 29 14:34:07 2020 +1200

    Merge pull request #1126 from salvatore-fxpig/webpack-updates-4
    
    More webpack updates - package size optimizations and long term caching

commit eefb707905b8faaa09cfe31f5f5687c5294b97c6
Merge: a4f3ee27 28f6a44e
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Fri May 29 13:41:58 2020 +1200

    Merge pull request #1144 from nextstrain/download-entropy-data
    
    Allow displayed diversity data to be downloaded

commit 28f6a44ea1c9a27b975a0cdb1f423beef66ce8b2
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Thu May 28 14:38:02 2020 +1200

    Allow displayed diversity data to be downloaded
    
    We frequently get requests to share the data displayed in the
    diversity panel. Here we address this by allowing download of
    the data behind the graph. This is the simplest implementation,
    as to download all data together ({events,entropy}U{nt,aa})
    would require recalculations within the download logic as these
    data are not stored by auspice when not being displayed.

commit a051ec24d279dc45984c039cf5becba489ae8ddb
Author: salvatore-fxpig <salvatore@fxpig.com>
Date:   Thu May 28 23:06:37 2020 +0200

    fix node_modules search function

commit 638b0e1be8629bb5f6bcced94edee873d14710b9
Author: salvatore-fxpig <salvatore@fxpig.com>
Date:   Thu May 28 21:03:59 2020 +0200

    patching a couple loose ends (hot reload, en locale, exportIndexDotHtml)

commit a4f3ee2752fcdd4d6afdd531cffa82229e89a6b7
Author: Sidney Bell <sidneymbell@users.noreply.github.com>
Date:   Thu May 28 11:51:56 2020 -0700

    Add license for visualizations / graphics.  (#1140)

commit ec8b86d573f46a344fc83072db90ba2baf605df2
Merge: 00aaaae8 41f4847f
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Thu May 28 15:33:25 2020 +1200

    Merge pull request #1129 from salvatore-fxpig/no-unexisting-datasets
    
    Handle non-valid dataset paths

commit a61590614724314a4f8f4ee7d48a6e312b4b0e2a
Author: salvatore-fxpig <salvatore@fxpig.com>
Date:   Wed May 27 11:49:04 2020 +0200

    Fix chunk paths to work on Windows as well

commit f02fc37d768cd38ec64cdfb71dd4ff9e07c03c26
Author: salvatore-fxpig <salvatore@fxpig.com>
Date:   Wed May 27 11:18:34 2020 +0200

    Update bundlesize config to reflect entry micro-chunk

commit 56688a5cf31cf6849ae2c9a56921b07c99e80077
Author: salvatore-fxpig <salvatore@fxpig.com>
Date:   Tue May 26 22:11:08 2020 +0200

    use async micro-bundle as entry point

commit ef6676cdfdda7ac4d7ae8b52eb0c175fd7992d3e
Author: salvatore-fxpig <salvatore@fxpig.com>
Date:   Tue May 26 21:39:13 2020 +0200

    move index.html to src folder

commit 1727649d416651aa1fb0efca4b015c9a296168c1
Author: salvatore-fxpig <salvatore@fxpig.com>
Date:   Tue May 26 21:17:43 2020 +0200

    remove useless ternary

commit c3d4957f9e5fe887347aaab3d4ad1863f2e9b565
Author: salvatore-fxpig <salvatore@fxpig.com>
Date:   Tue May 26 20:01:29 2020 +0200

    Update devDependencies and dependencies

commit be3ec90a8206fb7a21f15318d0215911ead7f75a
Author: salvatore-fxpig <salvatore@fxpig.com>
Date:   Tue May 26 19:03:01 2020 +0200

    explicitly search for node_modules, remove obsolete docs

commit 41f4847f57aab218ab6ab9ad7b1135d86c72b4cd
Author: salvatore-fxpig <salvatore@fxpig.com>
Date:   Tue May 26 16:19:18 2020 +0200

    formatting and remove choice_tree

commit 015129922fd7a24fa3bf072a6840b3d01a3a0fa5
Author: salvatore-fxpig <salvatore@fxpig.com>
Date:   Tue May 26 16:00:03 2020 +0200

    linting

commit 86a761cc5f42f6921a73fecddbb4788ff1b56f11
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Mon May 25 15:13:18 2020 +1200

    rename functions to better express intent

commit 4f708b32ace3f0c8cc7e2822aabe388dc56e024c
Author: salvatore-fxpig <salvatore@fxpig.com>
Date:   Tue May 26 15:50:04 2020 +0200

    keep path ordering + send incomplete paths to server

commit 7d0f9480398fb94b73af9f10edd46860119a6d16
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Tue May 26 12:26:06 2020 +1200

    prototype of architecture for dynamically computing visible legend labels

commit 00aaaae8ec050eae9b08f38d05e211e8326de0b1
Merge: 1b6f51dc 882338ec
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Mon May 25 15:57:37 2020 +1200

    Merge pull request #1118 from rleir/footerActiveFilters
    
    Footer active filters

commit 1b6f51dc7be0abe115b86d760c9d4787b2982e7d
Merge: 9c0d890f afd024d5
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Mon May 25 12:38:04 2020 +1200

    Merge pull request #1127 from nextstrain/docs-file-formats
    
    Add detailed JSON format descriptions from nextstrain.org docs

commit afd024d5f68975da8b5e761114ae922fc368a78b
Author: eharkins <eli.harkins@gmail.com>
Date:   Fri May 22 16:37:25 2020 -0700

    v2 front and center

commit bbe2708e44e5120b4b6a3b9fd7e7e89eb1064d01
Author: Richard Neher <richard.neher@unibas.ch>
Date:   Thu May 21 20:19:54 2020 +0200

    make deme size non linear to number of visible tips

commit 9c0d890f486105235a5d1fe9f8d9b4d3ec636f07
Merge: d2c96ba0 41e792de
Author: Elias Harkins <eli.harkins@gmail.com>
Date:   Mon May 18 16:16:48 2020 -0700

    Merge pull request #958 from CameronDevine/map-hysterisis-fix
    
    Fix #946 by waiting to change the map bounds in narrative mode

commit d2c96ba01d66f5be4c2ec7ad5f9ca6f9f2abf20d
Merge: fae872be 65fa67b0
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Mon May 18 18:16:31 2020 +1200

    Merge pull request #1131 from charlie-jones/colorBy_init
    
    genotype color-by not shown in sidebar dropdown on page load

commit 65fa67b06fb356496667b005f1b9ba49f32e5e22
Author: Charlie Jones <ctwj88@gmail.com>
Date:   Sun May 17 00:25:24 2020 -0700

    initialized colorBy with genotype on page load

commit d53d2cb6fdae323283a6bbc845dc203c8feb4c67
Author: salvatore-fxpig <salvatore@fxpig.com>
Date:   Fri May 15 21:03:24 2020 +0200

    add handling of invalid paths on server as well

commit 4245e69d3d1401a51afee8d9c1e8ee000580a2d8
Author: salvatore-fxpig <salvatore@fxpig.com>
Date:   Fri May 15 20:34:22 2020 +0200

    extend to the entirety of the tree

commit 94ad3b00eb9fd0fc97a67c189d3e20abaa44b5aa
Author: salvatore-fxpig <salvatore@fxpig.com>
Date:   Fri May 15 20:18:45 2020 +0200

    linting

commit d111d877b0e7330a1f647a43f11024eebdfcb6b8
Author: salvatore-fxpig <salvatore@fxpig.com>
Date:   Fri May 15 20:14:49 2020 +0200

    do not link to non-existing datasets, do not update page when same dataset is reselected

commit 2edda16082a47c0e776315520133eccdcbfc18c4
Author: eharkins <eli.harkins@gmail.com>
Date:   Thu May 14 18:07:47 2020 -0700

    Add detailed JSON format descriptions;
    
    taken from nextstrain.org docs - seems like auspice should host these

commit 2f30aa8df5c85408be486761c8546275b66b80bc
Author: salvatore-fxpig <salvatore@fxpig.com>
Date:   Thu May 14 18:41:18 2020 +0200

    set babel env for jest

commit 23dea7209810c4f5ced72dda4469b1a394289bcc
Author: salvatore-fxpig <salvatore@fxpig.com>
Date:   Thu May 14 13:56:42 2020 +0200

    package size optimization - lodash

commit 1ba8b1d3d59f2ff7a82dc95f027289be739a92f3
Author: salvatore-fxpig <salvatore@fxpig.com>
Date:   Tue May 12 20:57:53 2020 +0200

    vendor bundles and hashes for long term caching

commit a6a46c0eba40983b792792829fb526e14fe1a92b
Author: salvatore-fxpig <salvatore@fxpig.com>
Date:   Tue May 12 20:56:07 2020 +0200

    transpile node_modules with babel

commit 1e5de96fc9bc7fee13c33e6ca1cfde38b07ddabc
Author: salvatore-fxpig <salvatore@fxpig.com>
Date:   Wed May 13 21:00:07 2020 +0200

    package size optimization - papaparse

commit 12573a38ce838745d1c1a9e3f4af7f62e479af5e
Author: salvatore-fxpig <salvatore@fxpig.com>
Date:   Wed May 13 20:59:45 2020 +0200

    package size optimization - marked + dompurify

commit 9987764a06956675224199ca510bd67fc93e991b
Author: salvatore-fxpig <salvatore@fxpig.com>
Date:   Mon May 11 15:30:43 2020 +0200

    package size optimization - google analytics

commit 9c12da36122f98af9dda41a428d46db13eb3e2d2
Author: salvatore-fxpig <salvatore@fxpig.com>
Date:   Tue May 12 21:10:41 2020 +0200

    package size optimizations - locales

commit 5a3103d2647569b3984b6cdfb738ae6d855cc25d
Author: salvatore-fxpig <salvatore@fxpig.com>
Date:   Mon May 11 15:27:36 2020 +0200

    package size optimizations - leaflet

commit 30f0e9a21a3469d4a323229150fa13501a4df3e4
Author: salvatore-fxpig <salvatore@fxpig.com>
Date:   Mon May 11 15:27:21 2020 +0200

    package size optimizations - react-select

commit 46b3ead8d8888242e478d5123d5e1b7a8e3c23a5
Author: salvatore-fxpig <salvatore@fxpig.com>
Date:   Mon May 11 15:26:52 2020 +0200

    package size optimizations - d3-scale

commit 0fcd13dc6111955c03762fde70b854462e4950d8
Author: salvatore-fxpig <salvatore@fxpig.com>
Date:   Tue May 12 21:13:10 2020 +0200

    babel preset env

commit 91d37a46316a01cc9f302f9c03efbd9e17f6fffd
Author: salvatore-fxpig <salvatore@fxpig.com>
Date:   Sun May 10 16:17:52 2020 +0200

    webpack updates

commit fae872be51b64b2e204b14ae846d76de0a518689
Merge: 36c4a04f 3a764521
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Thu May 14 10:09:26 2020 +1200

    Merge pull request #1122 from salvatore-fxpig/rename-test-snapshots-windows
    
    Rename test snapshots (Windows compatibility)

commit 36c4a04fdc47df28affb7298c4a4ab5e81d26a6c
Merge: 2356920a 8cdbaae5
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Wed May 13 18:18:49 2020 +1200

    Merge pull request #1112 from AlyxMoon/add-error-message-with-bad-host
    
    catch EADDRINUSE and ENOTFOUND on dev/view script

commit 3a7645210c9901427001d1807c97785999922679
Author: salvatore-fxpig <salvatore@fxpig.com>
Date:   Tue May 12 21:18:43 2020 +0200

    rename integration testing snapshot in Windows-compatible format

commit 882338ecde9e2c945330e6b52949bd595fd6703a
Author: Rick Leir <rleir@leirtech.com>
Date:   Thu May 7 21:03:57 2020 -0400

    Condition 'Object.keys(this.props.activeFilters)' is always true because it evaluates to an array. Did you mean checking 'Object.keys(this.props.activeFilters).length' instead?

commit 8cdbaae58ff3e376300b07d23cc623618963dc6a
Author: Allister <allisterkmoon@gmail.com>
Date:   Thu May 7 09:55:49 2020 -0700

    catch EADDRINUSE and ENOTFOUND on dev/view script
    Catches both these events when starting the server on develop and view
    scripts, displays error to user.

commit 2356920a2a378b463bab0d27c4d232ddec625f4f
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Wed May 6 21:44:21 2020 +1200

    version bump to 2.15.0 for release

commit 5679742a2e6632de92fbde8dc1746d950786ba71
Merge: 37aece45 138fb33f
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Wed May 6 14:16:14 2020 +1200

    Merge pull request #1094 from rleir/invalid_css_color
    
    color value was in quotes, was bad syntax. tested by making it #3f3 b…

commit 138fb33f63fa73994e3792650b2d9088aa1335e1
Author: Rick Leir <rleir@leirtech.com>
Date:   Tue May 5 21:21:43 2020 -0400

    removed unwanted text color attribute

commit 37aece455f11e44a2fe23d4d346eb4a0d50b2bcd
Merge: e1dc2b1f 4a4408c3
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Wed May 6 11:45:49 2020 +1200

    Merge pull request #1087 from nextstrain/svg-in-md
    
    Allow SVG elements in markdown

commit e1dc2b1fbc271d1826a60239e99cf3aab691342f
Merge: 90d91e94 599c0b80
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Wed May 6 11:30:58 2020 +1200

    Merge pull request #1107 from nextstrain/arabic-translation
    
    Arabic translation

commit 599c0b802fcfd45aa4d1a3b1fdfa01b0a893f2f9
Author: Anouar <anouar.hilali1@gmail.com>
Date:   Mon May 4 01:09:37 2020 +0000

    Add ar translations, edited fr translations

commit c975de3db5a58c2ef5d42533dbcb04c6a53bffb1
Author: Anouar <anouar.hilali1@gmail.com>
Date:   Sun May 3 05:22:57 2020 +0000

    modify fr sidebar

commit 39479ad201802d670de2474646a9d42a2e975b82
Author: Anouar <anouar.hilali1@gmail.com>
Date:   Sun May 3 04:25:03 2020 +0000

    Add Arabic sidebar, modified French sidebar

commit 9e5147a2be061e7d04bc57a9bdf4b03af5fc0dd9
Author: Anouar <anouar.hilali1@gmail.com>
Date:   Sun Apr 26 02:45:51 2020 +0000

    Added arabic to locales

commit 90d91e94ebe19680c3cd966292ede107cfb3180b
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Wed May 6 10:44:11 2020 +1200

    Increase allowed bundlesizes
    
    This is promped by a number of failing PRs which are slightly over the allowed bundlesizes
    (these limits were arbitrarily picked to be very close to the bundlesizes at that time).
    Analysis of the bundles (via `auspice build --analyzeBundle`) shows that there are numerous
    modules and bits of code which could be in separate bundles -- the main bundle is especially
    problematic. A separate issue can be made to bring these down.

commit 478f981d43004e8934341de0e6f735719d293719
Merge: 9bfa17c6 43914878
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Tue May 5 15:12:59 2020 +1200

    Merge pull request #1096 from nextstrain/frequency-date
    
    Do frequency dates like tree dates

commit 439148789086feabb08456a8369c8eab78b61315
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Tue May 5 15:11:57 2020 +1200

    update docstrings

commit b3bbaacc83bd433af0d0fb9440f174fa50a9d2e3
Author: eharkins <eli.harkins@gmail.com>
Date:   Mon May 4 12:49:28 2020 -0700

    Fix rename of grid step

commit 5903ab5f56847e4d4d09a30dfa22c03799f28c1d
Author: eharkins <eli.harkins@gmail.com>
Date:   Mon May 4 10:32:14 2020 -0700

    standardize calculateMajorGridSeperationFor*

commit 1de43f5bb0615e744d4b11d75534e165c63dc673
Merge: f9646798 9bfa17c6
Author: Rick Leir <rleir@leirtech.com>
Date:   Fri May 1 21:59:23 2020 -0400

    Merge pull request #2 from nextstrain/master
    
    update from nextstrain

commit bb1549809c3bee0f5a70addb0f80e809bfe75df8
Author: eharkins <eli.harkins@gmail.com>
Date:   Fri May 1 13:07:35 2020 -0700

    remove added blank line

commit 67b591abf26b5f1e0c478e000885c6a3c1d5b84c
Author: eharkins <eli.harkins@gmail.com>
Date:   Fri May 1 13:05:56 2020 -0700

    forgot to remove unused prop

commit 5f5ce7558b0fc4f0b9355a820fcfc3392e5dde6f
Author: eharkins <eli.harkins@gmail.com>
Date:   Fri May 1 13:04:18 2020 -0700

    compute frequency ticks dynamically as in tree

commit 9bfa17c6d676dbbeb2c83e7b78313f4873f8b9c9
Merge: 0d2eaf46 05035eb1
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Fri May 1 18:25:17 2020 +1200

    Merge pull request #1092 from rleir/paddingBottom
    
    Padding bottom

commit 4a7bb02e625d666fbac5630db4d5a46def1979e6
Author: eharkins <eli.harkins@gmail.com>
Date:   Thu Apr 30 17:49:52 2020 -0700

    do frequency dates like tree

commit 16e98abbbced6f3474d49d50be400169441700e5
Author: Rick Leir <rleir@leirtech.com>
Date:   Wed Apr 29 21:37:38 2020 -0400

    change color to fix integration test

commit 663fc36362cc15fb7154ecd108d592bb79a60726
Author: Rick Leir <rleir@leirtech.com>
Date:   Wed Apr 29 20:42:03 2020 -0400

    color value was in quotes, was bad syntax. tested by making it #3f3 bright lime green temporarily.

commit 4a4408c3d028774a3aba5f156f1af8c4bb16e198
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Tue Apr 28 13:18:51 2020 +1200

    Add allowed SVG tags + attrs
    
    This allows us to embed SVG images in markdown

commit 83b71a4f49cbea49a0e06212a9d6e84afe0f9f0f
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Tue Apr 28 12:41:03 2020 +1200

    Shift markdown parsing into helper function
    
    Slight changes in function in that table elements are now allowed in the footer as well as the main-narrative-markdown. This was commented as a "to-do" in the code

commit 05035eb1682ff0abff0d1b158962b65cb5cd67c4
Author: Rick Leir <rleir@leirtech.com>
Date:   Sun Apr 26 19:30:36 2020 -0400

    remove my incorrect comments

commit 7362b4e825a4682fb234e27b6cb28b1fa3900b7c
Author: Rick Leir <rleir@leirtech.com>
Date:   Sun Apr 26 18:36:06 2020 -0400

    add comments, restored the 20px values

commit f964679850b6109c0c0b2f50757a9629e24e15c4
Merge: 2e78b0eb 0d2eaf46
Author: Rick Leir <rleir@leirtech.com>
Date:   Sun Apr 26 09:13:44 2020 -0400

    Merge pull request #1 from nextstrain/master
    
    update

commit 0d2eaf468df1466c949d6d3cb2333c542d9af537
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Fri Apr 24 22:27:37 2020 +1200

    rebuild docs

commit c306c92f8bbc32a73305feef69476a8a9ad39a0b
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Fri Apr 24 22:23:57 2020 +1200

    Restore correct casing of YAML in docs
    
    A commit introduced as part of 2.14.0 changed the casing of the "title" key in the YAML frontmatter of `DEV_DOCS.md`.  This file is ingested by docusaurus for compiling the docs & is case sensitive.

commit ff1196584256d3f05b3d0ba78561b1c34d255358
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Fri Apr 24 22:12:55 2020 +1200

    version bump to 2.14.0 for release

commit 87dece10c7f1071a2b1dfdf60d08d66ec16632a3
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Fri Apr 24 22:11:00 2020 +1200

    changelog

commit 4469409d3f741b22a2218791ffe8c8dd547e1740
Merge: c9bad37c bac17484
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Fri Apr 24 22:05:20 2020 +1200

    Merge pull request #1088 from nextstrain/update-data
    
    update datasets fetched by get-data script

commit bac174841d227c149da05a1bc51837c0f9a72e88
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Fri Apr 24 21:43:36 2020 +1200

    update datasets fetched by get-data script
    
    This brings the datasets up-to-date with those that the narratives source.
    
    Note that `ncov.json` is no longer used as a dataset, and nextstrain.org/ncov redirects to /ncov/global which uses the `ncov_global.json`. The smoke-test is updated accordingly.

commit c9bad37cc1790e43a2add4198191a53f85d6717c
Merge: 260b6aab 28c9822c
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Fri Apr 24 21:57:46 2020 +1200

    Merge pull request #1085 from nextstrain/tip-label-order
    
    Place tip labels below tips

commit 28c9822cc942be71a855ecf5dfba9cf913dd13df
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Fri Apr 24 19:24:08 2020 +1200

    Place tip labels below tips
    
    This changes the render order so that the SVG group holding tips is before (below) the tips, thus preventing labels being drawn on top of tips and preventing the on-hover behavior.
    
    A better long-term solution for the problems with drawing tip labels on big trees may be found, but this will require different rendering behavior or different logic around which tip labels to draw.
    
    Closes #1082.

commit 260b6aab6f2f7c4a623e3828156fab158b0ef8a8
Merge: a349bfda cc74e085
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Fri Apr 24 19:07:58 2020 +1200

    Merge pull request #1084 from nextstrain/snapshot-testing
    
    Add screenshot testing (rebased)

commit cc74e085d80ba47bc9ea89a77badf8a8af577810
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Fri Apr 24 18:13:00 2020 +1200

    Run integration CI test using git-lfs
    
    We use git-lfs for snapshot images which are needed to run the integration tests.

commit 7a851a0c73c90289acb9fa636ff35af7643e0b50
Author: Timmy Huang <thuang@chanzuckerberg.com>
Date:   Mon Apr 20 09:09:10 2020 -0700

    Add screenshot testing

commit a349bfda5ef61899f02fdb700164619f28b56dc3
Merge: cef3a2a4 7f9b4877
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Fri Apr 24 17:20:20 2020 +1200

    Merge branch 'git-lfs'
    
    * git-lfs:
      Add git-lfs to be used (upcoming) snapshot images

commit 7f9b4877b78fbf9b37a354329a1c7ca6b7fbb714
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Fri Apr 24 17:12:08 2020 +1200

    Add git-lfs to be used (upcoming) snapshot images
    
    See additions to dev-docs for rationale. Having this in master should allow us to rebase #1068 and therefore have git-lfs used from day zero.

commit cef3a2a4a637b3132c30ff52c96da2acf45fc1ee
Merge: f15616ec 4339338a
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Wed Apr 22 19:39:43 2020 +1200

    Merge pull request #1080 from ericenns/add-response-type
    
    Added application/json content-type to v2 dataset responses

commit f15616ec48c3cd91e4d8b32e3ec47043d7f65a0d
Merge: 92659312 b5db2e34
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Wed Apr 22 17:51:21 2020 +1200

    Merge pull request #1079 from calkan/master
    
    Turkish translation

commit 4339338afb671cb1a96b10195f34263656ec5055
Author: Eric Enns <eric.enns@phac-aspc.gc.ca>
Date:   Tue Apr 21 08:44:20 2020 -0500

    Added application/json content-type to v2 dataset responses

commit b5db2e3431fc42c4073fa79b996459f0bd2cddcb
Author: calkan <calkan@gmail.com>
Date:   Mon Apr 20 16:54:36 2020 +0300

    tr translate3

commit 5240ed01285615d37d12538b01b524b93d6ceaf0
Author: calkan <calkan@gmail.com>
Date:   Mon Apr 20 16:41:11 2020 +0300

    tr translate2

commit 9453d4dae7e6fdd4ea8bc20caffc565eb24baee0
Author: calkan <calkan@gmail.com>
Date:   Mon Apr 20 15:13:01 2020 +0300

    tr translate

commit 92659312878d0bae839900feaa93853df4dd315a
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Mon Apr 20 12:20:14 2020 +1200

    rebuild docs

commit 6eff8c353403f4d7793acd618a9f4ebe6fe9c24f
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Mon Apr 20 12:18:06 2020 +1200

    version bump to 2.13.0 for release

commit eb2090e84733df57acd1253cfe6e66f23cf44402
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Mon Apr 20 12:17:38 2020 +1200

    changelog

commit 3ab77544532db8680c7e0fa04b2ef55aa06146a0
Merge: 8f639633 ef4a3e79
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Mon Apr 20 11:55:37 2020 +1200

    Merge pull request #1046 from eharkins/522-url-conf-intervals
    
    522 Add conf intervals to URL query string

commit 8f639633d49bf404fa5f4f388bb6b281554d63de
Merge: 6585c8c9 26c65619
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Mon Apr 20 11:45:14 2020 +1200

    Merge pull request #1067 from frogsquire/1055-export-selected-tips
    
    1055 export selected tips

commit 6585c8c9738e2bffc1e3be7048a9251ac047e1ab
Merge: 2c8749aa cb857b87
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Mon Apr 20 11:36:56 2020 +1200

    Merge branch 'pr-1057'
    
    * pr-1057:
      fix typo in toEqual call
      test: text-based dataset smoke test

commit cb857b875a2b04d375fec598cd195b901f2c4d64
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Mon Apr 20 11:35:46 2020 +1200

    fix typo in toEqual call

commit 2c8749aa4c4a17e6254724c07a55b02a22b2447e
Merge: c61f0e11 19d211c9
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Mon Apr 20 11:13:03 2020 +1200

    Merge pull request #1074 from nextstrain/1073-up-arrow
    
    fix 1073; set up arrow height

commit c61f0e1194c3c41e57295058ea173e4b6ee9250c
Merge: af2b9b3e df913a38
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Mon Apr 20 11:08:25 2020 +1200

    Merge pull request #1077 from rleir/setGenotype-args
    
    Function 'recurse' defined at line 8 takes 2 arguments, but it was ca…

commit af2b9b3ed52f15f404c1c4d32188ccc96857f23d
Merge: 85b259d7 245d7546
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Mon Apr 20 11:06:53 2020 +1200

    Merge pull request #1078 from rleir/colorScale-args
    
    Function 'getMinMaxFromTree' defined at line 15 takes 3 arguments, bu…

commit 85b259d77c3ce5a740957bfda4b66b3ad70aaf6e
Merge: ce546032 d97609d2
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Mon Apr 20 11:03:24 2020 +1200

    Merge pull request #1075 from andressrudqvist/issue1035pr
    
    fix #1035 - Color-by changes result in duplicate function calls

commit ce54603291a2948bf9f06fa33dcf0155412e05ab
Merge: 2e78b0eb 18190a51
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Mon Apr 20 10:51:42 2020 +1200

    Merge pull request #1063 from nextstrain/end-of-narrative-block
    
    Add "end of narrative" slide to blocks.

commit 18190a51ebc0605ed38d17f30f6aaad03af92665
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Wed Apr 15 18:04:57 2020 +1200

    Add "end of narrative" slide to blocks.
    
    Previously, there was a disconnect between the redux state's storage of narrative blocks, and the display of a "end of narrative" (EON) slide, which wasn't part of the blocks. PR1016 attempted to add a URL query to represent the EON, which proved problematic as we had a `blockIdx` outside of the range of the underlying blocks structure.
    
    Here I take a different approach, by having auspice add the EON as a "normal" block on JSON parsing. Thus, we have a URL query etc without introducing lots of edge cases.

commit 9b0c3f132560df08f198ccafb21239fe56d0e176
Author: Rick Leir <rleir@leirtech.com>
Date:   Sun Apr 19 05:45:48 2020 -0400

    fix spelling of property paddingBottom, set it to 2

commit 245d7546762fd7a30f6c8dbba675512fb7337cad
Author: Rick Leir <rleir@leirtech.com>
Date:   Sun Apr 19 05:02:57 2020 -0400

    Function 'getMinMaxFromTree' defined at line 15 takes 3 arguments, but it was called with 4 arguments at two places.

commit df913a389eb7257e20f2ad567bad72a4d6121d4e
Author: Rick Leir <rleir@leirtech.com>
Date:   Sun Apr 19 04:32:46 2020 -0400

    Function 'recurse' defined at line 8 takes 2 arguments, but it was called with 3 arguments at this point.

commit 90bd463ed88e52bf8ad624cb0444b89f41250efd
Author: bcoe <bencoe@google.com>
Date:   Fri Apr 17 21:11:03 2020 -0700

     test: text-based dataset smoke test

commit d97609d218149df581dc154f8927105289a2c927
Author: Andres Sebastian Rudqvist <andres.sebastian.rudqvist@gmail.com>
Date:   Fri Apr 17 01:05:13 2020 -0500

    lint 2

commit 311b603b5a74f23a5738f02cbfaef16c26a7e245
Author: Andres Sebastian Rudqvist <andres.sebastian.rudqvist@gmail.com>
Date:   Fri Apr 17 00:58:30 2020 -0500

    fix code style - lint

commit 20d8439c6b618bfb4df629d738332033816d75ed
Author: Andres Sebastian Rudqvist <andres.sebastian.rudqvist@gmail.com>
Date:   Thu Apr 16 21:48:04 2020 -0500

    Update color-by.js

commit 26c65619c03d0b4fdab6cf2f71c2bea4d0fc8838
Author: max <max@zimon.co>
Date:   Thu Apr 16 21:27:33 2020 -0500

    #1055: lint fix - make sure label has a for attribute tying it to each button

commit 2138543b7678a318874d2406a8742c96b923f146
Author: max <max@zimon.co>
Date:   Thu Apr 16 21:22:35 2020 -0500

    #1055: npm run lint; show selected tips download option only if any tips are selected

commit 8a7a649e701cda3e44011cb4987b243ef9580f2e
Author: max <max@zimon.co>
Date:   Thu Apr 16 20:32:25 2020 -0500

    #1055: update comments per PR suggestions

commit 33719683a8e80a1a92bdd3f3d63a11e26919c094
Author: max <max@zimon.co>
Date:   Thu Apr 16 20:28:25 2020 -0500

    Revert "updating packages.json, package-lock.json with npm update, npm audit fix"
    
    This reverts commit b972a23cf7539db7c117cb13857844434c31e22b.

commit 19d211c9949d04c3cdff0c74108ed6bd7d4c0152
Author: eharkins <eli.harkins@gmail.com>
Date:   Thu Apr 16 17:24:58 2020 -0700

    fix 1073; set up arrow height

commit 2e78b0eb3227b6bb5e6966f7eef70e14e50ddd05
Merge: 307eb8e5 9a36ad39
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Fri Apr 17 08:16:51 2020 +1200

    Merge pull request #1069 from nextstrain/bundle-size-ci
    
    Add bundlesize checks to CI

commit 9a36ad39a8a6aa8a39339cc7fb6d876191c27861
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Thu Apr 16 19:38:56 2020 +1200

    Add bundlesize checks to CI
    
    This adds a bundlesize check to the CI with very liberal tolerances for most of the chunks. It should identify egregious bundle size expansion and provide an easier path for manual comparison of master vs PRs.
    
    Currently bundlesize doesn't work with GitHub actions out-of-the-box, but this is planned for their roadmap (and they've just got $10k from Google so I'm confident it will happen). Redux-saga seems to have this working via https://github.com/redux-saga/redux-saga/pull/1952/files.
    
    We can revisit the settings here after the chunk hashing https://github.com/nextstrain/auspice/issues/1037.

commit 307eb8e51cf7cf1280009bb0ed09702932ec79b5
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Thu Apr 16 18:52:20 2020 +1200

    Fix eslint errors
    
    Ironically, we just merged CI to run lint on every PR, but since this PR branched
    off master before this was implemented I missed it.

commit dbb6350aff8e0894dd71f065754b28948cfcfaed
Merge: f69e01c9 08734885
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Thu Apr 16 18:46:06 2020 +1200

    Merge pull request #1062 from mingir2/master
    
    Fix choose layout control

commit f69e01c9a1b291a789308d00689242ed12bc300f
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Thu Apr 16 18:20:45 2020 +1200

    add GitHub CI workflow badge to README

commit f01cf858241f9aab988197d32e6e673c33221bf9
Merge: 0c5721e0 9160b674
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Thu Apr 16 18:12:41 2020 +1200

    Merge pull request #1059 from bcoe/actions
    
    build: adds GitHub Actions for test/integration/lint

commit 9160b674f0c61c7e5b2deaf587b899a1726e9c37
Author: bcoe <bencoe@google.com>
Date:   Wed Apr 15 22:48:58 2020 -0700

    chore: address review

commit e6f569d2b2d7956309a9191cfc270d983dfcfd5a
Author: bcoe <bencoe@google.com>
Date:   Wed Apr 15 22:43:20 2020 -0700

    chore: use package-lock.json from master

commit 3bedc49a4a36331a4d8acea16340a720620d180b
Author: bcoe <bencoe@google.com>
Date:   Sat Apr 11 23:58:29 2020 -0700

    build: adds GitHub Actions for test/integration/lint

commit db193d00794b579cbdd1f1897b1cb119c6c707f8
Author: max <max@zimon.co>
Date:   Wed Apr 15 20:36:33 2020 -0500

    #1055: update style of links to conform to mockup

commit 0c5721e0afd05fa36d5b7aa364d0bd344cfe405e
Merge: 568dd299 bb4a49c9
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Thu Apr 16 12:34:53 2020 +1200

    Merge branch 'pr-1065'
    
    * pr-1065:
      Remove font-awesome and use react-icons

commit bb4a49c939f7e7106923b20ca54f1dbf0fcdfb57
Author: joachimschmidt557 <joachim.schmidt557@outlook.com>
Date:   Wed Apr 15 20:39:54 2020 +0200

    Remove font-awesome and use react-icons

commit 568dd2996d5136a650a05925209e1b69cd83d3c2
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Thu Apr 16 12:02:10 2020 +1200

    fix eslint errors

commit def226134b00f60c0b86f699d65dab3d633e3fbb
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Thu Apr 16 11:58:55 2020 +1200

    update package lock
    
    React-icons was missing & also ran npm audit

commit 80fafcfa649b1bbd896dccc8424d0996db6bfc06
Author: Sidney Bell <sidneymbell@users.noreply.github.com>
Date:   Wed Apr 15 09:31:35 2020 -0700

    Add field for license, copyright, etc (#1061)

commit 671c9b6fc71eac0c745987278e261b8bb5fb4125
Author: Maxwell Zimon <max@zimon.co>
Date:   Wed Apr 15 10:06:34 2020 -0500

    #1055: add descriptions with counts to the modal (not styled yet)

commit de76879c65118460a161b3940de60303665f94b4
Merge: a64f9ba0 a36d3c19
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Wed Apr 15 15:59:06 2020 +1200

    Merge branch 'pr-1058'
    
    * pr-1058:
      fix linting errors
      Fix rendering of error message
      Modified error message
      Add try-catch to the footer parsing methods—issue 836.

commit a36d3c1977be0c763fd544a685d0dd1b2e40d775
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Wed Apr 15 15:57:47 2020 +1200

    fix linting errors

commit b1cb949f8a82db42ecb3fc30232bd2ae28d4c95d
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Wed Apr 15 15:57:21 2020 +1200

    Fix rendering of error message
    
    `cleanDescription` is an HTML string to be rendered, not a react element.

commit a64f9ba02aed70027f0ed0a30786ca92159bf899
Merge: 82fb6ce3 1d94f8d9
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Wed Apr 15 15:26:19 2020 +1200

    Merge branch 'pr-1041'
    
    * pr-1041:
      Use react-icons for chevrons
      Fix lint & bottom padding
      use font awesome chevrons instead of inline svg

commit ef4a3e790ac57330b470a6f32761a9d59e45f509
Author: eharkins <eli.harkins@gmail.com>
Date:   Tue Apr 14 19:54:02 2020 -0700

    fix more conf interval bugs exposed by narratives

commit a62955c6f05003395ecd5a70f50e3d31eed9159a
Author: eharkins <eli.harkins@gmail.com>
Date:   Tue Apr 14 19:53:40 2020 -0700

    replace longwinded comment

commit 0713e69b0707c92df806a575796e7205f08332ff
Author: eharkins <eli.harkins@gmail.com>
Date:   Tue Apr 14 19:50:44 2020 -0700

    remove oldProps comaprisons for temporalConfidence

commit 4de5ef336a07eb0ea6babf6eb987e84c54fc67c1
Merge: e40ab261 82fb6ce3
Author: eharkins <eli.harkins@gmail.com>
Date:   Tue Apr 14 16:33:46 2020 -0700

    Merge branch 'master' into 522-url-conf-intervals

commit e40ab261e5e4b78065550fd9ae954a857d553c6d
Author: eharkins <eli.harkins@gmail.com>
Date:   Tue Apr 14 16:32:43 2020 -0700

    add ci to docs

commit f125925e9731b2102181eae1bd8015a588bc0b80
Author: eharkins <eli.harkins@gmail.com>
Date:   Tue Apr 14 14:21:38 2020 -0700

    lint

commit 08734885427c24dff8d0bc7db95f7925e98b935a
Author: mingir2 <mingir2@illinois.edu>
Date:   Tue Apr 14 09:57:08 2020 -0500

    Fix choose layout control
    Allow user to change layout after the pause, but prevent the user from changing layout during the animation.
    Added handleChangeLayoutClicked.

commit 82fb6ce3dbbafbd7afb52661aff8396f7ae2bad3
Author: Sidney Bell <sidneymbell@users.noreply.github.com>
Date:   Mon Apr 13 17:58:47 2020 -0700

    Tidy up the narratives front matter

commit 1f3e75521089821cacfdc23cccde39d01da69cd9
Author: eharkins <eli.harkins@gmail.com>
Date:   Mon Apr 13 14:34:05 2020 -0700

    shouldDisplayTemporalConfidence
    
    use a function in place of hardcoded logic about whether or not to
    display confidence intervals

commit 8dc30f092d7e2428dc72f70ac568edb4024c576f
Author: Maxwell Zimon <max@zimon.co>
Date:   Sun Apr 12 18:10:20 2020 -0500

    #1055: add "selected" to the filename for metadata exports of selected tips only

commit 18600e05aa3fe4282b5ca8940702924619d5e237
Author: max <max@zimon.co>
Date:   Sun Apr 12 14:00:48 2020 -0500

    #1055: add selected metadata button; filter out unselected nodes when metadata generated via this method

commit b972a23cf7539db7c117cb13857844434c31e22b
Author: max <max@zimon.co>
Date:   Sun Apr 12 11:08:24 2020 -0500

    updating packages.json, package-lock.json with npm update, npm audit fix

commit 4f506d6667183069e0fca1451452826d1bedbd8c
Merge: b6c5fe8b 4402d587
Author: max <max@zimon.co>
Date:   Sun Apr 12 10:58:38 2020 -0500

    Merge remote-tracking branch 'upstream/master'
    
    # Conflicts:
    #       package-lock.json
    #       package.json

commit b6c5fe8b538057ccdb1ad942c853ecb4dc68c49f
Author: max <max@zimon.co>
Date:   Sun Apr 12 10:57:56 2020 -0500

    ignore vscode debug configuration; updating packages

commit b874dd339e24c93b586c3f7d37544be55d4a17ac
Author: Andres Sebastian Rudqvist <andres.sebastian.rudqvist@gmail.com>
Date:   Sat Apr 11 22:55:03 2020 -0500

    Modified error message

commit ac135c9fa0e7d06b2b0912061538b989fd06799e
Author: Andres Sebastian Rudqvist <andres.sebastian.rudqvist@gmail.com>
Date:   Sat Apr 11 22:32:53 2020 -0500

    Add try-catch to the footer parsing methods—issue 836.

commit 1d94f8d929ddc0456965aeee89a5a53bd789cd27
Author: joachimschmidt557 <joachim.schmidt557@outlook.com>
Date:   Fri Apr 10 14:37:49 2020 +0200

    Use react-icons for chevrons

commit e2152c0fa9a26257418fbd61e177adaac45ce0e2
Author: eharkins <eli.harkins@gmail.com>
Date:   Thu Apr 9 17:59:45 2020 -0700

    fix #1053;
    
    allow confidence interval svgs to be added

commit 308029ee6a15acb9969ac33cf6e6c6ca51d871d3
Author: eharkins <eli.harkins@gmail.com>
Date:   Thu Apr 9 17:29:59 2020 -0700

    fix #1051;
    
    dont show conf interval toggle for div trees;
    also consolidate logic for state.controls.temporalConfidence.display

commit b249958f3c5ca2bbbe3f5c071853dbd2c3808f90
Author: eharkins <eli.harkins@gmail.com>
Date:   Thu Apr 9 17:26:42 2020 -0700

    remove ci from query if it doesn't apply

commit 013b75aa6af08315d33431d23c3887f6867ac3e0
Author: eharkins <eli.harkins@gmail.com>
Date:   Thu Apr 9 17:21:40 2020 -0700

    change URL ?ci=true to just ?ci

commit 5562785d76c4a2f063eeac5cce14f79dd33acb7f
Author: joachimschmidt557 <joachim.schmidt557@outlook.com>
Date:   Wed Apr 8 18:08:50 2020 +0200

    Fix lint & bottom padding

commit 398ed05f07bc49c9ba3c40e70e47adf52b87434d
Author: joachimschmidt557 <joachim.schmidt557@outlook.com>
Date:   Fri Apr 3 19:01:19 2020 +0200

    use font awesome chevrons instead of inline svg

commit 4402d587a4102950ba70bb2dead6a84a5a200db7
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Wed Apr 8 20:21:09 2020 +1200

    rebuild docs

commit 2284292030d349ec0aa1e8ed7c2c6eb504f93cb0
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Wed Apr 8 20:00:19 2020 +1200

    version bump to 2.12.0 for release

commit e476fe37c2794a17f9adb0a1bd2780a766db2e7a
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Wed Apr 8 19:53:09 2020 +1200

    changelog

commit 044b7053af629ed0594d2d70cfa13fdee612889b
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Wed Apr 8 19:48:34 2020 +1200

    update dev docs

commit 84fbe0f670220915e067f393ed1b2648ca0294f8
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Wed Apr 8 19:43:01 2020 +1200

    Update package-lock via `npm audit fix`

commit 0bfc3f15dd9de03e66bc91205b8d0a6fec8009ad
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Wed Apr 8 19:22:57 2020 +1200

    typo

commit 8acd76bfb95eb3acedf2f26c6cb10db622496b3d
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Wed Apr 8 19:21:33 2020 +1200

    add `lang` URL query to docs

commit 6c8ee54e6cf3e7a99ced9eca6ada6287a34b7aea
Merge: 9234f062 7e0b2220
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Wed Apr 8 19:17:36 2020 +1200

    Merge branch 'pr-1045'
    
    * pr-1045:
      Add missing Japanese translations
      Add Japanese translation
      Add Japanese translation
      Add Japanese localization - WIP

commit 9234f06229c7f32a898f0cae1fd9988d24ee72ef
Merge: 88e3b779 27bbba17
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Wed Apr 8 19:04:22 2020 +1200

    Merge branch 'pr-920'
    
    * pr-920:
      Polish jumpy-ness in the endRegion animation by using CSS scaling
      [animation] Remove unnecessary animation when frame transitions between appearing and disappearing, replace visibility with opacity
      [animation] Clarify names for show/hiding temporal slices
      [feature] Adapt transition-based animation to work with rightHandTree coordinate system
      [feature] Improve smoothness of animation for temporalWindow movement

commit 7e0b2220e51152eddcdda485723c6ae5d3c682c1
Merge: 5da0adb2 b3fa5080
Author: Emma Haruka Iwao <yuryu@google.com>
Date:   Tue Apr 7 23:27:44 2020 -0700

    Merge commit 'b3fa5080' into HEAD

commit 88e3b7793f86eab6ac204dd7d665ade791247aff
Merge: 66115d96 971ee320
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Wed Apr 8 18:08:34 2020 +1200

    Merge branch 'pr-935'
    
    * pr-935:
      Keep legend open state in sync
      Issue 818: Add legend to map view

commit 971ee320a409506916cc360eee94b124779b594d
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Wed Apr 8 18:02:16 2020 +1200

    Keep legend open state in sync
    
    This removes the "for" parameter, resulting in the open/close state of the legends being in-sync. I consider this a feature not a bug. Additionally, the code is simpler & the URL query for "legend" works again.

commit 66115d96116a0b8092f725ff1c163ad880deb704
Merge: 5daee120 e8eb3882
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Wed Apr 8 16:07:45 2020 +1200

    Merge branch 'pr-959'
    
    * pr-959:
      reduced the hight of the left hand scolled pages and added some padding to correctly fit the content.
      only changing narrative page when a large enough scroll value is present
      allowing scrolling in narrative sidebar

commit 5daee120d4f9194baa044ff9fc107060e292fbeb
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Wed Apr 8 15:53:32 2020 +1200

    Reinstate `lang` URL query
    
    Initially i'd hoped to leave this out until we had unified language support across nextstrain.org, however it seems prudent to put this in now given the number of available translations in auspice

commit 25c55cfca84f083c1d7e22e8bb764e31b8f7d999
Merge: ceb4be6c b1be7a72
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Wed Apr 8 15:44:31 2020 +1200

    Merge branch 'pr-1018'
    
    * pr-1018:
      Move babel-plugin-lodash to dependencies
      optimize: add babel-lodash-loader

commit b3fa508009e500238ae9e42f915ce5bc89f1875b
Author: Emma Haruka Iwao <yuryu@google.com>
Date:   Tue Apr 7 20:23:14 2020 -0700

    Add missing Japanese translations

commit ceb4be6c774b3110081aacf790c976141d04e244
Merge: bea86b31 b8263a2f
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Wed Apr 8 14:16:32 2020 +1200

    Merge branch 'pr-1029'
    
    * pr-1029:
      Update index.js

commit bea86b31c53c13b56ea36a2403d66389ec5bd680
Merge: fc69b8f1 5de5f989
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Wed Apr 8 14:11:27 2020 +1200

    Merge pull request #1040 from joachimschmidt557/fix-map-buttons
    
    fix map play and reset buttons

commit fc69b8f1fa3c54bb4eea2d039ab1e177b687e019
Merge: 22fd0b2f 44c22a19
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Wed Apr 8 14:05:49 2020 +1200

    Merge branch 'pr-1043'
    
    * pr-1043:
      Improve tree label font sizes
      #915: using triple equals
      #915: determine whether tip label should be shown based on count of fully visible nodes, not all in-view nodes

commit 44c22a19247917abed2e3bf7efa6cacec49ab314
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Wed Apr 8 14:05:31 2020 +1200

    Improve tree label font sizes
    
    The font size should be a function of the total number of tips on the screen ("in-view"), regardless of their visibility. Renames variables to make the distinction clearer. There are still plenty of edge-cases where these don't look great, but this is a big improvement over the current version of auspice.

commit 1dd9537c6d350dbb753787933d11de9dcf9bf081
Author: Haruka Iwao <yuryu@yuryu.jp>
Date:   Sun Apr 5 23:18:09 2020 -0700

    Add Japanese translation

commit 5da0adb2769f66b0879bcf311330175f339d41f5
Author: Emma Haruka Iwao <yuryu@google.com>
Date:   Tue Apr 7 13:29:37 2020 -0700

    Add Japanese translation

commit 5fc0c864ac15c535d6ec458e2abf78593416563a
Merge: 9331342f 22fd0b2f
Author: eharkins <eli.harkins@gmail.com>
Date:   Mon Apr 6 16:36:15 2020 -0700

    Merge branch 'master' into 522-url-conf-intervals

commit 9331342f706630768781e733257ccffbc42c21bd
Author: eharkins <eli.harkins@gmail.com>
Date:   Mon Apr 6 16:35:05 2020 -0700

    Add confidence intervals to URL state #522

commit ff29a1b19310befac355bfbcc601f86280b63e84
Merge: 22fd0b2f b6c6449e
Author: Emma Haruka Iwao <yuryu@google.com>
Date:   Sun Apr 5 23:19:15 2020 -0700

    Merge branch 'add-japanese' of github.com:yuryu/auspice into add-japanese

commit b6c6449e661637121876d35a2b0639198c288f67
Author: Haruka Iwao <yuryu@yuryu.jp>
Date:   Sun Apr 5 23:18:09 2020 -0700

    Add Japanese localization - WIP

commit 2acff616e400c13ec79be6e0ccccbc9906db6ffb
Author: Maxwell Zimon <max@zimon.co>
Date:   Sun Apr 5 11:41:23 2020 -0500

    #915: using triple equals

commit b553a323fd4601c43fa66b7b50b4a3bd72eb15cb
Author: Maxwell Zimon <max@zimon.co>
Date:   Sun Apr 5 10:52:58 2020 -0500

    #915: determine whether tip label should be shown based on count of fully visible nodes, not all in-view nodes

commit 22fd0b2fa0fdc81502b2b65f2dd01acb333dfa46
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Sat Apr 4 07:30:51 2020 +1300

    version bump to 2.11.4 for release

commit 0696329a6c3a4fd0b69098add1444f3dd5560c40
Merge: 491cb15a 26077c5f
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Sat Apr 4 07:29:59 2020 +1300

    Merge pull request #1042 from nextstrain/svg-branch-fix
    
    Switch back to non-gradient branch rendering

commit 26077c5f442487197e00540f30a1d3ede1f6c8c1
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Sat Apr 4 06:43:38 2020 +1300

    Switch back to non-gradient branch rendering
    
    Due to errors rendering gradients on SVG branches on some browsers/OSs which would cause the branches to not appear, we're falling back to the previous solution which doesn't use gradients. The code remains, but is commented out, in the hope an easy solution may be found.

commit 5de5f98985c45808396af63e63180d393dc4733f
Author: joachimschmidt557 <joachim.schmidt557@outlook.com>
Date:   Fri Apr 3 18:30:56 2020 +0200

    fix map play and reset buttons

commit b1be7a727546bda618b3288b672917e16c197a56
Author: Avin <avinkavesha@gmail.com>
Date:   Thu Apr 2 08:32:45 2020 +0530

    Move babel-plugin-lodash to dependencies

commit 491cb15a0c9f1fd2293e4ecb7ad28a57e7cf15b7
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Thu Apr 2 16:02:06 2020 +1300

    version bump to 2.11.3 for release

commit 8ccb19775c8b2fa1125bb3eac09a1642fab0c9d5
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Thu Apr 2 16:00:55 2020 +1300

    changelog

commit 1f2f9d4b587f80a727fb9adf26fd3ed26c183031
Merge: 7b5876ad 73a7df81
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Thu Apr 2 15:48:59 2020 +1300

    Merge pull request #1011 from wsuchy/issue-999
    
    Issue 999

commit 7b5876ade6ed716ee196a8e44c81f803055d483e
Merge: 4888cdcd 6cce5582
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Thu Apr 2 15:36:56 2020 +1300

    Merge branch 'pr-1017'
    
    * pr-1017:
      improve portuguese translation
      fixed bug in search strain autocomplete
      Add Portuguese translation.

commit 4888cdcd14a334e9200749db1eca9e893d4e430d
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Thu Apr 2 15:34:27 2020 +1300

    Expose `--includeTiming` arguments to help pages
    
    These functions are not new, but were suppressed from the help. Given the interest in improving performance, it's timely to advertise this functionality via `--help`

commit 7462150cb44aa5bc914edf89a1579b78cc20d1b8
Merge: d362dc06 493f4c3a
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Thu Apr 2 15:08:03 2020 +1300

    Merge pull request #1023 from peterbecich/travis-ci
    
    another Node version in Travis CI

commit d362dc06929fce3bdf346f349c8b3504d9342a6e
Merge: 2f74df09 fb129919
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Thu Apr 2 15:04:43 2020 +1300

    Merge pull request #1022 from cpsandbox/master
    
    Increase line endpoint offset to .01 For Windows/Firefox SVG gradient rendering

commit fb1299193496e98e98bf59c3074c8dcd77fa3846
Author: Clint <cpsandbox@gmail.com>
Date:   Wed Apr 1 11:38:01 2020 -0700

    Revert all renderer changes, increase line jitter

commit 493f4c3aa1bf6a897134ff19bea657ddd8c39233
Author: Peter Becich <peterbecich@gmail.com>
Date:   Tue Mar 31 19:14:31 2020 -0700

    Travis Ubuntu dist

commit 2f74df09111878cde7e08013548c92a787f7162b
Merge: b82ee29b 17f8b079
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Tue Mar 31 16:58:58 2020 +1300

    Merge pull request #1027 from terrycojones/fix-intro-typo
    
    Fixed trivial doc typo

commit 6cce5582c0b2f9e6447c73969bb28b14e5f52529
Merge: f82cce7b b82ee29b
Author: Cleiton Moura <cloura@protonmail.com>
Date:   Mon Mar 30 21:53:20 2020 -0300

    Merge branch 'master' of https://github.com/nextstrain/auspice

commit f82cce7b398ed4b832c3f4a966540f2bc79c51ad
Merge: b5b212a9 9ea329a8
Author: Cleiton Moura <cloura@protonmail.com>
Date:   Mon Mar 30 21:28:06 2020 -0300

    Merge branch 'master' of https://github.com/clouraa/auspice

commit b5b212a997e5b3451abaacd4d5f5ff63a6886edb
Author: Cleiton Moura <cloura@protonmail.com>
Date:   Mon Mar 30 21:28:00 2020 -0300

    improve portuguese translation

commit b8263a2fe285104877a1df6f0cbc81d49cb27ef8
Author: raftar2097 <ragarwala2097@gmail.com>
Date:   Mon Mar 30 20:37:37 2020 +0530

    Update index.js
    
    Replaced "require" with "import"

commit 17f8b079ebc962d0a2c32be42d78703387cc7ad1
Author: terrycojones <terry@jon.es>
Date:   Mon Mar 30 13:38:51 2020 +0200

    Fixed trivial typo.

commit b82ee29bebdd848d425363500beec6c2747f4e1e
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Mon Mar 30 18:55:07 2020 +1300

    version bump to 2.11.2 for release

commit d01782091c1406004c97ffdd893e5f62feb6685d
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Mon Mar 30 18:52:59 2020 +1300

    changelog

commit 75ea2f9c2ade72abda1d0f97a0ed5c5e0ea8c70b
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Mon Mar 30 18:48:27 2020 +1300

    [i18n] Add Lithuanian strings, fix translation call

commit a39d10f1b7b887753f4a4ff0f74069c0ad29eda0
Merge: 4a6ec6c0 d49f16e4
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Mon Mar 30 18:04:23 2020 +1300

    Merge pull request #1026 from nextstrain/search-overflow
    
    Improve rendering of long strains in Search (sidebar)

commit d49f16e4cf7c874805f34d4831c75563c0e226fe
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Mon Mar 30 17:52:38 2020 +1300

    [search] make search box the same width as other sidebar controls

commit 7eeb0e72b3bd38a5681487412b6eb271d6d50a5b
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Mon Mar 30 17:49:48 2020 +1300

    [search] break long strain names into multiple lines
    
    Improves rendering of long strain names by splitting them onto multiple lines

commit 4a6ec6c0233d499132a07164d11df463cc3db4f8
Merge: 536f33ea bab67066
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Mon Mar 30 17:21:45 2020 +1300

    Merge branch 'pr-1020'
    
    * pr-1020:
      Modified the french translation.js
      Added french translations to translation.json
      Added french translations to sidebar
      Added French to languages.js and created fr folder in locales

commit 9ea329a83d4ef46cee29160a236c79831035384f
Author: Cleiton Moura <cloura@protonmail.com>
Date:   Sun Mar 29 12:23:12 2020 -0300

    fixed bug in search strain autocomplete

commit b8379de39b5451644999d600c5cfc01008da4257
Author: Peter Becich <peterbecich@gmail.com>
Date:   Sat Mar 28 23:12:10 2020 -0700

    another Node version in Travis CI

commit a5ca9bddbe4aa1e7472372e8a3cff35eec468d2b
Author: Clint <cpsandbox@gmail.com>
Date:   Sat Mar 28 12:59:34 2020 -0700

    Remove unnecessary checks

commit bab670665a0bf77ca4e6839cdef70c6fab61a84e
Merge: 472f8b79 7f2d5f48
Author: Anouar <anouar.hilali1@gmail.com>
Date:   Sat Mar 28 20:50:15 2020 +0100

    Merge branch 'french'

commit 7f2d5f4889d6336d2f7a538c4587130e88f42439
Author: Anouar <anouar.hilali1@gmail.com>
Date:   Sat Mar 28 20:49:51 2020 +0100

    Modified the french translation.js

commit 9469a0dd49e69d9b6f0d78f929c1795db8b2a233
Author: Clint <cpsandbox@gmail.com>
Date:   Sat Mar 28 12:31:48 2020 -0700

    complete replacement of defs for gradients

commit 2f9f2ce822060d2dd56f87fd1f28986648ab60a0
Author: Avin <avinkavesha@gmail.com>
Date:   Sat Mar 28 23:32:01 2020 +0530

    optimize: add babel-lodash-loader

commit 94bd9cdc2d3718e7fa789ce341294bff7da73b60
Author: Anouar <anouar.hilali1@gmail.com>
Date:   Sat Mar 28 18:26:36 2020 +0100

    Added french translations to translation.json

commit 1f5f8e94aed4ca86ee8d5fb7932984a3982311f8
Author: Anouar <anouar.hilali1@gmail.com>
Date:   Sat Mar 28 17:23:57 2020 +0100

    Added french translations to sidebar

commit 1b2391bdcf1be7345ec60941f2c21c7b0e0a1adf
Author: Cleiton Moura <cloura@protonmail.com>
Date:   Sat Mar 28 12:04:31 2020 -0300

    Add Portuguese translation.

commit 472f8b79453848b7744fc711270e9ddf0f0702b5
Merge: 817a18ab 43e82264
Author: Anouar <anouar.hilali1@gmail.com>
Date:   Sat Mar 28 04:08:15 2020 +0100

    Merge branch 'first-contributions'

commit 43e82264783a88bdb29f37469384cbe880cd7443
Author: Anouar <anouar.hilali1@gmail.com>
Date:   Sat Mar 28 04:07:29 2020 +0100

    Added French to languages.js and created fr folder in locales

commit 536f33ea42e3ccf1edd31545c9a68a21c6ab9b4a
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Sat Mar 28 16:06:20 2020 +1300

    rebuild docs

commit 817a18abba457f77ed94d27fc269e61db263027c
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Sat Mar 28 14:11:47 2020 +1300

    version bump to 2.11.1 for release

commit cbeac0319bb52ead617177a8d9958cdb1532af4b
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Sat Mar 28 14:11:25 2020 +1300

    changelog

commit 4ca553163d69e6e46632c7bb87373c4f6c1942b8
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Sat Mar 28 14:07:31 2020 +1300

    Fix translation bugs re: strings containing `.` or `:`
    
    These characters have special meanings in i18next. While this can be changed in the configuration, it's easiest to rename strings which use them (n=5)

commit 092b81e3fa09af00e1fa97c0dcd19bfc106df858
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Sat Mar 28 14:06:37 2020 +1300

    Add "Show Confidence Intervals" to translation file

commit a7215c145e7d616ed065b0257c9bbba88c0baadb
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Sat Mar 28 14:03:16 2020 +1300

    Fix EN translation of "Diversity". Closes #1009
    
    "Diversity" was translated to the empty string (EN) which meant the title of the entropy panel was missing.

commit d05b838d2975d51c66e5e4ee17e1940a767d996b
Merge: e0aebb29 e8142f67
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Sat Mar 28 13:11:51 2020 +1300

    Merge branch 'lithuanian'
    
    * lithuanian:
      Add Lithuanian translation.

commit e8142f677be037f220b4c3be493dd4def471f1bc
Author: Gytis Dudas <gytisdudas@gmail.com>
Date:   Fri Mar 27 10:29:13 2020 +0100

    Add Lithuanian translation.

commit e0aebb29af285c22e75a4fd15c4fb4dc0cee6ec4
Merge: dc6cef3e edf1c662
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Sat Mar 28 12:36:12 2020 +1300

    Merge pull request #1010 from terrycojones/install-typo
    
    s/source/conda/ in install docs

commit 73a7df8114b5e9a8911eeee05c2f47dec4978559
Author: Christopher Suchanek <cris.suchanek@gmail.com>
Date:   Fri Mar 27 14:08:44 2020 -0700

    fixed reduce function to support 1 element list

commit c565b5a08265755507840d3e3272fb75a9a59a6b
Author: Christopher Suchanek <cris.suchanek@gmail.com>
Date:   Fri Mar 27 13:59:27 2020 -0700

    Don't show sampling date ranges if nothing was sampled

commit e8eb38827b3b3120cb1de7423ecd1009fd080541
Author: Cameron Devine <camerondtrain@gmail.com>
Date:   Fri Mar 27 12:26:45 2020 -0700

    reduced the hight of the left hand scolled pages and added some padding to correctly fit the content.

commit edf1c6620e1974fa0865c6561dbbaea143a34799
Author: terrycojones <terry@jon.es>
Date:   Fri Mar 27 20:08:37 2020 +0100

    s/source/conda/ in install docs

commit dc6cef3e6e638cc2b196614ba33ba5a4ccceffc1
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Fri Mar 27 18:35:31 2020 +1300

    rebuild docs

commit 2d66c40d3e624bf58a06145b0e103ea4f4848ccf
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Fri Mar 27 18:22:19 2020 +1300

    version bump to 2.11.0 for release

commit 7bd501291421d8f3c8d71e307c6d8144788b6ebf
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Fri Mar 27 18:21:50 2020 +1300

    changelog

commit bd7732ae251accdef834202fdd96022bc3dbe28d
Merge: 0eff04da e70e9bb5
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Fri Mar 27 18:08:50 2020 +1300

    Merge pull request #1006 from nextstrain/display-defaults-panels
    
    Add panels to display_defaults

commit e70e9bb5860460289455d344cb98498edf5dd612
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Fri Mar 27 17:17:20 2020 +1300

    Add panels to display_defaults
    
    Allows datasets to define which panels are shown by default. This is optional and overridable via URL queries.

commit 0eff04da37f3b9a697382af692a23b6ef20ad097
Merge: 96991230 ff00dcae
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Fri Mar 27 15:15:29 2020 +1300

    Merge pull request #1004 from slavkoder/i18n-ru-2
    
    Merge 2 labels into one

commit 96991230adfb7d96b13d2e42e99139c7fe8e0759
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Fri Mar 27 15:10:03 2020 +1300

    tweak nextstrain specific ncov byline
    
    This changes the behavior so that we only show the "enabled by data from gisaid" byline if a buildUrl is present, which means the nextstrain app embedded in the GISAID site doesn't show this byline.

commit ff00dcaeb2ed180db1c8c7376cb9a61292fb4dad
Author: Slava <usverster@gmail.com>
Date:   Thu Mar 26 19:08:33 2020 -0700

    Merge 2 labels into one

commit 7f502716d05f4c3d0ee932fadb95fde479b504e7
Merge: 0b644fcc a60e030c
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Fri Mar 27 14:46:45 2020 +1300

    Merge pull request #1001 from nextstrain/zoom-out
    
    Zoom out

commit 0b644fccea34605ca5f57a41cb9c32b6dbedd14e
Merge: 94b1ca5c db21da7d
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Fri Mar 27 14:46:29 2020 +1300

    Merge pull request #1003 from nextstrain/map-attribution
    
    Add mapbox wordmark

commit db21da7d4d899ba5ad91220127b2c1456d1673bf
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Fri Mar 27 13:27:48 2020 +1300

    Add mapbox attribution wordmark (watermark)

commit 94b1ca5c4594dcb2fb6ee666df23824052a6fade
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Fri Mar 27 13:29:03 2020 +1300

    add final 2 DE lang translations

commit ca36b6220c142088cb0095962667a143e71adffb
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Fri Mar 27 12:34:55 2020 +1300

    [map] Improve styling of "improve this map"
    
    The `strong` tag has some additional styling which doesn't look nice with the recent scroll overlay.

commit 759834c1cb76a05c31eba276f134a5a290c2e7e8
Merge: 8b93b37a ebefe81d
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Fri Mar 27 12:08:14 2020 +1300

    Merge pull request #1002 from imb-fmg/leaflet-gesture-handling
    
    Leaflet gesture handling

commit ebefe81d837212126dd4314408644bb0c69a9865
Author: Mathias Walter <mathias@walter.gd>
Date:   Thu Mar 26 23:46:30 2020 +0100

    update leaflet to v1.6.0

commit 0db17eaacda90b7c2156ba865784853a75512997
Author: Mathias Walter <mathias@walter.gd>
Date:   Thu Mar 26 23:31:02 2020 +0100

    remove unused code from leaflet init

commit 6f8f60aaa5050a939f7a55d000bdbe63367fc084
Author: Mathias Walter <mathias@walter.gd>
Date:   Thu Mar 26 23:26:42 2020 +0100

    add Leaflet.GestureHandling to safely enable mouse wheel zoom

commit 8b93b37a90c0f1cf312240a18a6b0f0025fd5b0c
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Fri Mar 27 10:30:29 2020 +1300

    [land] minor RU fixes
    
    Changes needed as master branch had diverged from the PR.

commit 07a58e016f134405ae3038465df5c0b08b1330af
Merge: 0c8fb89d 000ef9fe
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Fri Mar 27 10:13:05 2020 +1300

    Merge branch 'pr-995'
    
    * pr-995:
      Update src/locales/ru/translation.json
      Update src/locales/ru/sidebar.json
      Add fixes after proof-read
      Add Russian translation

commit 000ef9fe998eb34af2ba3c8d99b3c178bdb023b4
Author: Slava Panasenko <1201814+slavkoder@users.noreply.github.com>
Date:   Thu Mar 26 13:53:45 2020 -0700

    Update src/locales/ru/translation.json
    
    Co-Authored-By:  Varvara Kozyreva <varvara.kozyreva@gmail.com>

commit abbac208d776c42ab1053aa4ad7271e9deb57077
Author: Slava Panasenko <1201814+slavkoder@users.noreply.github.com>
Date:   Thu Mar 26 13:53:36 2020 -0700

    Update src/locales/ru/sidebar.json

commit 139ea4e57c68a8b88006faba655c967a4976f814
Author: Slava Panasenko <usverster@gmail.com>
Date:   Thu Mar 26 08:19:23 2020 -0700

    Add fixes after proof-read

commit a60e030c788d61615ca5d37f493954bc1894ca17
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Thu Mar 26 18:43:59 2020 +1300

    zoom-out threshold is cumulative
    
    The previous implementation searched for a single branch which was over the threshold (tolerance). We now go up the tree until we arrive at a node where the total distance (div or time) between it and the original clicked branch is over the threshold.

commit 5b371b0afc233716452f177af6724b5ee610280e
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Thu Mar 26 18:38:18 2020 +1300

    Zoom-out tolerances are dataset specific
    
    We now zoom out by climbing the tree until we find a branch where the length is over 1/50th of the total divergence or time in the dataset

commit 76fac73ae208b65a831fd7133b4f7ddaddb45061
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Thu Mar 26 18:15:16 2020 +1300

    Allow branch-click-zoom-out to work on 2nd tree
    
    Refactors how the `idxOfInViewRootNode` is supplied (obtaining it via the node being clicked/hovered) so that it can be specific to the tree in question.

commit 47fe1749b357602f307233627d396fe72b8fcdc6
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Thu Mar 26 17:58:19 2020 +1300

    Refactor zoom-out to use current distance measure (time or div)
    
    Also simplifies the algorithm & renames some functions. This commit also moves the implementation to use helper functions such as `getDivFromNode` rather than accessing these properties by reaching into the node itself.
    
    TODO: configure time/div thresholds to be dataset specific

commit 8d771f87ad4a4dd325086e7e81fed8a2881a16b6
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Thu Mar 26 17:34:26 2020 +1300

    lint, add comments & fix translation calls
    
    No changes in implementation or functionality. Fixes bugs in how translations were called, and linting fixes included using strict equality checks.

commit 0c8fb89dade343b59a8762ddbe98f1cd3082a4e5
Merge: 70c09d93 d4723238
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Thu Mar 26 17:00:44 2020 +1300

    Merge pull request #1000 from willingc/readme-contrib
    
    Update contributor section of readme and fix formating

commit 70c09d939bb91cd3174576bb6d66d3829d180a8c
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Thu Mar 26 16:51:32 2020 +1300

    Update translations for existing languages

commit 6eec12e07e9e3ae2386699dd4a3d67a76b650c9e
Merge: 71492750 b03d87c0
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Thu Mar 26 16:48:50 2020 +1300

    Merge branch 'pr-994'
    
    * pr-994:
      Fix linting, key names and double period ".." strings
      add periods to english translations
      Fixes #993 by creating separate translations for compound sentences

commit b03d87c01fe87e943a97a630212ab43e74fbb77d
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Thu Mar 26 16:29:32 2020 +1300

    Fix linting, key names and double period ".." strings
    
    Also voids double `.` characters. Note that there is a bug in the code used to parse filters within `createSummary` meaning that it's always empty. This will be tackled in a separate PR.

commit d4723238cec086714e5829d855531a9aa2e5ac22
Author: Carol Willing <carolcode@willingconsulting.com>
Date:   Wed Mar 25 20:42:24 2020 -0700

    fix conda instruction

commit 30a4f68e5b832d88c53f2bf9abd9473a50ca063e
Author: Carol Willing <carolcode@willingconsulting.com>
Date:   Wed Mar 25 20:21:52 2020 -0700

    Update contributor section of readme and fix formating

commit 71492750e228420aab8ad7cc36b22e3d2b4e4ffb
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Thu Mar 26 16:01:48 2020 +1300

    Finish Spanish translation

commit c737880c61ef9cb0a3db1e75cb1add7fbd804460
Merge: 356a905d 39de2c0a
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Thu Mar 26 14:16:47 2020 +1300

    Merge branch 'pr-996'
    
    * pr-996:
      translate to German

commit 356a905da6ea806b6b80d153cd4cef0d57183a2e
Merge: d892306b ff696281
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Thu Mar 26 14:16:41 2020 +1300

    Merge branch 'lang-updates'
    
    * lang-updates:
      Add more Spanish translations
      Add a `diff-lang` script to check new translations

commit ff6962810fb91c87b84a00dc6d7291c3a0cffaf0
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Thu Mar 26 14:07:24 2020 +1300

    Add more Spanish translations
    
    Still not complete (missing ~15), but much improved.

commit 98839e64b05bedb42987ccfefe3d1d9891f07ff5
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Thu Mar 26 13:52:57 2020 +1300

    Add a `diff-lang` script to check new translations

commit 39de2c0a8e235f6b55ba1e58bafb26eb9a77333b
Author: joachimschmidt557 <joachim.schmidt557@outlook.com>
Date:   Wed Mar 25 21:27:52 2020 +0100

    translate to German

commit dac549450652fc1a01f0a99ca00639c965ac339c
Author: lukas <62448426+lukas-eu@users.noreply.github.com>
Date:   Wed Mar 25 19:37:08 2020 +0100

    Fixed syntax error in HoverInfoPanel

commit 426445364727c0d6378e65b7920667b816d33fab
Author: Slava <usverster@gmail.com>
Date:   Tue Mar 24 22:51:29 2020 -0700

    Add Russian translation

commit 0ff58b23a30a0eba268b126cfa3b283dc8aade14
Author: Chris Wilcox <crwilcox@google.com>
Date:   Tue Mar 24 14:24:36 2020 -0700

    add periods to english translations

commit f5e6ddd489efe2b6e1a6ff557905a391115caf69
Author: Chris Wilcox <crwilcox@google.com>
Date:   Tue Mar 24 14:23:37 2020 -0700

    Fixes #993 by creating separate translations for compound sentences

commit e80e38940a4a9b899c51b82b091f10e60c671eb0
Author: lukas <62448426+lukas-eu@users.noreply.github.com>
Date:   Tue Mar 24 19:25:36 2020 +0100

    Changed zoom out target logic to return the furthest parent with the next different divergence value

commit 0e2cda8658619dd0ed8b278491926d5689c534f3
Merge: 388b0173 6232a148
Author: lukas <62448426+lukas-eu@users.noreply.github.com>
Date:   Tue Mar 24 18:16:37 2020 +0100

    Merge branch 'master' into 936-tree_zoom_out
    
    # Conflicts:
    #       src/components/tree/infoPanels/hover.js
    #       src/components/tree/reactD3Interface/callbacks.js
    #       src/components/tree/tree.js

commit 6232a148d5569185ab3c35ab9af035cad48f1d90
Merge: 33ef6bcc d892306b
Author: lukas-eu <62448426+lukas-eu@users.noreply.github.com>
Date:   Tue Mar 24 18:07:19 2020 +0100

    Merge pull request #1 from nextstrain/master
    
    update from upstream master

commit d892306bc39af9ab3f5ae14af076efb6421d3d9a
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Tue Mar 24 20:48:14 2020 +1300

    rebuild docs

commit 89108f725ef0d42fd1676600da8adadd7088ad79
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Tue Mar 24 20:47:01 2020 +1300

    version bump to 2.10.0 for release

commit 4a21c913f6b84dac2ce69032ae6ac27707ff645a
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Tue Mar 24 20:46:18 2020 +1300

    changelog

commit 234ea395d5ba67ddf50feb56e5f8edada13e9ac7
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Tue Mar 24 19:50:56 2020 +1300

    Fix linting errors

commit eb2fd3f8ba086ec2209fd1fecfe9b0bbff2c661f
Merge: 1ff9edcc 40e8e864
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Tue Mar 24 19:34:24 2020 +1300

    Merge branch 'pr-925'
    
    * pr-925:
      switched to dom-to-image to make the map svg
      got D3 map objects to pan correctly

commit 40e8e864b6a5533c17fb95fcc3f41e6144d42e9b
Author: Cameron Devine <camerondtrain@gmail.com>
Date:   Fri Mar 13 01:27:25 2020 -0700

    switched to dom-to-image to make the map svg

commit bb4a22d80e4b25e000c441915de5e9fb1eea543e
Author: Cameron Devine <camerondtrain@gmail.com>
Date:   Thu Mar 5 19:02:17 2020 -0800

    got D3 map objects to pan correctly

commit 1ff9edcc3c9f2b26dca34d8ffa1c95b097b7762f
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Tue Mar 24 18:38:56 2020 +1300

    Limit table styling (PR #966) to narratives
    
    The styling introduced in #966 was global, which meant (e.g.) the tip-clicked panel display was changed (undesired side effect). This moves the CSS introduced there into the styled components used by the narratives

commit 8d0edd2f0a6deebb3a8536f3d827007a68ce7c7f
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Tue Mar 24 18:23:52 2020 +1300

    restore branch entropy blending values
    
    Restores values to those set in commit 8a00a23ea98910ec949f2e3d028c248aadcf1b72 (see there for the rationale)

commit 55a8535c381c018264ef46ce0f4e6743b683bce8
Merge: d9b649d8 1b4eeed0
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Tue Mar 24 18:16:59 2020 +1300

    Merge branch 'pr-947'
    
    * pr-947:
      add comments & other minor changes
      rename `debugId` to `id`
      Fix eslint complaints
      Updates to support changeColorBy
      remove undeeded forcing to 0-360
      fix rotations to account for transform issues
      Added calculation of rotation angle to gradient for non-rectangular layouts

commit 1b4eeed053d03b3316ac973a8f0735b5f7747bbc
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Tue Mar 24 18:15:48 2020 +1300

    add comments & other minor changes

commit 45799763db23192e133e9f887e513e7e3e5e1e73
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Tue Mar 24 17:57:29 2020 +1300

    rename `debugId` to `id`
    
    We now depend on this variable

commit d9b649d81ff2a0bde9630617ce0134f12301cbef
Merge: 13b2c39a ef81d51a
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Tue Mar 24 17:30:03 2020 +1300

    Merge branch 'pr-940'
    
    * pr-940:
      remove map deme cursor=pointer
      modify map-deme-hover algorithm
      fix hover for pie chart maps
      highlight tree nodes when hovering on map

commit ef81d51ab60c82ff8b94fcdc49c63eb62756a176
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Tue Mar 24 17:29:48 2020 +1300

    remove map deme cursor=pointer
    
    This was left over from a version of the PR which had click behavior

commit dc91b9f43d416791ac7c0b04892118c10291aad2
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Tue Mar 24 17:17:57 2020 +1300

    modify map-deme-hover algorithm
    
    Updates the algorithm to use `geoResolution` so we can check the corresponding value on all tips and match against the value of the hovered deme

commit 13b2c39a8df9f70499c5c440b8e40a74d63a8a33
Merge: f9c8ad20 43da5073
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Tue Mar 24 16:44:55 2020 +1300

    Merge pull request #979 from dlowder-salesforce/dlowder/sortedDomain
    
    Fix #973 (Legend ordering)

commit f9c8ad209a1e5d304fc6f15ec708f3d0be3dec43
Merge: 9f002c96 dd513508
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Tue Mar 24 16:23:32 2020 +1300

    Merge branch 'lang'
    
    * lang:
      Add more (EN) strings to be translated
      add padding below language selector

commit dd513508c774a0959819ef4a3054fd1e8843120b
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Tue Mar 24 14:10:41 2020 +1300

    Add more (EN) strings to be translated

commit 9f002c96a676e4603b7b9c06ef7df8a26be6d04c
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Tue Mar 24 16:20:04 2020 +1300

    Add section to contributing about i18n and l18n
    
    Co-authored-by: Chris Wilcox <crwilcox@google.com>

commit a26ed1cfc8bf22cd21f8a3f44d8f1bda01b1d5c2
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Tue Mar 24 15:54:51 2020 +1300

    Update contributing symlink & content
    
    The contributing page in the auspice docs was a symlink to "CONTRIBUTING.md" which was moved to "DEV_DOCS.md" in PR #978

commit 43da50738cac305a84712d78258c6d1d1a077174
Author: Douglas Lowder <dlowder@salesforce.com>
Date:   Mon Mar 23 18:43:33 2020 -0700

    Add unit test for sorted domain

commit 436e0dfa49de4650f2550245bc61a648c9132155
Author: Douglas Lowder <dlowder@salesforce.com>
Date:   Mon Mar 23 18:32:23 2020 -0700

    Fix #973 (legend ordering)

commit 6bf90b4230f657fce9cde87e702b4658ae4c5d5f
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Tue Mar 24 14:10:07 2020 +1300

    add padding below language selector
    
    Without this (on smaller screens) it was hard to see the dropdown list as you had to scroll it into view after opening the drop down

commit 77cd1a64dd6d5ea26843aa117784338622c70bfb
Merge: 707f563a a09b08ff
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Tue Mar 24 13:57:02 2020 +1300

    Merge branch 'lang-es'
    
    * lang-es:
      Finalized and edited spanish translation
      [lang] add en template for es translation

commit 707f563aab0a62e0504e393af0cd23da3e4504e0
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Tue Mar 24 13:41:00 2020 +1300

    minor docs updates

commit 32928986ad441b1a98e134bc3b3bcb2ca490eee8
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Tue Mar 24 13:40:47 2020 +1300

    update changelog

commit c7c73d19bdcfc6f1f12bd9f95ef32293920bb871
Merge: cd374940 d620da3c
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Tue Mar 24 13:34:51 2020 +1300

    Merge branch 'readme-dev-docs-reorg'
    
    * readme-dev-docs-reorg:
      Improve findability of documentation
      Gather dev docs pointers in one place
      Default to the global contributor guide for all nextstrain projects

commit a09b08ff91bec2ceb1aee0500e090cbceec23293
Author: miparedes <paredesm@uw.edu>
Date:   Mon Mar 23 20:09:42 2020 -0400

    Finalized and edited spanish translation

commit 388b01736a970067a315d5e5aad3fad99a62c492
Author: lukas <62448426+lukas-eu@users.noreply.github.com>
Date:   Tue Mar 24 00:30:48 2020 +0100

    Reverted root node detection to be based on tree.idxOfInViewRootNode

commit 9546235942729213aaf39684f24e9c4fb35de50d
Author: lukas <62448426+lukas-eu@users.noreply.github.com>
Date:   Tue Mar 24 00:16:23 2020 +0100

    Changed root node detection to be based on divergence difference with current root. Changed zoomout action to step out to next parent with a different divergence value

commit 26100f16110430061d05af8dd18a42c937564087
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Tue Mar 24 11:41:22 2020 +1300

    [lang] add en template for es translation

commit d620da3c7f63c4636e6c30883c43481db590c170
Author: sidneymbell <sidneymb@uw.edu>
Date:   Mon Mar 23 13:23:10 2020 -0700

    Improve findability of documentation

commit 07f4a9769f16c9444232595b3d0e3039c28621f0
Author: sidneymbell <sidneymb@uw.edu>
Date:   Mon Mar 23 13:22:51 2020 -0700

    Gather dev docs pointers in one place

commit 23b739f4333639077bd5b94f857de13c52140425
Author: sidneymbell <sidneymb@uw.edu>
Date:   Mon Mar 23 13:22:42 2020 -0700

    Default to the global contributor guide for all nextstrain projects

commit c31aa59a6146d6e4d3d7bcc1f9c8df16e4d0a370
Author: Nick Doiron <ndoiron@mapmeld.com>
Date:   Mon Mar 23 09:19:55 2020 -0400

    fix hover for pie chart maps

commit cd3749408a412c6d62ae312937eb86d225ff28bc
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Mon Mar 23 20:50:29 2020 +1300

    version bump to 2.9.1 for release

commit 4bb6a232264110b791c19656b9354febdb00cb0d
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Mon Mar 23 20:50:00 2020 +1300

    [bugfix] update nextstrain specific code to use translations

commit d7ca5fc6a212fb124eaa5fd39be2ceb075304928
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Mon Mar 23 18:57:54 2020 +1300

    rebuild docs

commit 61c2690daece7846a9e6c50f770f69bd6c939be1
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Mon Mar 23 18:50:37 2020 +1300

    version bump to 2.9.0 for release

commit 03bf2d5f9c407ad0dd9b2a093a2822b850f09976
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Mon Mar 23 18:50:15 2020 +1300

    changelog

commit 6f3b8805feb496d88d7faceb58fa4bae3b2c7c1a
Merge: 8210e549 8c59dff2
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Mon Mar 23 18:29:21 2020 +1300

    Merge branch 'pr-931'
    
    * pr-931:
      Run eslint --fix

commit 8210e549538108fbd7e179d59b959367cb6aae1e
Merge: 8ab32f76 be6ba632
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Mon Mar 23 17:40:51 2020 +1300

    Merge branch 'pr-953'
    
    * pr-953:
      [lang] comment out URL query language selection
      [lang] minor linting fixes
      package-lock
      [lang] remove console logs for development
      translation adjustments
      eslint
      eslint controls.js
      correct eslint config issue
      Comment out URL modifications
      cleanup code
      Add more translation strings and organize
      Conditionaly have debug messages for i18n
      include language and locales
      move translations to locales folder
      spanish sidebar
      Use i18next for labels

commit be6ba6328398f7789d3ba727bf91148a29fffc44
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Mon Mar 23 17:38:16 2020 +1300

    [lang] comment out URL query language selection

commit ee46f7b94af85065d55e0e4222733bd7605699ae
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Mon Mar 23 17:34:14 2020 +1300

    [lang] minor linting fixes

commit 3ca2f21486d41524092dab888db82905eb064eaf
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Mon Mar 23 17:34:00 2020 +1300

    package-lock

commit 910e5678e2461f53a354ce6281b08bc4859e7cdd
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Mon Mar 23 17:26:10 2020 +1300

    [lang] remove console logs for development

commit 8ab32f76fffea71e952e64e1accb5a70f3705d63
Merge: d66f6a7f f02931cb
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Mon Mar 23 16:07:34 2020 +1300

    Merge pull request #962 from joachimschmidt557/scripts-shellcheck
    
    make shell scripts conform to shellcheck standards

commit d66f6a7f3757975ef0c13761ca63f0e02a2b0e11
Merge: 09ea95e2 1f653524
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Mon Mar 23 14:38:13 2020 +1300

    Merge pull request #966 from joachimschmidt557/css-tables-global
    
    Make tables in narratives look acceptable

commit 09ea95e2b103d24fec01f1c992d51ae6533352d8
Merge: b79aaff9 c7258044
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Mon Mar 23 12:04:04 2020 +1300

    Merge pull request #972 from joachimschmidt557/css-progress-buttons-hover
    
    Enlarge progress buttons when hovering

commit b79aaff905db4d4a736f436b0fd768ee60cf6790
Merge: b96ac449 7662a44f
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Mon Mar 23 11:54:34 2020 +1300

    Merge pull request #963 from JensWehner/patch-1
    
    Fix installation instructions for source

commit b96ac4492513635a4a6eff7ae39adccf1cdfab48
Merge: d7648c5e b3fc7829
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Mon Mar 23 11:50:19 2020 +1300

    Merge pull request #964 from joachimschmidt557/fix-file-modes
    
    fix file modes for non-executable files

commit d7648c5eadf2e0dffa7b25f9b9e55f7f10fbf4b4
Merge: 33ef6bcc df618ac8
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Mon Mar 23 11:40:37 2020 +1300

    Merge pull request #967 from joachimschmidt557/docs-fix-broken-links
    
    Fix some broken links in documentation

commit c72580449e64b3f237310ccb9539e88bdae2783b
Author: joachimschmidt557 <joachim.schmidt557@outlook.com>
Date:   Sun Mar 22 19:18:38 2020 +0100

    enlarge progress buttons when hovering

commit df618ac82356ca7c3c127a35f534614c2cf51711
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Fri Mar 20 17:31:53 2020 +1300

    fix some broken links in documentation

commit 1f653524ca76c251a40cdf8698c9942e548c6efb
Author: joachimschmidt557 <joachim.schmidt557@outlook.com>
Date:   Sat Mar 21 18:39:34 2020 +0100

    make tables in narratives look acceptable

commit e947d108a3e84e9f1590570cc8037af08a4df671
Author: lukas <62448426+lukas-eu@users.noreply.github.com>
Date:   Sat Mar 21 13:23:29 2020 +0100

    Changed root node detection to be based on props.tree.idxOfInViewRootNode for cleanliness/stability

commit fba47b76d5168837f7ae2a77b56a02507351b008
Author: lukas <62448426+lukas-eu@users.noreply.github.com>
Date:   Sat Mar 21 13:03:02 2020 +0100

    Implemented zoom out on root node click (isCurrentRoot detection via backwards tree-walking)

commit b3fc782958d97bc562d6f8877f01467f4b7860bb
Author: joachimschmidt557 <joachim.schmidt557@outlook.com>
Date:   Sat Mar 21 11:36:10 2020 +0100

    fix file modes for non-executable files

commit 7662a44f3425ec23e9b1f2213ccb67f328de0920
Author: Jens <jenswehner@gmail.com>
Date:   Sat Mar 21 11:02:34 2020 +0100

    Fix installation instructions for source

commit 311f472e8197219d8cd447fdf216d2e08d459265
Author: Chris Wilcox <crwilcox@google.com>
Date:   Fri Mar 20 17:30:30 2020 -0700

    translation adjustments

commit e6eed0629c9edfb29ca9b368b674761b01c3080e
Author: Chris Wilcox <crwilcox@google.com>
Date:   Fri Mar 20 17:21:38 2020 -0700

    eslint

commit a12251c4982431a3a41c4ddec1e3596498ed48d8
Author: Chris Wilcox <crwilcox@google.com>
Date:   Fri Mar 20 16:49:40 2020 -0700

    eslint controls.js

commit 490009fed3c03c614fab176be0e3ca77a0f90423
Author: Chris Wilcox <crwilcox@google.com>
Date:   Fri Mar 20 16:48:41 2020 -0700

    correct eslint config issue

commit f6bc6c64b156e418fa47182c821e8ddc7d2724c0
Author: Chris Wilcox <crwilcox@google.com>
Date:   Fri Mar 20 16:14:22 2020 -0700

    Comment out URL modifications

commit 2398c1b2e6b74ac5389aa04a71525705be019864
Merge: 55bba71a 33ef6bcc
Author: Chris Wilcox <crwilcox@google.com>
Date:   Fri Mar 20 16:14:01 2020 -0700

    Merge branch 'master' of github.com:nextstrain/auspice into loc

commit f02931cb4790b99b02f81fcebebacbc059c471a7
Author: joachimschmidt557 <joachim.schmidt557@outlook.com>
Date:   Fri Mar 20 23:35:47 2020 +0100

    make shell scripts conform to shellcheck standards

commit 33ef6bccfc3ff92803a12f38848cfd7a04f1153d
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Fri Mar 20 17:31:53 2020 +1300

    version bump to 2.8.1 for release

commit edbe88ca990896b14f96ffd56e6e25d2673b0334
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Fri Mar 20 17:30:59 2020 +1300

    Move babel devDependencies to dependencies
    
    Needed for installs of auspice to build correctly as they are used by the babelrc

commit a6b4ce5a541a875d462bb9aa33d7d7e34d0a9f39
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Fri Mar 20 17:18:07 2020 +1300

    version bump to 2.8.0 for release

commit c4adc542bd8c4869295b2fc5f01566d79e3701f4
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Fri Mar 20 17:17:40 2020 +1300

    changelog

commit 18d5d21ac731d771c97bbefdc6ca20854fd1e2c2
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Fri Mar 20 16:53:01 2020 +1300

    Modify byline for nextstrain.org/ncov

commit 53e5bd3a5b61fed3c2aec535091ff9c7badb7044
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Fri Mar 20 15:11:53 2020 +1300

    update package-lock

commit 6db561d3edd088de7fbcb349e844adf2a91d62a0
Merge: b03a7fe8 c757f0e9
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Fri Mar 20 12:09:19 2020 +1300

    Merge branch 'pr/943'
    
    * pr/943:
      revert eslint linter changes
      jest-test-setup

commit 43e9398c88681dbbeba0b4d985cb316d21c58ab9
Author: clint <clint@blacksheep.local>
Date:   Thu Mar 19 12:21:56 2020 -0700

    Fix eslint complaints

commit c757f0e93e34af678661bb3ad59679dcf5dea519
Author: Timmy Huang <thuang@chanzuckerberg.com>
Date:   Thu Mar 12 14:14:27 2020 -0700

    revert eslint linter changes

commit 86667d52a1fba2bbc0be8d3456fbba21f0fff0eb
Author: Timmy Huang <thuang@chanzuckerberg.com>
Date:   Wed Mar 18 18:40:40 2020 -0700

    jest-test-setup

commit b03a7fe88a75bfaee04cc5503abe2c9382f4643a
Merge: 1274e88c a6d7f66c
Author: Thomas Sibley <tsibley@fredhutch.org>
Date:   Wed Mar 18 11:25:53 2020 -0700

    Merge remote-tracking branch 'CameronDevine/rtl-narrative'

commit 0639da85c4e1e1c343acbbe8d3231280ea8b68ca
Author: clint <clint@blacksheep.local>
Date:   Wed Mar 18 11:07:03 2020 -0700

    Updates to support changeColorBy
    
    change.js can recalculate gradients after updates to node values
    
    Separated updates to stroke in T,S branches in change.js
    
    Added mouseover events to T branches to match current behavior,
    not sure why that was necessary
    
    Moved some logic from callbacks.js to renderers.js
    
    Added debugId to id for gradients, needed for double tree view
    So, debugId is now required for gradient coloring to work

commit a6d7f66c7669de62fb0c749cbdc01756e7831489
Author: Cameron Devine <camerondtrain@gmail.com>
Date:   Tue Mar 17 22:05:26 2020 -0700

    enabled right to left text to be properly justified in narratives

commit 55bba71a0c1b2dcf3824ddf9cff3d93b2c60837a
Author: Chris Wilcox <crwilcox@google.com>
Date:   Tue Mar 17 10:52:00 2020 -0700

    cleanup code

commit 1deef350d961352c09bfccda7e32fc0b9c1b5d77
Author: Chris Wilcox <crwilcox@google.com>
Date:   Tue Mar 17 10:15:25 2020 -0700

    Add more translation strings and organize

commit 8981868f49e8da03a380cf9895aec16a374eb426
Author: Chris Wilcox <crwilcox@google.com>
Date:   Tue Mar 17 09:07:08 2020 -0700

    Conditionaly have debug messages for i18n

commit a4ea5fe8bed7f7f3d2145208f012ecca52028eb6
Author: Cameron Devine <camerondtrain@gmail.com>
Date:   Tue Mar 17 00:34:24 2020 -0700

    only changing narrative page when a large enough scroll value is present

commit 14133ba06539f4f24aaccdd7fcb8a07a349d3796
Author: Cameron Devine <camerondtrain@gmail.com>
Date:   Tue Mar 17 00:13:16 2020 -0700

    allowing scrolling in narrative sidebar

commit 41e792dea817bea3992aa25d5cc6e75de608e38b
Author: Cameron Devine <camerondtrain@gmail.com>
Date:   Mon Mar 16 23:23:19 2020 -0700

    fixes #946 by waiting to change the map bounds if in narrative mode

commit 4e4744ff8442c1570d88b38b2a8f7c7e4c465843
Author: Chris Wilcox <crwilcox@google.com>
Date:   Mon Mar 16 16:11:09 2020 -0700

    include language and locales

commit 1f13bbd36c5e3aa9a2828deaffe3891b8a8acbd0
Author: Chris Wilcox <crwilcox@google.com>
Date:   Mon Mar 16 15:49:31 2020 -0700

    move translations to locales folder

commit 38b7bad4f65a5b6f5b279fc1e4555c238d1f4919
Author: Chris Wilcox <crwilcox@google.com>
Date:   Mon Mar 16 13:23:16 2020 -0700

    spanish sidebar

commit 9e69b07a9b4536979c8553d9bad1518eaf8205c7
Author: Chris Wilcox <crwilcox@google.com>
Date:   Sun Mar 15 16:04:26 2020 -0700

    Use i18next for labels

commit 1274e88c9a92e648fd013c14d24eb3a5d70c92b8
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Sun Mar 15 15:35:13 2020 +1300

    rebuild docs

commit 655e7c206e40fceb5ca8a82435b546138b2e7e8f
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Sun Mar 15 15:34:09 2020 +1300

    version bump to 2.7.0 for release

commit 2acadb12c3cc48f63c19db33b3008db0fcb02b32
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Sun Mar 15 15:33:46 2020 +1300

    update changelog

commit 6bdb9b3cfc9b3c76120695801dec8b839598f0e4
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Sun Mar 15 15:33:40 2020 +1300

    update README

commit 52b62622f5f79f7d69a9b4b5e181ffc650e8c1b4
Merge: 542a6bad ba189550
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Sun Mar 15 14:36:45 2020 +1300

    Merge pull request #948 from nextstrain/dependabot/npm_and_yarn/acorn-6.4.1
    
    Bump acorn from 6.2.1 to 6.4.1

commit 542a6badb9e91dac28e7a8afbd3531ec9b1daf81
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Sun Mar 15 14:27:24 2020 +1300

    [docs] add docs for how to use CSV/TSV drag-and-drop functionality

commit efd8938c969a7d749815b5cac134bb5e456b1191
Merge: 14bb1882 c24aef6a
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Sun Mar 15 13:15:02 2020 +1300

    Merge branch 'pr/937'
    
    * pr/937:
      fix linting
      Issue 933: Add translators to narrative parsing

commit c24aef6aa4fa365617d644904d17627289922cd9
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Sun Mar 15 13:14:46 2020 +1300

    fix linting

commit 14bb188280da0776ed1ad425f24f101ff90e12c1
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Sun Mar 15 12:44:14 2020 +1300

    update get-data datasets

commit c0b2282198701d0d6062a63c25e67509ee264370
Merge: 3d89b935 9c4c0bd7
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Sun Mar 15 12:27:40 2020 +1300

    Merge pull request #939 from rxgs/docs-local-dev
    
    feat (docs): Local dev setup

commit 3d89b93521809ede738e2d4bba7c9b5e0b0e54ca
Merge: 0043eb9c b71d24b2
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Sun Mar 15 12:17:41 2020 +1300

    Merge pull request #950 from mapmeld/narrative_pan
    
    Issue 945: fix jumpy narrative map

commit b71d24b202faec1f4959da4e902086866578756f
Author: Nick Doiron <ndoiron@mapmeld.com>
Date:   Sat Mar 14 01:55:18 2020 -0400

    avoid jumpy narrative map

commit 0043eb9ce5e453bcce429f46b2fba3c342603c19
Merge: 6f3e583e cd057b5e
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Sat Mar 14 12:05:54 2020 +1300

    Merge branch 'pr/942'
    
    * pr/942:
      [tree] Fix x-axis label position for second trees
      Use correct axis to infer mutations vs divergence
      Add comments & use strict equality checks
      Add axis labels for Rectangular and Clock Phylogeny trees.

commit cd057b5e83dd2b75cdde2e22727fb6e54157bf9a
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Sat Mar 14 12:05:21 2020 +1300

    [tree] Fix x-axis label position for second trees

commit 3380872dfceafc4a636f4de946e3679dc0d2412a
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Sat Mar 14 11:59:20 2020 +1300

    Use correct axis to infer mutations vs divergence
    
    Divergence is on the y-axis in clock layouts and the x-axis in rect layouts

commit c74edc55195289e567572bc81938d702ed51b232
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Sat Mar 14 11:50:23 2020 +1300

    Add comments & use strict equality checks

commit 6f3e583e9804f87b5402abbee77cc8b919d8fca1
Merge: ca09e841 88db4989
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Sat Mar 14 11:21:09 2020 +1300

    Merge pull request #949 from nextstrain/byline
    
    Remove github.com from byline

commit ba1895508eb3582ef8ec8af6b46c3818445e6158
Author: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>
Date:   Fri Mar 13 22:05:53 2020 +0000

    Bump acorn from 6.2.1 to 6.4.1
    
    Bumps [acorn](https://github.com/acornjs/acorn) from 6.2.1 to 6.4.1.
    - [Release notes](https://github.com/acornjs/acorn/releases)
    - [Commits](https://github.com/acornjs/acorn/compare/6.2.1...6.4.1)
    
    Signed-off-by: dependabot[bot] <support@github.com>

commit 88db4989daf8b134ff26642051ed49c1c04ae1a4
Author: Trevor Bedford <trevor@bedford.io>
Date:   Fri Mar 13 15:05:43 2020 -0700

    Remove github.com from byline

commit 4a7c4a0c1cd29b5b2c8e2bfcb86eda5541be5a54
Author: clint <clint@blacksheep.local>
Date:   Fri Mar 13 13:31:00 2020 -0700

    remove undeeded forcing to 0-360

commit 62b5596e932e6a0f2d8bddad9df722320258923b
Author: clint <clint@blacksheep.local>
Date:   Fri Mar 13 13:28:01 2020 -0700

    fix rotations to account for transform issues

commit 9192d4f224b6fbdefff61cfcd84c093c2444c2fb
Author: clint <clint@blacksheep.local>
Date:   Thu Mar 12 18:28:50 2020 -0700

    Added calculation of rotation angle to gradient for non-rectangular
    layouts

commit 71fb2a84e47260c70b06c5f1418eec83802fb2e9
Author: Ben Newhouse <newhouseb@gmail.com>
Date:   Thu Mar 12 16:51:52 2020 -0400

    Add axis labels for Rectangular and Clock Phylogeny trees.

commit 7bc815325a6b1f7a8e2b8530f9a52da2a8170cee
Author: Nick Doiron <ndoiron@mapmeld.com>
Date:   Wed Mar 11 22:29:59 2020 -0400

    highlight tree nodes when hovering on map

commit 9c4c0bd70f5e8b090c3b00743459d320c52e370b
Author: rxgs <russyx@gmail.com>
Date:   Wed Mar 11 17:39:35 2020 -0400

    clean

commit 3bd22c7849ef85c00276d3bd20fe36e416fefc22
Author: Russ Xiang <rxiang@indigoag.com>
Date:   Wed Mar 11 17:35:28 2020 -0400

    npm run dev

commit 606946877d0e6f7eff411a6c72b2daa83319591f
Author: Russ Xiang <rxiang@indigoag.com>
Date:   Wed Mar 11 17:23:40 2020 -0400

    rm local readme, confused it with docs readme

commit ddc23fbc65800d5dfddd4c167142b55af605316b
Author: Russ Xiang <rxiang@indigoag.com>
Date:   Wed Mar 11 17:20:47 2020 -0400

    local dev readme

commit a3f2709fc56c19d832cf32113a1d23f263fd587f
Author: Russ Xiang <rxiang@indigoag.com>
Date:   Wed Mar 11 17:20:10 2020 -0400

    global read me

commit 44842aef1baacb6c8fee1bab6d2d8dbbae5d79c3
Author: Noah Callaway <noah@apsis.io>
Date:   Tue Mar 10 22:19:10 2020 -0700

    Issue 933: Add translators to narrative parsing

commit 27bbba173836bf955ebcf6d15fa63f7b0ac1c798
Author: Cameron Yick <cameron.yick@datadoghq.com>
Date:   Tue Mar 10 23:21:47 2020 -0400

    Polish jumpy-ness in the endRegion animation by using CSS scaling

commit eb2629f76feca3e3e9390537fdc15fef33ca8598
Author: Cameron Yick <cameron.yick@datadoghq.com>
Date:   Tue Mar 10 21:45:25 2020 -0400

    [animation] Remove unnecessary animation when frame transitions between appearing and disappearing, replace visibility with opacity

commit 2c0752ee22a1d8709fe5153fe30cc9d528d85c58
Author: Cameron Yick <cameron.yick@datadoghq.com>
Date:   Tue Mar 10 21:10:57 2020 -0400

    [animation] Clarify names for show/hiding temporal slices

commit 6ea60d070143108d0f0ddf8ecf87746a3c034dc0
Author: Cameron Yick <cameron.yick@datadoghq.com>
Date:   Tue Mar 10 20:57:28 2020 -0400

    [feature] Adapt transition-based animation to work with rightHandTree coordinate system

commit 099b625a9ebf28b9cddf24937f3a1c37b7107995
Author: Cameron Yick <cameron.yick@datadoghq.com>
Date:   Thu Mar 5 02:17:45 2020 -0500

    [feature] Improve smoothness of animation for temporalWindow movement

commit a98d0c5be48c97885bb71c3fd2b10affc5901f42
Author: Noah Callaway <noah@apsis.io>
Date:   Mon Mar 9 21:55:58 2020 -0700

    Issue 818: Add legend to map view

commit 8c59dff2a2db979d300cba5b96f4747f892b0433
Author: Noah Callaway <noah@apsis.io>
Date:   Sun Mar 8 23:00:27 2020 -0700

    Run eslint --fix

commit ca09e84113f88506fdb57be9860a55c0fbbb2210
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Mon Mar 9 17:01:17 2020 +1300

    rebuild docs

commit 42c281a33231f3ae412ad9d4b6368feb962f1b1e
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Mon Mar 9 16:54:54 2020 +1300

    version bump to 2.6.0 for release

commit 377e8d7e7a41809f374150146b6e5a67db98af09
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Mon Mar 9 16:54:31 2020 +1300

    changelog

commit 1f063deb9f2355164ce52300d427ecd5f029f667
Merge: 8fa249e2 b407a586
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Mon Mar 9 16:47:03 2020 +1300

    Merge pull request #930 from mapmeld/tree_highlight_search
    
    Search highlights tips as you type

commit b407a586b12bb2b8cce6d35c8bbde4c18dd56ed0
Author: Nick Doiron <ndoiron@mapmeld.com>
Date:   Sun Mar 8 23:14:59 2020 -0400

    search and highlight nodes

commit 8fa249e247d8ba333f4bdb9519de10bd45531119
Merge: 28104bf6 3867a158
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Mon Mar 9 16:00:24 2020 +1300

    Merge branch 'pr-924'
    
    * pr-924:
      Added table tags to narrative main display allowed tags list. Some CSS work is still required to make it look nice.

commit 28104bf694ab3a9e7e80cb12d9f74799024b51ca
Merge: 56172a46 014b8396
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Mon Mar 9 15:39:08 2020 +1300

    Merge branch 'pr-923'
    
    * pr-923:
      Add docs re: legend URL query
      Remove legend URL query upon user interaction
      Issue #77: Load legend state from URL

commit 014b8396272523954b1b4462c7645c20dce4ec82
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Mon Mar 9 15:37:51 2020 +1300

    Add docs re: legend URL query

commit d9628c64a819699f160e6ab895753d8ad14753cc
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Mon Mar 9 15:36:53 2020 +1300

    Remove legend URL query upon user interaction
    
    This mirrors what we do for sidebar open state and prevents the URL query and the app state being out-of-sync

commit 56172a461d88bd4d9c21f450f164dc2e667cde08
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Mon Mar 9 14:42:53 2020 +1300

    Use react CSS syntax
    
    Switches "user-select" to userSelect (alerted to this via react warnings in the console)

commit c200fe07f39723ca187c9e49f9a35715b1d01407
Merge: 839d6061 e678c9de
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Mon Mar 9 13:42:25 2020 +1300

    Merge branch 'pr-922'
    
    * pr-922:
      Made tree text unselectable

commit 839d606166f2408478c456fb9bf4177770b34574
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Mon Mar 9 12:02:10 2020 +1300

    version bump to 2.5.7 for release

commit 730fbbaea776c67c9cb13e5d68c546986c74bc60
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Mon Mar 9 11:51:52 2020 +1300

    Allow lat/longs for transmissions without demes
    
    This avoids a bug where the lat/longs of internal nodes had to also be set for tips (demes) which may not always be the case.
    
    Co-authored-by: mapmeld <ndoiron@mapmeld.com>

commit a299e892ee9d59c7aba7912983cf0e5e942e21da
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Mon Mar 9 08:47:53 2020 +1300

    version bump to 2.5.6 for release

commit 2bd55502cb3b5dc94088a4ace3c377ba67f2d31f
Merge: 82eaa0bc 5f4a6d79
Author: John Huddleston <huddlej@gmail.com>
Date:   Fri Mar 6 14:12:55 2020 -0800

    Merge pull request #927 from nextstrain/fix-numeric-legends
    
    Only truncate legend labels if they are strings

commit 5f4a6d7941a3b0a7a69e6e2dcb0f7551c969bbe8
Author: John Huddleston <huddlej@gmail.com>
Date:   Fri Mar 6 13:16:02 2020 -0800

    Only truncate legend labels if they are strings
    
    Fixes a bug where the tree legend could not be displayed for numeric color by
    values because those values do not have a substring function.
    
    Closes #926.

commit 82eaa0bc2d65147c024633770a8ceead827b0fa8
Merge: eaa847fb 38316531
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Fri Mar 6 16:50:35 2020 +1300

    Merge pull request #919 from hydrosquall/cameron.yick/docs/typos-and-data-dir-update
    
    [documentation] Fix typos + update fixture data download instructions

commit 3867a1584e34f8df66e4337c07134c148c2a19dd
Author: Cameron Devine <camerondtrain@gmail.com>
Date:   Thu Mar 5 17:36:13 2020 -0800

    Added table tags to narrative main display allowed tags list. Some CSS work is still required to make it look nice.

commit 6be48cb392768676b20a098cb6aefda60e1b6c42
Author: Noah Callaway <noah@apsis.io>
Date:   Thu Mar 5 14:13:09 2020 -0800

    Issue #77: Load legend state from URL

commit e678c9dedcdadbce9c6b1475456a2d6f56af0168
Author: Cameron Devine <camerondtrain@gmail.com>
Date:   Thu Mar 5 13:12:48 2020 -0800

    Made tree text unselectable

commit 38316531668675ecc75853d89e8e77a14ead0e4e
Author: Cameron Yick <cameron.yick@datadoghq.com>
Date:   Wed Mar 4 23:35:40 2020 -0500

    [documentation] Fix typos + update fixture data instructions

commit eaa847fb0e8c22bbea275bb604b5268567eaa332
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Wed Mar 4 23:37:08 2020 +1300

    rebuild docs

commit 77e7cb1f292951aeb5a1d2277eace25cbbd1f832
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Wed Mar 4 23:35:07 2020 +1300

    update contributing docs

commit 3de1731d6aac4769246dc1450f0ffbb353d7dbc0
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Wed Mar 4 22:13:03 2020 +1300

    version bump to 2.5.5 for release

commit b350b42b3e7c72f8c6662b15ca059fbfd9a9740e
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Wed Mar 4 22:12:43 2020 +1300

    changelog

commit 1be41f1f55480d754ca2c855f648540cb391a087
Merge: 329ede6f 80633a1f
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Wed Mar 4 21:23:55 2020 +1300

    Merge pull request #908 from nextstrain/improved-label-dsiplay
    
    Improve which branches we display labels for

commit 329ede6f97d0c0aeed31baf7c23d32f794050b47
Merge: 33da070b 07d94a44
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Wed Mar 4 21:18:56 2020 +1300

    Merge pull request #914 from dnprock/899-long-name
    
    Handle display legend long name #899

commit 07d94a4434fec69014bf6f5a828d37d266d4d469
Author: Phuoc Do <dnprock@gmail.com>
Date:   Tue Mar 3 23:39:18 2020 -0800

    Truncate legend name to 18 characters. Use hover to display full legend name.

commit 33da070b4281071c26104f5c064c66d96a962197
Merge: fe00bb32 28500a24
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Wed Mar 4 13:50:37 2020 +1300

    Merge pull request #913 from nextstrain/fix-windows-drag-n-drop-bug
    
    Fix Windows drag & drop bug

commit 28500a24ca9f9854668838810e021c93441a3fd6
Author: Kairsten Fay <kairsten.fay@gmail.com>
Date:   Tue Mar 3 10:02:31 2020 -0800

    Refactor csv or tsv logic
    
    Refactor the csv/tsv detection logic to remove redundancy.

commit e831bf78148f8178604d6f6d89ad64c9f3c4c30b
Author: Kairsten Fay <kairsten.fay@gmail.com>
Date:   Mon Mar 2 17:11:13 2020 -0800

    Accept Windows .tsv files
    
    The auspice drag & drop functionality was broken for TSVs on Windows
    machines.

commit b1476b3b7c6bd72356b211541485ccb7dcb0d9f6
Author: Kairsten Fay <kairsten.fay@gmail.com>
Date:   Mon Mar 2 16:12:59 2020 -0800

    Accept Windows-based CSV files
    
    The auspice drag & drop functionality was broken for CSV on Windows
    machines.

commit fe00bb3286e9cba4b746e1e1a662b318d374fa2a
Merge: b0ca00e4 4ed3d6de
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Thu Feb 27 08:29:31 2020 +1300

    Merge pull request #909 from nextstrain/x-axis-bug
    
    [tree] Don't allow tiny x-axis domains

commit b0ca00e48e8f45b33fc44a0f46fdd052bcb127e3
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Wed Feb 26 13:47:22 2020 +1300

    rebuild docs

commit 573f81ccbc964070598bbdf0a578efc074a0f56c
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Wed Feb 26 13:43:24 2020 +1300

    version bump to 2.5.4 for release

commit d86cf61fc2b8afe3d04319f5c069eec39943a3b0
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Wed Feb 26 13:43:00 2020 +1300

    changelog

commit 5b133ff2cba5171242635ee92e269e1d287eabd8
Merge: eb53a25e b3e924b1
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Wed Feb 26 13:35:20 2020 +1300

    Merge pull request #910 from nextstrain/tangle-tree-overlay
    
    [bugfix] fix temporal scales for second trees

commit b3e924b14284a72b6caccb42ad12111a20384af4
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Wed Feb 26 13:25:53 2020 +1300

    [bugfix] fix temporal scales for second trees
    
    Closes #903

commit 4ed3d6de48d96d976f408e6222388b3290773f7f
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Wed Feb 26 13:06:54 2020 +1300

    add TB dataset to `get-data` script

commit 0446278c1661758d18d61aaef0a55f970e9dd613
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Wed Feb 26 13:05:28 2020 +1300

    [tree] Don't allow tiny x-axis domains
    
    Don't allow tiny x-axis domains -- e.g. if zoomed into a polytomy where the divergence values are all tiny, then we don't want to display the tree topology.
    The threshold for tiny is set here arbitrarily at 1E-8, however this will become problematic if we get eukaryotic genomes in nextstrain.

commit 80633a1f7971c674860294c774a80c2ae1501d60
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Wed Feb 26 12:03:18 2020 +1300

    Improve which branches we display labels for
    
    Auspice was build during a time when only "clade" and "aa" labels existed. We always showed labels for the former, and only showed the latter for branches with a large number of descendants.
    
    Auspice now supports different labels, and this commit makes it so that any non "aa" label is always displayed. "aa" labels are shown if the branch has any other labels defined or if there are enough descendants.

commit eb53a25eb2c4053412ce0ea973627b7553578d7c
Merge: de5703c7 a3be6f3d
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Wed Feb 26 10:50:28 2020 +1300

    Merge pull request #904 from nextstrain/csv
    
    CSV drag-and-drop bugfixes

commit de5703c73dbea8da416b6cad0c61858226230007
Merge: 4abd3fd6 8a00a23e
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Tue Feb 25 16:30:54 2020 +1300

    Merge pull request #898 from nextstrain/entropy-blending
    
    Slightly revise entropy blending on branches

commit a3be6f3d779598e85aedf297eab3079232710d25
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Tue Feb 25 14:16:18 2020 +1300

    [csv drag-and-drop] bugfix
    
    Hadn't been updated since our move to `node_attrs` during auspice v2 release

commit 97e317151be274d936820db1400bd9dc46db3f32
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Tue Feb 25 13:27:20 2020 +1300

    [csv drag-and-drop] improve error notifications

commit 8a00a23ea98910ec949f2e3d028c248aadcf1b72
Author: Trevor Bedford <trevor@bedford.io>
Date:   Sun Feb 16 21:31:15 2020 -0800

    Slightly revise entropy blending on branches
    
    It had been such that a branch with 80% certainty in a particular location was completely gray. This felt off. In the revised behavior, we hit fully gray at about 50% certainty. This originally leaned quite heavily on gray because we were concerned that measures like 80% shouldn't actually be interpreted as "80%" due to over-confidence in the phylogeo reconstruction. Now, augur traits has --sampling-bias-correction, which corrects this at the source. Better to have auspice give an honest accounting at this point.

commit 4abd3fd6f97451fb7bebb0a56666f94a3ef264bd
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Wed Feb 12 19:47:44 2020 +1300

    version bump to 2.5.3 for release

commit 2c67f2f5cc80b1194a4f304296c544051cef6acf
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Wed Feb 12 19:47:19 2020 +1300

    changelog

commit 4fce8c1834777d05743da193f33eb0c73fec7127
Merge: 1baa66a0 710f7260
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Wed Feb 12 19:44:54 2020 +1300

    Merge pull request #895 from nextstrain/mutation-display
    
    Improve mutation display

commit 710f726012d31dda5222e68200c7c387b4549b2a
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Wed Feb 12 19:32:41 2020 +1300

    Do not display AA mutations to undetermined (X)
    
    When augur is run without inference of ambiguous bases we will get lots of undetermined translated codons, which we don't want to display.

commit 1a12d64a7be5287f4155bd61080e5ab1e0769e9b
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Wed Feb 12 19:12:39 2020 +1300

    report number of Ns and gaps separately
    
    This reduces potential confusion when we grouped `N`s and `-`s together

commit 1baa66a08a5c6da8463425269c2704acf1428444
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Wed Feb 12 18:46:05 2020 +1300

    add today's nCoV dataset to get-data script

commit cdc8baf659db12b921f05ddeea67f4d392a070e7
Merge: b7b84bbb ec3bec0a
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Wed Feb 12 18:43:21 2020 +1300

    Merge pull request #894 from nextstrain/mapbox-attribution
    
    Include proper MapBox attribution for tiles

commit b7b84bbb3d3d74ea2c1f7cf3cb1f5cfef5bccc4b
Merge: 51e12bb4 9e5bf0fe
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Wed Feb 12 18:42:17 2020 +1300

    Merge pull request #893 from Artoria2e5/patch-3
    
    install.md: explain env bash requirement

commit ec3bec0a611ac9039a1c4b317aba2bdd487bacc8
Author: Trevor Bedford <trevor@bedford.io>
Date:   Tue Feb 11 17:35:29 2020 -0800

    Include proper MapBox attribution for tiles
    
    See here for recommendation: https://docs.mapbox.com/help/how-mapbox-works/attribution/

commit 9e5bf0fe23813af978b1c922f33b8a900c08d5ff
Author: Mingye Wang <arthur200126@gmail.com>
Date:   Tue Feb 11 23:28:27 2020 +0800

    install.md: explain env bash requirement

commit 51e12bb4957da7f3a3be6877966a033aabafc301
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Tue Feb 11 13:10:25 2020 +1300

    version bump to 2.5.2 for release

commit fd89aadd1b680bee312b96b6fdad8cf5caa50f8a
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Tue Feb 11 13:07:46 2020 +1300

    changelog

commit dbc94c0bd0eab028378818bd6a2f2b92ce2575a2
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Tue Feb 11 13:06:20 2020 +1300

    add nCoV datasets to `get-data` script
    
    These are important for viewing narratives locally, and for using the Heroku review app functionality for auspice. As we add more and more we may have to rethink this strategy.

commit 68df5ce68e3cb053a6da3d311255e9c5c2e9bc30
Merge: bcee29cd da64c1ba
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Tue Feb 11 12:35:30 2020 +1300

    Merge pull request #868 from Artoria2e5/patch-1
    
    package.json: run shell scripts with env bash

commit bcee29cd8483dc4d67bd66e0baa39ce3c1f34950
Merge: cec439fe a727e77d
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Tue Feb 11 12:32:31 2020 +1300

    Merge pull request #891 from nextstrain/max-zoom-when-fitting-data
    
    max-zoom when fitting to data depends on geographic resolution

commit a727e77d04fa89972a15dc7674899fc6998dc3b9
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Fri Feb 7 15:47:26 2020 +1300

    max-zoom when fitting to data depends on geographic resolution
    
    To avoid setting the bounds too small (e.g. if restricted to one country
          then we don't want to be at maximum zoom) we use hardcoded zoom levels which
          depend on the geo resolution. In the future these may be settable via the dataset
          JSON. Note that this does not change the max zoom level available when interacting
          with the map. See https://leafletjs.com/examples/zoom-levels/ for what a zoom
          level represents.

commit cec439feaa9f69d081081e17a7c957b71ba8cf40
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Fri Feb 7 13:59:30 2020 +1300

    version bump to 2.5.1 for release

commit 352670d454d1bfe32ed2a27b54170520249d0ec1
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Fri Feb 7 11:48:26 2020 +1300

    Allow narrative files to use CRLF line endings

commit fb982af9cc99119d8ba9369181cf7ef54d63574e
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Wed Feb 5 17:30:24 2020 +1300

    rebuild docs

commit 8d4573f69f30c7123335fa7aca28700419b4daca
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Wed Feb 5 17:05:45 2020 +1300

    version bump to 2.5.0 for release

commit d991cd1d17c7b485f86339dd01b093a67da023dc
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Wed Feb 5 17:05:03 2020 +1300

    changelog

commit f6745ecd8ae0c0fee16b7eb1d02f02706461750a
Merge: 154f5f5a c5cbccdc
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Wed Feb 5 16:41:17 2020 +1300

    Merge branch 'iframe'
    
    * iframe:
      allow URL query to show only viz panels
      Allow sidebar state to be set via JSON or URL query

commit 154f5f5acb1ae32d60850ed39190e3977fc95130
Merge: 5e3d3f93 8397e403
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Wed Feb 5 16:36:41 2020 +1300

    Merge pull request #886 from nextstrain/all-the-zooms
    
    All the zooms

commit c5cbccdce3726bd4c5a1daff64844e6976843c4e
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Mon Feb 3 17:06:49 2020 +1300

    allow URL query to show only viz panels
    
    This is desirable for embedding nextstrain viz in other sites via iFrame. It simply doesn't render the header / footer. Note the sidebar is can still be toggled, but can be set to closed via a different URL query.

commit 2848472e7185941a4d6eddc5a65d3a259da3acd9
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Mon Feb 3 17:00:06 2020 +1300

    Allow sidebar state to be set via JSON or URL query
    
    This implements a long-desired feature, and is important for iFrames (there's a hack in the code to close it for iFrames on gisaid which can now be removed).
    
    Intended behavior:
    * In narrative mode, neither the URL nor the dataset can specify the sidebar state as we always want it open.
    * If it has been set via URL / JSON, then crossing the window-width threshold when we would normally toggle the sidebar does nothing.
    * Setting via URL overrides any JSON setting (as per other behavior in auspice). If neither is set, then we query the window size, as before.
    * Auspice itself will not modify the URL query, it must be specified manually.

commit 8397e4030ec5e8d245b1110e2b754ae410dd2d0c
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Wed Feb 5 13:22:17 2020 +1300

    add `label` URL query to documentation

commit 9ef62eb153bcf5338783ba60072f34187de6e3a2
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Wed Feb 5 10:08:16 2020 +1300

    remove narrative console warnings about grid settings

commit 943b566150ba1fed9d5a8eca1c2b204a0bd87384
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Wed Feb 5 10:06:34 2020 +1300

    bugfix affecting tree zoom in narratives
    
    Narratives which were zoomed into a part of the tree were liable to lose this zoom when not showing then reshowing a tree -- this is because the zoom setting wasn't always being applied to the tree when it was set up.

commit bb27a5114c0c4f71c3daafa4b8a9cbb0fedce0f5
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Wed Feb 5 09:21:08 2020 +1300

    Silently remove any `?clade=root` URL query
    
    This was infrequently used in the past to trigger a zoom-to-root in the tree. This behavior now occurs if you simply do not provide a clade / label query key. To avoid unnecessary warning notifications we deal with this here.

commit b69c708506dc4ad51598a8aec0ba7f31cae83c5c
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Wed Feb 5 09:19:31 2020 +1300

    bugfix: ensure `dispatch` available for `createStateFromQueryOrJSONs`
    
    Errors were happening because the function was not being given the `dispatch` function. Dispatch is used to trigger notification banners (in this case). In future we should consider `createStateFromQueryOrJSONs` returning any errors / warnings to be handled higher up.

commit 709f79334099d6e0fbb95fafded386f3db10d201
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Tue Feb 4 19:06:31 2020 +1300

    clarify code usage re: calculating branch thickness
    
    a bug was found where the docstring described the original intention, but the code was doing something else. Updated the calling functions & docstrings to match what the code does. No change in behavior.

commit 0f7a397afe0a8e62fd585612b685697fc571ef56
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Tue Feb 4 18:41:24 2020 +1300

    Allow URL and JSON to define which branch label is displayed
    
    Expected behavior:
    (1) By default, "clade" will be shown, if present in the tree.
    (2) If a JSON defines `branch_label` in the `display_defaults`, then this becomes the default shown in auspice.
    (3) if a URL query `branchLabel` is set, this changes the current view.

commit 125206d966fe8ebe5f1da825e88bca68ee6fde65
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Tue Feb 4 17:51:10 2020 +1300

    fix bug resulting in URL query `?label=undefined:undefined`

commit b1a3f85a863c3fec2026127dee4300c0e7c3b3a7
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Tue Feb 4 17:37:21 2020 +1300

    use query.label=<key>:<value> throughout code
    
    This shifts the code usage to mirror the intended URL query. By removing all old references to `query.clade` we reduce potential confusion. By keeping a string type for `<key>:<value>` we simplify the code and keep it in sync with the mental model for how the URL query looks. These changes also allow zooming to root in narratives when no label (clade) is specified in the URL.

commit 1a31df61e0f634461d877e8b552d435575828bb1
Author: Emma Hodcroft <emmahodcroft@gmail.com>
Date:   Mon Feb 3 18:06:32 2020 +0100

    add backwards compat & stop bad URL when no label

commit 96e319b8885f95821716e95ac67bf74325b4bb98
Author: Emma Hodcroft <emmahodcroft@gmail.com>
Date:   Wed Jan 29 13:49:26 2020 +0100

    add pop up messages for invalid URL zoom requests

commit 6e9abd3850d927c122fd47444f2104b501635a52
Author: Emma Hodcroft <emmahodcroft@gmail.com>
Date:   Wed Jan 29 12:14:45 2020 +0100

    zoom by custom clade labels

commit 99da19b542a26071aeeb62d8a2d09076b71aa7c7
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Sat Feb 1 13:00:13 2020 +1300

    remove console logs

commit 9a34bd3f5e77f90fe473ddef78c7b31d896cb5a5
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Sat Feb 1 12:58:50 2020 +1300

    [map bugfix] clicking reset zoom resets zoom behavior also
    
    If a user is yet to interact w. the map, then it will automagically zoom according to geo-res changes, filter changes etc. Clicking the "reset zoom" button now also resets the "user has interacted with map?" state (which was the original intention).

commit b0365d10554bbc63c788215b4c9597429fa077cc
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Fri Jan 31 17:26:05 2020 +1300

    [map bugfix] ensure `updateOnMoveEnd` runs on map load
    
    We need to run the `updateOnMoveEnd` function when the map loads, in order to correctly translate the d3elements. Due to a race condition, this wasn't being run for ebola -- potentially because the dataset wasn't drawn until after the map was ready?

commit a6e34f5fded29a1879fcd0fc6e084785acdcb08c
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Fri Jan 31 16:33:17 2020 +1300

    [map] automatically move map if user has not panned/zoomed
    
    Already in narrative mode, if filters are enabled or geoRes changes, the map updates to fit the data in the screen. They weren't implemented for normal view, as moving the map can be annoying when you are interacting with the data.
    
    Here we keep track of if a user has panned / zoomed the map at all (and this is reset upon pressing the "RESET ZOOM" button). If they are yet to interact with the map, then we do manipulate it when the filters (etc) change.
    
    Note that clicking on the animation button "counts" as a user interaction. This avoids us constantly resizing the map during animation.

commit 43ee2ed6220944f57b5cc2f1eecaaa639f0e208b
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Fri Jan 31 15:49:52 2020 +1300

    [map] modify map zoom behavior
    
    The previous implementation did not work on a lot of datasets (`demeIndices` and `demeData` seem to cause a lot of issues).
    
    This commit breaks out the logic into a method `moveMapAccordingToData` which can be called from various places according to the react updates taking place. This is also the only place where the map is moved except for (a) the RESET ZOOM button and (b) when the user pans / zooms.
    
    Effects:
    * Loading a dataset with filters enabled zooms to the filtered data
    * Narratives: changing filters between pages causes map zoom
    * Narratives: changing geo res between pages causes map zoom
    
    Also adds a number of console logs which should be cleaned up before release.

commit a49e13bca7b0f664eb4e2b72fa60160c5b945b60
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Fri Jan 31 14:55:39 2020 +1300

    [map] Simplify reset button functionality
    
    `maybeDrawDemes...` doesn't need to be called - all we need to do is change the map bounds without recomputing / redrawing any d3 elements

commit 52c8de400aa108c1ecacc57f14bc32ce65b96e01
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Fri Jan 31 14:43:56 2020 +1300

    [bugfix] don't unnecessarily recompute colours on narrative page changes
    
    A bug in `createStateFromQueryOrJSONs` caused the color scale to be recreated unnecessarily on each page change in a narrative. This was somewhat harmless, but meant that the map logic was confusing as it would tend to remove D3 elements & recreate them unnecessarily (as it detected a color-by change), which was different to the expected behavior outside of narratives.

commit 91b1de792f91d033a2f6fcafd2ca23aa18681b33
Author: Emma Hodcroft <emmahodcroft@gmail.com>
Date:   Thu Jan 30 18:37:54 2020 +0100

    add safety check to only do this in narrative mode

commit 8a213ac8976c34df1182a441336bc18cc48401e2
Author: Emma Hodcroft <emmahodcroft@gmail.com>
Date:   Thu Jan 30 18:33:13 2020 +0100

    detect change in geoRegion via filter too

commit bde3d870f63c9174e1b891f7efbbcf1efa6367f3
Author: Emma Hodcroft <emmahodcroft@gmail.com>
Date:   Thu Jan 30 18:26:53 2020 +0100

    merge master and zoom_button_with_filter

commit 5e3d3f93f4842bc855c5f17e089893abf49a627c
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Mon Feb 3 15:01:59 2020 +1300

    Add view-settings info to docs

commit 1e0783316b52b94dedb6623400f5dc803070c9b0
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Wed Feb 5 12:46:43 2020 +1300

    fix docs typos

commit 1c97635d0c41f4b3e97638c2ad39639b76780e2b
Merge: 82accb03 952bd73e
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Mon Feb 3 09:39:22 2020 +1300

    Merge pull request #882 from ivan-aksamentov/fix/lato-font-fallback
    
    fix: ensure Lato font correctly falls back to sans-serif

commit 952bd73e5f04f1c990e7817496201f7a215e4609
Author: ivan-aksamentov <ivan.aksamentov@gmail.com>
Date:   Sat Feb 1 22:08:16 2020 +0100

    fix: ensure Lato font correctly falls back to sans-serif
    
    Currently, some of the text elements, for example <a/>, are forced to be rendered using Lato font. When text contains Unicode characters (for example, from Chinese and Cyrillic alphabets) which are missing in our current version of Lato font, these characters are automatically substituted from other fonts.
    
    However, this substitution is unpredictable (depends on browser implementation, platform, font and characters in question) and in some cases leads to inconsistent results.
    
    This adds Helvetica and sans-serif alternatives to the places where only Lato was specified, thus at least ensuring that Unicode will properly falls back to sans font.

commit 82accb03a9eea105d154fd1c36dbbf2a870650f2
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Sat Feb 1 14:20:19 2020 +1300

    version bump to 2.4.1 for release

commit ee4014b6c111e2f50815a83ffc0ce42a543b67b6
Merge: 31771d05 cd5cf772
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Sat Feb 1 13:47:42 2020 +1300

    Merge pull request #881 from nextstrain/narrative-explore-data-button
    
    Narrative: explore data & leave narrative

commit cd5cf772a8e569d6277a5777d1785139dd053b11
Author: Jover <joverlee521@gmail.com>
Date:   Fri Jan 31 16:16:08 2020 -0800

    narrative: leave narrative
    
    Clicking on "Leave the narrative & explore the data yourself" completely
    leaves the narrative and goes to the dataset page.

commit 645dbe2d23d57c97a07c3132b0d03337a5ffc6f4
Author: Jover <joverlee521@gmail.com>
Date:   Fri Jan 31 14:28:48 2020 -0800

    narratives: hide explore data button for markdown
    
    When the narrative page is the MainDisplayMarkdown, we don't have
    any data, so hide the "Explore the data yourself" button.

commit 31771d05e5dd23c2700892728b346b53935f8910
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Fri Jan 31 19:21:09 2020 +1300

    update changelog & rebuild docs

commit 2c5e1a5a5bf7a0f309af5962c2e19362c1cc81d0
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Fri Jan 31 19:14:54 2020 +1300

    version bump to 2.4.0 for release

commit 7f0cbc155721525fc7e0cd98b46aebfcd82b9844
Merge: ad44f82d e0cbff46
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Fri Jan 31 19:10:21 2020 +1300

    Merge pull request #857 from nextstrain/narrative-mobile
    
    implementation of narratives for mobile

commit e0cbff4678e7465ab2e33c82a7579c8b872d623b
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Fri Jan 31 18:46:28 2020 +1300

    explanation paragraph for mobile is different from non-mobile

commit 3e0533b90bddd12b975bb6de12415fa3c26be38b
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Fri Jan 31 18:29:44 2020 +1300

    bugfix: scroll to top with main-markdown-pages
    
    Previous logic of an early return caused the `scrollToTop` to not fire when we were going to a main-markdown-page

commit aabb527d5d51620c79a23042fc5ebbe31447d5e1
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Fri Jan 31 18:22:23 2020 +1300

    fix main-markdown-display margins (etc) for mobile view

commit ff54aa8395148eaaaf088d7eea036948b2ecf959
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Fri Jan 31 18:15:56 2020 +1300

    increase font size of main-display-markdown for mobile

commit bc8121d1f0712f6c4351857a903d5aadd30d3c86
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Fri Jan 31 18:13:49 2020 +1300

    fix react key errors
    
    We can use array indexes as keys because the arrays are not modified.

commit ef595c8639031b4a26e483d5f6fa6a51f3dd9d17
Merge: b2b00150 48ac92ba
Author: Kairsten Fay <kairsten.fay@gmail.com>
Date:   Thu Jan 30 19:56:01 2020 -0800

    Merge pull request #875 from ivan-aksamentov/fix/nav-button-ie-flexbug-15
    
    fix(styles): navigation progress buttons to not align properly on IE

commit b2b00150bdfce459cb0fa01284f3a44e23739027
Author: Kairsten Fay <kairsten.fay@gmail.com>
Date:   Thu Jan 30 19:37:43 2020 -0800

    narratives: Add font styling on mobile
    
    Standardize font size across paragraphs on mobile narratives.

commit eca3fb36ab773fc948e069a72db0a3603a157015
Author: Kairsten Fay <kairsten.fay@gmail.com>
Date:   Thu Jan 30 19:35:46 2020 -0800

    narratives: Set p, li width at 90% on mobile
    
    Don't allow paragraphs on mobile narratives to go to the right edge of
    the screen.

commit fee5a6014a2bf5551c3dacf4c235d9c60e0cc6b8
Author: Kairsten Fay <kairsten.fay@gmail.com>
Date:   Thu Jan 30 18:30:01 2020 -0800

    narratives: Fix mobile end of narrative bug
    
    When the user reaches the end of the narrative page, allow them to exit
    the page by clicking on the progress bar or clicking on the previous
    button.

commit 48ac92bafe6cf48204f905ca4832a67872513c41
Author: ivan-aksamentov <ivan.aksamentov@gmail.com>
Date:   Thu Jan 30 23:51:07 2020 +0100

    fix(styles): navigation progress buttons to not align properly on IE
    
    This fixes navigation progress buttons to not align properly in flexbox container when browsing using Internet Explorer (any version).
    
    This is a browser bug, so called "flexbug-15" as described in:
    https://github.com/philipwalton/flexbugs#flexbug-15
    I applied the workaround as described there.
    
    Originally reported by @emmahodcroft at: https://github.com/nextstrain/auspice/issues/655

commit c288c23ac074560377a95e073cab695165d2ecee
Author: Kairsten Fay <kairsten.fay@gmail.com>
Date:   Wed Jan 29 18:29:35 2020 -0800

    narratives: Jump to progress bar on nav click
    
    When using the previous and next buttons to navigate between pages on
    mobile narratives view, jump to the top of the progress bar rather than
    the top of the narrative content.

commit 232beef4ec1cd4d8dd34f8c232afb80bdafd4833
Author: Kairsten Fay <kairsten.fay@gmail.com>
Date:   Wed Jan 29 18:17:23 2020 -0800

    narratives: Improve accessibility

commit e5517bf31cc3852963a6154dad88f1a97ed755b5
Author: Kairsten Fay <kairsten.fay@gmail.com>
Date:   Wed Jan 29 18:14:44 2020 -0800

    narratives: Add progress bar to mobile
    
    Add a progress bar to the top of each mobile narrative page, mimicking
    the UI of the desktop naratives view.

commit 8166f67f3964e1975f30310b464e38bd8c73e013
Author: Kairsten Fay <kairsten.fay@gmail.com>
Date:   Wed Jan 29 18:01:36 2020 -0800

    narratives: Refactor progress button
    
    Refactor the progress button (small circles in progress bar) divs into a
    styled component for better readability and maintainability.

commit 767fb2ce50e8e7190ee1f177438a27d458eb747b
Author: Kairsten Fay <kairsten.fay@gmail.com>
Date:   Wed Jan 29 17:58:40 2020 -0800

    narratives: Add accessibility note

commit c8798cb5186b2933bde283562ed5947074f75a38
Author: Kairsten Fay <kairsten.fay@gmail.com>
Date:   Wed Jan 29 17:54:08 2020 -0800

    narratives: Refactor progress bar
    
    Move the inline stylings for the narratives progress bar to a styled
    component for easier readability and maintainability.

commit f91ad97b6d5e34955781bb4814ab26858c956db4
Author: Kairsten Fay <kairsten.fay@gmail.com>
Date:   Wed Jan 29 17:39:01 2020 -0800

    narratives: Edit white space

commit a905893c4b2fe4d33fdfb1d80495928ea112396a
Author: Kairsten Fay <kairsten.fay@gmail.com>
Date:   Wed Jan 29 17:35:45 2020 -0800

    narratives: Center and align nav button text

commit 4a734b6dbe1952e77a24a492f77063388514c33b
Author: Kairsten Fay <kairsten.fay@gmail.com>
Date:   Wed Jan 29 17:15:30 2020 -0800

    narratives: Change mobile banners from div to nav
    
    Change the HTML element used for the top and bottom banners on mobile
    narratives view from `div`s to the more appropriate `nav` elements.

commit d67b5967a5ec833a928dd328b9e247cc2094b183
Author: Kairsten Fay <kairsten.fay@gmail.com>
Date:   Wed Jan 29 17:13:16 2020 -0800

    narratives: Scroll to top after hitting button
    
    On mobile narratives, scroll to the top of a page after hitting the
    previous or next buttons.

commit e1aae555291a5de0eea3851d4bd9965e926ef40d
Author: Kairsten Fay <kairsten.fay@gmail.com>
Date:   Wed Jan 29 14:29:22 2020 -0800

    narratives: Wrap long lines

commit 91caa7794d1846ff201ea07fc57c7de188290a4d
Author: Kairsten Fay <kairsten.fay@gmail.com>
Date:   Wed Jan 29 14:25:31 2020 -0800

    narratives: Refactor middle of narrative page
    
    For mobile display, refactor the middle (not start or end) narrative
    pages into a separate class method.

commit 8f564d7c14af8ee2f968c7f3a086e2bf8538d155
Author: Kairsten Fay <kairsten.fay@gmail.com>
Date:   Wed Jan 29 14:18:18 2020 -0800

    narratives: Add some white space

commit 535ae3bba4de0812a7ecaf412d889ddb940a7606
Author: Kairsten Fay <kairsten.fay@gmail.com>
Date:   Wed Jan 29 14:11:07 2020 -0800

    narratives: Refactor nav bttns to new components
    
    Create two new class components for the next and previous button in
    mobile narratives navigation flow.

commit df68df26aaecdf0a90c54ca51f4dfceb190b6b0b
Author: Kairsten Fay <kairsten.fay@gmail.com>
Date:   Wed Jan 29 14:08:11 2020 -0800

    narratives: Move height constants to state
    
    Move the ubiquitous banner and content height constants to state to act
    as class properties so they don't need to be passed around as variables
    in class methods.

commit fa3ed26d50c5528d4d57df22a1f36d05ab062288
Author: Kairsten Fay <kairsten.fay@gmail.com>
Date:   Wed Jan 29 12:32:30 2020 -0800

    narratives: Refactor end of narrative block
    
    Use a styled component to replace the inline styling in the final block
    for narratives.
    For desktop, change the `div` tags used in the end of narrative block links to be `a`
    tags, and change the `h3` header to `h1` for improved accessibility.

commit ce97aec5e85d3a04ba3aabf35a0e61248b86cb60
Author: Kairsten Fay <kairsten.fay@gmail.com>
Date:   Wed Jan 29 13:39:08 2020 -0800

    narratives: Add beginning/exit links in mobile
    
    Similar to the desktop narratives display, add links to the end of
    narratives page to jump to the beginning or exit narrative view.

commit 7f04b1efbd71dd6541f04b9c22e55a53e6471757
Author: Kairsten Fay <kairsten.fay@gmail.com>
Date:   Wed Jan 29 12:42:33 2020 -0800

    narratives: Refactor mobile end of narrative
    
    Move the JSX for rendering the end of narrative page on mobile to the
    existing `renderEndOfNarrative()` method.

commit b00c81b97983a1f67c16d89192f95b80fb1ad72e
Author: Kairsten Fay <kairsten.fay@gmail.com>
Date:   Wed Jan 29 13:32:44 2020 -0800

    narratives: Add mobile start of narrative page

commit 43bdbcd79a1edf228e5fde0d6bafc4badf5d1ca0
Author: Kairsten Fay <kairsten.fay@gmail.com>
Date:   Wed Jan 29 09:32:12 2020 -0800

    narratives: Wrap code to reduce column width

commit e86edd1e4e65b64311200c0ade700740c31cf527
Author: Kairsten Fay <kairsten.fay@gmail.com>
Date:   Tue Jan 28 20:50:32 2020 -0800

    narratives: Refactor changePage
    
    Refactor the changePage function for improved readability.

commit be70ae52bf3ef5fe104037986ab5adeb4f2d5f32
Author: Kairsten Fay <kairsten.fay@gmail.com>
Date:   Tue Jan 28 20:00:49 2020 -0800

    narratives: Refactor changeAppStateViaBlock
    
    Refactor the `changeAppStateViaBlock` method inside the constructor of
    the Narrative component to reduce indentation and improve readability.

commit 82d53c19a7e295385603eac019f959bd479e47c8
Author: Kairsten Fay <kairsten.fay@gmail.com>
Date:   Tue Jan 28 19:18:46 2020 -0800

    narratives: Refactor ReactPageScroller goToPage
    
    Refactor the goToPage method of ReactPageScroller to reduce indentation,
    improving readability.

commit 68f3c75cfaedf79d6e6e03f7e3704cdc82779612
Author: Kairsten Fay <kairsten.fay@gmail.com>
Date:   Tue Jan 28 17:17:39 2020 -0800

    narratives: Rename negative boolean variable
    
    Rename the `dontChangeDataset` variable to `changeDataset` for code
    that's easier to read and comprehend. Inverse the boolean logic
    accordingly.

commit b4c17aefd64ddc3bc1d33fa7013bb9f73de95332
Author: Kairsten Fay <kairsten.fay@gmail.com>
Date:   Tue Jan 28 13:58:06 2020 -0800

    Lock npm dependencies

commit 177954ed59c2d3a2afd096fe1625cdb78b6a5891
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Tue Jan 28 16:30:06 2020 +1300

    prototype implementation of narratives for mobile
    
    Needs extensive testing and addition of features. Not tested with sidebar (theme) customisations.

commit ad44f82d3f1fc15e08fd86f3aa954298cf97ef39
Merge: b139f6b6 dc4f334c
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Fri Jan 31 10:32:25 2020 +1300

    Merge pull request #866 from nextstrain/narratives-reset-zoom
    
    [map] reset zoom on geoResolution changes in narrative mode

commit b139f6b64bf05b0fdabbc96f2fcb00ca876c868e
Author: Emma Hodcroft <emmahodcroft@gmail.com>
Date:   Thu Jan 30 11:43:08 2020 +0100

    small change to stop tip info box being bigger than needed

commit da64c1ba8d0f739bb7b4e6695ac975a9763de9eb
Author: Mingye Wang <arthur200126@gmail.com>
Date:   Thu Jan 30 15:03:12 2020 +0800

    package.json: run shell scripts with env bash
    
    This should be all it takes to keep node from trying to run them with cmd on Windows. Closes #867.

commit dc4f334c5794fb6df58933159cf40dc71269a35a
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Thu Jan 30 17:18:15 2020 +1300

    [map] reset zoom on geoResolution changes in narrative mode
    
    Allows narrative pages to specify different geo resolutions and have the display adjust accordingly.
    Note that this behavior would also be desirable when viewing normal datasets _if_ the map hasn't been panned / zoomed by the user.

commit 50bcc8216adb65adbb201414d660940352e38fe0
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Thu Jan 30 16:56:42 2020 +1300

    version bump to 2.3.7 for release

commit 4de3a776da0cfcb56b372c19a800a31591f31e92
Merge: 3cfa085b db8d5382
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Thu Jan 30 16:54:38 2020 +1300

    Merge pull request #865 from nextstrain/narratives-bug
    
    Narratives bug

commit db8d538213f3c804084897a8a87d02b3b2f1455d
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Thu Jan 30 16:43:31 2020 +1300

    [narrative bugfix] prevent crashes when accessing out-of-bounds pages
    
    Could happen if you defined `?n=15` for a narrative with less than 15 pages

commit 2401e625a534c2248604264fafab124d1e4ba19b
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Thu Jan 30 16:36:07 2020 +1300

    [bugfix] allow boolean values for default state
    
    mapTriplicate uses a boolean type

commit 2dac45cf46e33f5321cda3dc41ae27a3ad3c6e35
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Thu Jan 30 16:34:08 2020 +1300

    [narrative bugfix] can now start on a page with main-markdown-display

commit a991f786d6d14e3085e1d9cd63bd0f8a553f4106
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Thu Jan 30 16:27:05 2020 +1300

    don't show n=0 URL query for narratives
    
    If a n query parameter is not set for a narrative it's implicit to start from the first page, we don't need to add `?n=0`

commit bc9c23a19c51719eb0cf783ad5d4c62fdd9b900e
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Thu Jan 30 16:17:32 2020 +1300

    [narrative bugfix] URL query now updates selected sidebar page

commit 58b444d2f6ceae72ea1a1c3242ef28c8b8ff546d
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Thu Jan 30 16:05:19 2020 +1300

    add comments
    
    & remove unnecessary console log

commit f9e82ba9afc0176d6b72ce6f4ddad6b80e71a94a
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Thu Jan 30 15:58:45 2020 +1300

    avoid duplicate react keys
    
    We can use array indexes as keys because the arrays are not modified.

commit 3cfa085b1a9eff14dbcfd5dcfa04373b778f41c5
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Thu Jan 30 15:39:17 2020 +1300

    version bump to 2.3.6 for release

commit 2a3013b6a47a8a35655a4f596a8f4e4041a029c7
Merge: 5e65c53f b00d484b
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Thu Jan 30 15:16:36 2020 +1300

    Merge pull request #862 from nextstrain/tip_box_scale
    
    Make Infobox Y-Scroll and Limit Its Size

commit 5e65c53f0e0c322a488b044aa4f9c76b09eeb1ff
Merge: b27a2b70 49465552
Author: Trevor Bedford <trevor@bedford.io>
Date:   Wed Jan 29 17:16:25 2020 -0800

    Merge pull request #860 from nextstrain/fix-rate-info
    
    Display "subs per genome per year" as appropriate

commit 4946555235b3e4f4572f96047685c6be21885462
Author: Trevor Bedford <trevor@bedford.io>
Date:   Wed Jan 29 17:13:29 2020 -0800

    Shorten "subs per genome per year" to "subs per year"
    
    Not all sequences are necessarily genomes. We have cases like flu HA and Lassa segment L.

commit b27a2b70bf69ea0c772b12e7c36bd68d489ecc78
Merge: 72ce9db1 8b59fc00
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Thu Jan 30 11:04:47 2020 +1300

    Merge pull request #859 from nextstrain/hide-tip-labels-during-animation
    
    Hide tip labels during animation

commit b00d484b69b87d096e63d7c2f3894818f7ab434d
Author: Emma Hodcroft <emmahodcroft@gmail.com>
Date:   Wed Jan 29 14:49:08 2020 +0100

    make infobox Y-scroll and limit size

commit 80915fd36f1a744907054197dc00f08e9ec86d6b
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Wed Jan 29 11:06:48 2020 +1300

    Display "subs per genome per year" as appropriate
    
    Closes #858

commit 8b59fc0042f8af5eee959e01c0d7fa5ae2af59ab
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Wed Jan 29 09:57:02 2020 +1300

    Hide tip labels during animation
    
    Closes #848

commit 72ce9db1d3a46761f4ce848bdf8573e5e7a6da70
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Tue Jan 28 16:41:00 2020 +1300

    add ncov datasets to get-data script

commit 589a7960878af8739a7eff79ebd6e83f736ef2c4
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Tue Jan 28 12:59:52 2020 +1300

    version bump to 2.3.5 for release

commit 49c8a22f4e8cc58118c9363e7197a16672f4aced
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Tue Jan 28 12:59:28 2020 +1300

    changelog

commit e0df163f9729b7e21ac3fdfb53f8e8e35b5e4592
Merge: e9ff4cbe 9fb062e9
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Tue Jan 28 12:57:54 2020 +1300

    Merge pull request #855 from nextstrain/fix-flu-build-bug
    
    hover: fix bug when authorInfo is null

commit 9fb062e9322598da5054b8bfaf5cffaebeb56834
Author: Jover <joverlee521@gmail.com>
Date:   Mon Jan 27 15:40:20 2020 -0800

    hover: fix bug when authorInfo is null
    
    When check for `authorInfo` instead of `authorInfo.value` since
    `authorInfo` can be returned as `undefined`.

commit e9ff4cbe17ceb347c01dc6fb2384b809bac9a651
Merge: ac8dfbe7 3c357c4c
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Tue Jan 28 10:53:56 2020 +1300

    Merge pull request #852 from nextstrain/community-back-button-fix
    
    Fix bugs in redux state of pathname

commit ac8dfbe7942889869ad442029d310280f4d04e30
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Tue Jan 28 10:08:00 2020 +1300

    rebuild docs

commit 6a5dc34f60e28e7e42fbad7e8531543b167c5fb1
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Tue Jan 28 10:05:35 2020 +1300

    version bump to 2.3.4 for release

commit 59ba5024a5ac7920d4055cb1da7c0db8a9293b51
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Tue Jan 28 10:05:16 2020 +1300

    changelog & docs update

commit 1c472eb6127fd7577ab01b22403e6935fb1e7708
Merge: c5d623d2 b3f76f71
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Tue Jan 28 09:56:45 2020 +1300

    Merge pull request #853 from nextstrain/nav-bar-props
    
    Pass width to nav-bar as prop

commit b3f76f7123e15468c272dd287221ce6212bd5d33
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Mon Jan 27 18:13:50 2020 +1300

    Pass width to nav-bar as prop
    
    This wasn't defined in the API but was expected by the nextstrain nav-bar.

commit 3c357c4c8043c7867e1abc0a2397735e6a8e6089
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Mon Jan 27 17:42:23 2020 +1300

    Fix bugs in redux state of pathname
    
    We were getting bugs due to the redux state of `general.pathname` set to `undefined` when it shouldn't be as a result of `PAGE_CHANGE` actions with no `action.path` data. This resulted in incorrect API requests and the display of results which didn't match the URL.

commit c5d623d2d9e70e48faabdaad47f88bed5dc6b01c
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Mon Jan 27 15:57:46 2020 +1300

    version bump to 2.3.3 for release

commit 7f1148434252d2e2c63d6024c1b95514d7a49018
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Mon Jan 27 15:57:09 2020 +1300

    changelog

commit f514fc96c9df338243205dda93a6e2c5a226ddb9
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Mon Jan 27 15:43:11 2020 +1300

    better display of divergence values above 0.01

commit 23509dce0c7ffe689e7ac216d51915eb3372bb80
Merge: c9db715b 6e4de553
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Mon Jan 27 15:05:01 2020 +1300

    Merge pull request #850 from nextstrain/accessions
    
    Special case GISAID EPI ISL and Genbank accession + GISAID byline for nCoV datasets

commit 6e4de5538a97e950b9f272a9b9d38bc5effe2013
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Mon Jan 27 15:02:14 2020 +1300

    Add GISAID attribution in byline for nCoV datasets

commit 813ba42f85b37bdafa852b736b2cb8e09beb0961
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Mon Jan 27 15:01:44 2020 +1300

    Change byline text to read "built with"

commit 59fccbcf0d9b0eb6b25a8a4e42bfcd103728624d
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Mon Jan 27 14:45:54 2020 +1300

    add comment in hover code
    
    to indicate the special nature of `gisaid_epi_isl`

commit 5f592c546cc6eb9d8089cedd4b5b93ca5e454a43
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Mon Jan 27 14:42:48 2020 +1300

    Simplify click URL display using `<Link>` component
    
    includes comment to indicate the special behavior introduced during nCoV response

commit 8e719f803ec778fe1345b29197640024543e5c47
Author: Trevor Bedford <trevor@bedford.io>
Date:   Sun Jan 26 16:16:08 2020 -0800

    Include GISAID EPI ISL and Genbank accessions in click box
    
    If `gisaid_epi_isl` or `genbank_accession` exist as node attrs, these preempt normal use of `accession` and `url`.

commit 29fb18de45de002eebdbfbab3397df01a4eb93cd
Author: Trevor Bedford <trevor@bedford.io>
Date:   Sun Jan 26 15:45:18 2020 -0800

    Include GISAID EPI ISL in hover when available
    
    This looks for node attr `gisaid_epi_isl` and puts it in the hover box.

commit c9db715bcfebbd35ef839d5e183088315e3a8ba9
Author: Trevor Bedford <trevor@bedford.io>
Date:   Sun Jan 26 15:21:58 2020 -0800

    Update map min zoom
    
    This change allows vertical mobile display to show the entire globe

commit 25acc8c4d05dc753afd9e23b29317e383176b4ea
Author: Trevor Bedford <trevor@bedford.io>
Date:   Fri Jan 24 21:56:04 2020 -0800

    version bump to 2.3.2 for release

commit 6ee3457ec7c2c4adeb7089032c1384afabed3473
Author: Trevor Bedford <trevor@bedford.io>
Date:   Fri Jan 24 21:49:55 2020 -0800

    changelog

commit f9a8b7099900266c159517e25eac99f00e12898c
Merge: 47f42b49 bd10da51
Author: Trevor Bedford <trevor@bedford.io>
Date:   Fri Jan 24 21:46:34 2020 -0800

    Merge pull request #849 from nextstrain/styling
    
    Styling changes

commit bd10da518becfbff850b237b5e2265c9f0a386f9
Author: Trevor Bedford <trevor@bedford.io>
Date:   Fri Jan 24 21:09:28 2020 -0800

    Always show author in tip hover panel
    
    GISAID wanted attribution displayed on hover. They were requesting Originating Lab and Submitting Lab. This is my attempted compromise.

commit 562f1d595cdea501c69bea2c7b2ee1eda27dc9f4
Author: Trevor Bedford <trevor@bedford.io>
Date:   Fri Jan 24 20:37:07 2020 -0800

    Hide sidebar on page open if window contains "gisaid"
    
    To have GISAID iFrame, we're supposed to hide the sidebar. It would be nice to have this as a general flag in the URL (like grid, etc...), but I thought this was a fine solution for the intermediate term.

commit defcd0c82a7891d6c8b8f22f44f50d435b45a0de
Author: Trevor Bedford <trevor@bedford.io>
Date:   Fri Jan 24 20:35:45 2020 -0800

    Set max map zoom
    
    When using grid view with a globally distributed pathogen on a laptop display, the previous min zoom level of 2 could include all datapoints.

commit 47f42b496495666c9d76e8e17848c92d6d087791
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Fri Jan 24 12:02:45 2020 +1300

    version bump to 2.3.1 for release

commit 91709f6a9f672b9645608f2e4caeb9609fbe76ce
Merge: 7f3e386c 27d95c03
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Fri Jan 24 11:59:05 2020 +1300

    Merge branch 'narrative-md'
    
    * narrative-md:
      changelog
      improve narrative sidebar styling
      Update CSS for main-page-narrative-markdown
      add experimental support for narratives to display markdown in the main panel

commit 27d95c03508d755e3f27d703201f98aed4019d70
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Fri Jan 24 11:56:09 2020 +1300

    changelog

commit 1f9e0c63b048287fa8258a463387cd1ad8d8d522
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Fri Jan 24 11:28:13 2020 +1300

    improve narrative sidebar styling
    
    Based on testing on a range of screen sizes

commit 45d87389f99ce766cd84fc1e3a5d9c6f445723bb
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Fri Jan 24 11:05:36 2020 +1300

    Update CSS for main-page-narrative-markdown

commit 40b3274531c5828346bd5c813190bda7b3b526f3
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Wed Jan 22 19:49:50 2020 +1300

    add experimental support for narratives to display markdown in the main panel

commit 7f3e386cf25d58aa659eb6e16046a07222993a33
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Thu Jan 23 11:38:56 2020 +1300

    version bump to 2.3.0 for release

commit 50a4b47c4180a03673fbc6bfd64d5d3a4fa1e18d
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Thu Jan 23 11:38:17 2020 +1300

    changelog

commit 17571035ac9bbaf15333098a792184606540e4da
Merge: 554348dd bc8f28b4
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Thu Jan 23 11:33:06 2020 +1300

    Merge pull request #846 from nextstrain/date-axis
    
    Improve temporal axis on phylogeny

commit 554348dd0ee78e072d35a6575e78ada2b273ceef
Merge: 8a1c4568 d5869cfc
Author: Thomas Sibley <tsibley@fredhutch.org>
Date:   Wed Jan 22 08:48:30 2020 -0800

    Merge remote-tracking branch 'origin/pr/847'

commit d5869cfce6bd701cd010c5b8e704f601204ed739
Author: Felix Yan <felixonmars@archlinux.org>
Date:   Wed Jan 22 18:55:53 2020 +0800

    Correct a typo

commit bc8f28b434db13f9d66b28f71cdcf61aec873b14
Author: Trevor Bedford <trevor@bedford.io>
Date:   Tue Jan 21 21:29:46 2020 -0800

    Slightly lighten grid lines

commit 79cc46969108e7ca14391d4830c8b445728fc75d
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Wed Jan 22 17:53:27 2020 +1300

    improve temporal grid spacing on tree
    
    Here we change the concept of minor grid lines for temporal trees to represent "sensible" periods of time rather than fitting a fixed number between major grid points. This will greatly aid in epidemiological understanding of trees. Major grid lines are also chosen using a new heuristic which attempts to pick sensible periods, and is responsive to screen sizes to avoid a squashed grid on small screens.
    
    No modifications are made to the calculation of grids for divergence trees.

commit 84da085b20dddbfb6a3405f194d0c998a93f9e33
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Wed Jan 22 15:27:49 2020 +1300

    add nCoV to get-data script

commit 8a1c4568bf4ba0b057934207d72f903908782e7f
Merge: 7bfb5b18 0c680d0e
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Wed Jan 22 15:20:58 2020 +1300

    Merge pull request #845 from nextstrain/seo
    
    Update page title with dataset and include metadata title as description

commit 0c680d0e75369e38c8c801264f3756ea12099d17
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Wed Jan 22 15:18:48 2020 +1300

    Centralise all usage of React Helmet
    
    While multiple calls to `<Helmet>` aren't problematic, it's conceptually simpler to manage this all from one place (the `<Head>` component in `head.js`). No changes in behavior.

commit b93470501e143d404f28cea498e04d64882f9108
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Wed Jan 22 15:07:38 2020 +1300

    move title (`<Helmet>`) higher up component tree
    
    Tested on nextstrain.org locally resulted in two changes:
    
    (a) moving the component higher up the tree as we want this to run for the Splash page, as well as for datasets. This allows nextstrain.org/groups/blab to show a title of `nextstrain / groups / blab`.
    
    (b) connected it to redux state, as we modify the URL in certain situations (e.g. /flu/avian -> /flu/avian/h5n1/ha) and we want the head to change accordingly here. Note that this URL changes without the `<Main>` (dataset display) component rerunning, and is currently only in  nextstrain.org, not the default auspice server.)

commit b7b1c151185d5e7ebadb5d244938f223cc308deb
Author: Trevor Bedford <trevor@bedford.io>
Date:   Mon Jan 20 16:32:18 2020 -0800

    Include metadata.title as HTML meta description
    
    Google uses the <meta name="description"/> element to populate search results. Currently pages like Zika give text that reads "This work is made possible by the open sharing of genetic data..." rather than the more intended "Real-time tracking...". This update to description should hopefully resolve. See https://support.google.com/webmasters/answer/7451184?hl=en  for more information.

commit 75f16a5c9dc7c5dc63d648368670544c27a4fa12
Author: Trevor Bedford <trevor@bedford.io>
Date:   Mon Jan 20 16:23:13 2020 -0800

    Give dataset in page title
    
    This changes page title from just "auspice" to "auspice / zika", "auspice / mumps / na", etc...
    
    I think this is generally helpful to find the right tab when multiple tabs are open. It's also recommended for SEO (https://support.google.com/webmasters/answer/7451184?hl=en). Currently, Google gives minimal information when searching for "nextstrain zika" or the like.

commit 7bfb5b18e584cfcc416254c1855cc3da966c4044
Author: Trevor Bedford <trevor@bedford.io>
Date:   Sat Jan 11 13:31:48 2020 -0800

    version bump to 2.2.4 for release

commit ef625cedda6ea7f4e28d0c748c77d7442acce2bd
Author: Trevor Bedford <trevor@bedford.io>
Date:   Sat Jan 11 13:31:34 2020 -0800

    changelog

commit 3e5124d3a1c54ff013a63e9fe0cd21cf7f7084bd
Author: Trevor Bedford <trevor@bedford.io>
Date:   Sat Jan 11 13:25:59 2020 -0800

    Fix bug in computing state when nodes lack num_date attributes
    
    The getMinCalDateViaTree function is used to initialize state of the date slider by getting the date of the root node. If the root node lacks the "num_date" attribute, the min date is set based on default date range. This default needs to be returned as a calendar date however.

commit 0a018c48ec2bb83513ad16ae1b3bc62e1ba4d0bc
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Mon Jan 6 13:15:56 2020 +1300

    version bump to 2.2.3 for release

commit 2d2feb17d77fc8499c73a06580c4bb60df4500f2
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Mon Jan 6 13:15:04 2020 +1300

    changelog

commit 0868be3b008e8a1ff52b9b428f93234535f4d56a
Merge: 44e901d7 8904f76e
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Mon Jan 6 12:37:24 2020 +1300

    Merge pull request #841 from nextstrain/fix-back-button-breaks
    
    Fix back button breaks

commit 8904f76e1c226066987ef06747eb4d8d059df401
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Mon Jan 6 12:32:27 2020 +1300

    remove (unused) local URLs
    
    The "local" prefix in URLs is left over from a former way of accessing datasets & narratives but is no longer used.

commit 44e901d79363d146acac74381189fa85aa3e784f
Merge: e0550787 5e528ed0
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Mon Jan 6 11:50:15 2020 +1300

    Merge pull request #840 from nextstrain/format_floats
    
    info-panel: round floating point numbers in info panels to 4 signific…

commit c9cdbaa252029e063a754c5c5c772794024c8473
Author: Jover <joverlee521@gmail.com>
Date:   Fri Jan 3 16:57:37 2020 -0800

    add "groups" to hardcoded splash pages

commit d06425c8cd230409c07e63125df1f7b74adf6f97
Author: Jover <joverlee521@gmail.com>
Date:   Fri Jan 3 16:51:19 2020 -0800

    fix back button break that displays 404 page
    
    In the `changePage` action, use `chooseDisplayComponentFromURL(path)` to
    determine what to set as `displayComponent`. This has some hard coded
    known url parts that should display the Auspice splash page instead
    of a dataset.

commit 5e528ed0d196367221d546481136d658c4a1b8d9
Author: Richard Neher <richard.neher@unibas.ch>
Date:   Fri Jan 3 20:43:12 2020 +0100

    info-panel: round floating point numbers in info panels to 4 significant digits

commit e05507873bbab1b5327302f8436edb5cf119b725
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Fri Jan 3 11:40:54 2020 +1300

    version bump to 2.2.2 for release

commit 1f6bc11c443db3ae8c512ca3144a59a3ec96c215
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Fri Jan 3 11:39:50 2020 +1300

    Remove unnecessary logging left over from #839

commit 64272932e0312d05849f5c2b2eb96ab81291745d
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Fri Jan 3 10:01:05 2020 +1300

    rebuild docs to reflect updated changelog

commit f3a2483b691edaa87a9c251075644dcabff3a3c1
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Fri Jan 3 09:59:24 2020 +1300

    version bump to 2.2.1 for release

commit 2264ef1739fa465d586cce83185897f6332395b6
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Fri Jan 3 09:59:01 2020 +1300

    changelog

commit af1e1a9eff972ae0bbba6600360ba73e284ff694
Merge: fda4278c d476f351
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Fri Jan 3 09:18:08 2020 +1300

    Merge pull request #839 from nextstrain/dates-d3
    
    Improve numeric-calendar date functions

commit fda4278c15c858488e8de83c16a900b9202c6169
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Thu Jan 2 12:59:09 2020 +1300

    rebuild docs

commit ae6ba863c1970593d1a7049f8684e9ae8a469cba
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Thu Jan 2 12:59:01 2020 +1300

    Add documentation on how to deploy to heroku
    
    Closes #829

commit d476f351d99ad68bec997bce79cbbef50b77f00e
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Mon Dec 23 18:09:21 2019 +1300

    [date parsing] rewrite `calendarToNumeric`
    
    Same motivations and outcomes as previous commit.

commit 9bf6a13e2b9e51c1e774a99584af04220bd56fd0
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Mon Dec 23 17:36:42 2019 +1300

    [date parsing] rewrite `numericToCalendar`
    
    Rewrite this function to "undo" the `numeric_date` function as found in TreeTime v0.7*. This new functionality correctly restores dates when using `numeric_date` from TreeTime v0.7 (as expected) and restores 5/7 test dates converted using TreeTime 0.6.4.1 (current auspice master gets them all wrong).

commit 7070bc3a1d8613a6cb89c5ea2c56f7512588a821
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Mon Dec 23 16:28:56 2019 +1300

    add augur tests
    
    (remove before merge)
    
    tmp

commit b29faa7ff6bc908a84d2512ba64f71c19ffbc8a0
Merge: 978cef97 9892d2bd
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Fri Dec 20 11:04:49 2019 +1300

    Merge pull request #837 from nextstrain/heroku
    
    Allow auspice to run on Heroku

commit 9892d2bd6dc21cb7b16f0b8efab99a756906cbf7
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Fri Dec 20 09:08:34 2019 +1300

    add `heroku-postbuild` script
    
    This allows auspice to run on a heroku app by running the get-data and
    get-narratives scripts on startup. This allows us to use heroku's
    review-apps functionality. Note that `npm run build` is not automatically
    run if `heroku-postbuild` is set. Note also that the HOST env variable
    needs to be set to 0.0.0.0 on heroku for the auspice server to work.

commit e972ff4e4c35e7d25076bbe5b33c4dcd034aed29
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Fri Dec 20 09:04:51 2019 +1300

    Fix `create-data-dir` script
    
    Script created the `local_narratives` directory, whereas we now name this
    `narratives`. I'd like to remove this script from the repo (and the npm-used
    hook `postinstall`), as I don't think it's necessary,  but this will
    require some more testing.

commit a300720c70decf9973a27f914683bc7143e2a455
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Fri Dec 20 09:01:03 2019 +1300

    remove `npm run redeploy-site` command
    
    Referred to a script which no longer existed

commit 978cef97faf596fc22e00a731044c9654fe02cff
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Mon Dec 16 21:45:10 2019 +1300

    rebuild docs to reflect updated changelog

commit 34f2ecb5106966b4fd18cf611cc6c1459c8b2f76
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Mon Dec 16 21:43:03 2019 +1300

    version bump to 2.2.0 for release

commit 3d7ab77d47c05d1c9fa26d0fdeb2978e839495d1
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Mon Dec 16 21:40:02 2019 +1300

    Update `get-data` to reflect the move to v2 JSONs on nextstrain-data

commit 70996c529a5eed836b26f11effaa8fc5bd00b546
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Mon Dec 16 21:23:26 2019 +1300

    changelog

commit 58b30ec8cc7c2004b77a5006722b1741a838c99a
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Mon Dec 16 18:03:50 2019 +1300

    update deps to fix security vulnerabilities

commit 770b118bb54f38d11765352efe40a66a5470b577
Merge: 47921202 e0833e35
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Mon Dec 16 17:28:24 2019 +1300

    Merge pull request #834 from nextstrain/footer-text
    
    Display footer (acknowledgement) content from dataset JSON

commit e0833e35b0a89015a5583b1cc15f036c5e7a8b84
Author: Trevor Bedford <trevor@bedford.io>
Date:   Sat Dec 14 10:02:52 2019 -0800

    footer: Update img placement
    
    In testing I much preferred logos centered on page (with some padding) to logos evenly distributed. Also, we need the ability to wrap a large array of images.

commit 7a9b2eecb32c2c21a12c822ccd8df8d499f79759
Author: Jover <joverlee521@gmail.com>
Date:   Fri Dec 13 10:39:03 2019 -0800

    footer: update img styling
    
    If an image is wrapped by an anchor tag, then add imageContainer class
    to the outer parent of the anchor tag instead of the anchor element
    itself. This allows the centering of multiple image links in one line.

commit 717a56683a335a56fd2ec1cdb3778091684050ed
Author: Jover <joverlee521@gmail.com>
Date:   Fri Dec 13 10:09:22 2019 -0800

    footer: allow horizontal rule

commit 1eb50f5ae9c7f4a7b244d66c771785e3a67146ce
Author: Jover <joverlee521@gmail.com>
Date:   Fri Dec 13 10:00:00 2019 -0800

    footer: remove style attr

commit 31c1d40523b64aa4de707fb755c84800a9f7da59
Author: Jover <joverlee521@gmail.com>
Date:   Fri Dec 13 09:59:20 2019 -0800

    footer: allow code and code blocks

commit 9764cde297e1490b17efdd7961d21655d88d59cd
Author: Jover <joverlee521@gmail.com>
Date:   Fri Dec 13 09:20:03 2019 -0800

    footer: fix filter list styling

commit 8a6d8f76e585b7cc6124b0e04aa448fd343b46db
Author: Jover <joverlee521@gmail.com>
Date:   Thu Dec 12 14:27:07 2019 -0800

    move hard-coded footers to separate file

commit 80721305bc188c100fe26b88934936aac312a738
Author: Jover <joverlee521@gmail.com>
Date:   Thu Dec 12 13:40:20 2019 -0800

    Add styling to footer description images
    
    Will make all image parent nodes flex containers that center all
    children nodes.

commit c6d7141df646aabfec4853ec8da1bf4d1bb4b55b
Author: Jover <joverlee521@gmail.com>
Date:   Thu Dec 12 10:32:44 2019 -0800

    footer: add header styles

commit c42d1fadd4b48f154ec716c81ba2a364e51628cf
Author: Jover <joverlee521@gmail.com>
Date:   Thu Dec 12 10:06:34 2019 -0800

    refactor footer styles to styled-component

commit 7563cf95a6ac259337c1a8823ba87eac395795b5
Author: Jover <joverlee521@gmail.com>
Date:   Wed Dec 11 16:38:40 2019 -0800

    Remove meta.description from convertJsonSchemas
    
    We are deliberately not including this as part of v1 JSONs.

commit aabadc6b38c42030e91c06a62c50dd09b7a6d28d
Author: Jover <joverlee521@gmail.com>
Date:   Wed Dec 11 14:48:51 2019 -0800

    footer text: set external links to open in new tab
    
    Uses DOMPurify.addHook to add attributes to external links to open
    them in a new tab.

commit f5b46dc8c8563e4a9c6cafcc73984aa503fa8bb8
Author: Jover <joverlee521@gmail.com>
Date:   Wed Dec 11 14:09:22 2019 -0800

    Update sanitizer config
    
    Allow div and img tags to include logos. Allow style, height, width,
    alt attrs for img styling.

commit c4c6f94d6d6054283e7d3c8022e715f6f6dcc699
Author: Jover <joverlee521@gmail.com>
Date:   Tue Dec 10 16:55:36 2019 -0800

    add custom config to DOMPurify sanitizer

commit 3d6bb12effcce70375129c3292c2e0058bff3262
Author: Jover <joverlee521@gmail.com>
Date:   Tue Dec 10 12:43:51 2019 -0800

    use description text in dataset JSON if available
    
    The footer description/acknowledgment text from the dataset JSON
    takes precedence over the hard-coded text.
    
    Uses marked (https://github.com/markedjs/marked) to convert Markdown
    to HTML and uses dompurify (https://github.com/cure53/DOMPurify) to
    sanitize the HTML.

commit 479212021749a9dd6ae70e5676ce2ed6b69b574c
Merge: 916edb01 b153a542
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Mon Dec 9 20:54:28 2019 -0300

    Merge pull request #833 from nextstrain/contributing-documentation
    
    Contributing documentation

commit b153a5420969f84abfb8eaae767cbf74dcdea222
Author: Kairsten Fay <kairsten.fay@gmail.com>
Date:   Mon Dec 9 15:47:09 2019 -0800

    Commit built docs

commit 4f507e9ed664b0174317d42a2d213a8308540388
Author: Kairsten Fay <kairsten.fay@gmail.com>
Date:   Mon Dec 9 15:40:38 2019 -0800

    Create CONTRIBUTING file
    
    Create a new markdown file at the top-level of the repo,
    CONTRIBUTING.md, that describes approaches external contributors should
    take when contributing to Auspice.
    
    The contents of this file are taken from
    `docs-src/docs/contributing/overview.md`. Replace that file with a
    symlink to the new CONTRIBUTING.md.

commit f459dfe0cc0d13b51fb47608bbef973b2f844e10
Author: Kairsten Fay <kairsten.fay@gmail.com>
Date:   Mon Dec 9 15:39:25 2019 -0800

    Lock npm dependencies

commit e08765ea5d4df2a3dbe79a10f2e68aa27ac10c67
Author: Kairsten Fay <kairsten.fay@gmail.com>
Date:   Mon Dec 9 14:43:39 2019 -0800

    overview: Remove Auspice version releasing info
    
    Remove the documentation for releasing new Auspice versions out of
    external-facing contribution documentation. The removed paragraph will
    instead live in the nextstrain/documentation repo.

commit 916edb01694a8c909703b5e00b059c304e31ef87
Merge: ca61370a c93e97b6
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Thu Nov 28 09:26:51 2019 +1300

    Merge pull request #830 from nextstrain/hotfix
    
    Fix webpack fileloader bugs for different install methods

commit c93e97b6c1c6211a3d6aaa1c9fd3818fa43b8c2b
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Thu Nov 28 08:40:54 2019 +1300

    Remove webpack file-loader `include` option
    
    This is a simplification of the solution implemented
    in the previous commit & has been tested in the
    following cases:
    * normal auspice source build
    * custom build using global auspice
    * custom build using auspice as dependency

commit 934c6afbc69feb50aa614d9f3659787e0c29d5e9
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Wed Nov 27 20:29:22 2019 +1300

    Fix webpack transforms for different install methods
    
    The directory structure of npm dependencies is different
    depending on whether auspice is installed from source, a
    global npm install or a project's dependency. E.g. for webpack
    to process the `font-awesome` dependency, then:
    Global install & from source: `${__dirname}/node_modules/font-awesome`
    Project dependency:           `${__dirname}/../font-awesome`
    
    This bug comes from #826 which specified the first of the above
    two scenarios.
    
    Tested with projects using auspice (incl client-side customisations)
    via global npm auspice isntall, npm dependency and `npm link <path>`

commit ca61370a5eeb2c2ef4fe40184fd3fb40f332724b
Merge: 32b2688c 0816be38
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Wed Nov 27 15:39:24 2019 +1300

    Merge pull request #826 from ivan-aksamentov/feat/offline
    
    Replace remote styles and fonts with the ones served locally

commit 32b2688c1ca56b17ffd3ae96c57a8fead2756653
Merge: cc8820b2 d4ac0685
Author: Trevor Bedford <trevor@bedford.io>
Date:   Tue Nov 26 09:01:48 2019 -0800

    Merge pull request #821 from nextstrain/display-repo
    
    Display repo and maintainers as byline

commit cc8820b2a12644e77b593928918acf1e31e0dccc
Merge: db973267 ba42208b
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Tue Nov 26 08:53:36 2019 +1300

    Merge pull request #825 from nextstrain/streams
    
    read (& send) JSONs as streams where possible

commit 0816be3881a392896e983706d01526bcc70abcca
Author: ivan.aksamentov <ivan.aksamentov@gmail.com>
Date:   Mon Nov 25 13:02:38 2019 +0100

    feat: serve Lato font locally instead of using Google fonts API

commit 19121d8fdfe4b5182acdcdad9869c5dd8cbecf11
Author: ivan.aksamentov <ivan.aksamentov@gmail.com>
Date:   Mon Nov 25 12:06:44 2019 +0100

    feat: bundle font-awesome's styles and fonts

commit 11c8b497176c39eb1d0711afd35382e29d5329e2
Author: ivan.aksamentov <ivan.aksamentov@gmail.com>
Date:   Mon Nov 25 12:01:07 2019 +0100

    feat: bundle leaflet's styles

commit ba42208bd5c75d9d3b5c86320989052435ef8474
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Mon Nov 25 15:12:18 2019 +1300

    read (& send) v2 JSONs as streams
    
    v2 JSONs are designed so that no modifications
    need to be made by the server. This allows us to
    read as a stream and stream the response, saving
    memory on the server.

commit d4ac0685e4e8d5802a1867eeabecd116c8e457c6
Author: Trevor Bedford <trevor@bedford.io>
Date:   Wed Nov 20 10:28:18 2019 -0800

    Split difference in byline font
    
    The originally intention was to have the overall weight (including size, color and font weight) of byline to be about halfway between title and info. I see that the weight 700 wasn't working. This looks a little better to my eye while still incorporating direction implemented by @jameshadfield.

commit e179e6034dea0ac10e311ae068c4eae99a962919
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Wed Nov 20 20:42:50 2019 +1300

    allow build URLs to be www-prefixed

commit 4c44f898e282c3eee975aa1f898700622aa59802
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Wed Nov 20 19:58:17 2019 +1300

    Code cleanup
    
    The "should i render" boolean approach is replaced with returning a react component when it's determined that something should be rendered, else returning `null` as a fallthrough at the end of the function (null is better than `<span/>`).
    
    The `renderLink` function is replaced by a component, which gets passed props rather than an object.
    
    Looks like lots of changes but not that many really!

commit c1c44c67bee9f0a264059b8acb55cf18e37a66a5
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Wed Nov 20 19:37:36 2019 +1300

    Change font size & weight
    
    Feels much cleaner to me, but this is highly subjective!

commit e28d3b22b75915d8d2658c885e144aa8c89b38d3
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Wed Nov 20 18:38:19 2019 +1300

    refactor byline into react component
    
    Refactors the byline into its own React Component. In general, I think this helps reduce interpretability of the code. No changes in UI. Minimal changes to implementation, related to making this a functional component which are simpler than react classes (and react is generally moving away from classes).

commit 3bc81f6390e41f9fbc79b3cbfe5d7cce887706da
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Wed Nov 20 18:06:35 2019 +1300

    Shift buildUrls from getAvailable API to byline
    
    Auspice (2.*) allows the `getAvailable` API request to define `buildUrl`s for datasets. These were displayed in the sidebar, above the choose-dataset dropdowns.
    
    This commit removes the sidebar display of this, as it's been super-seeded by the byline.
    
    The commit also sets the `metadata.buildUrl` to be that defined in the `getAvailable` API response _if_ it has not been set via the dataset JSON, as the latter is to be considered the "canonical" way of defining this value.

commit 6f22d9f87e3e8e16662a1717b527d2351fe44ff1
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Wed Nov 20 17:47:04 2019 +1300

    eslint: Allow functions to be used before they're defined
    
    See commit message of https://github.com/nextstrain/nextstrain.org/commit/fc4aee33db580dbe0a76529f19137e24b8ce31c4 for rationale

commit db9732677482a3212bdae1ef22a18d3dfb661783
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Fri Nov 15 13:39:43 2019 +1300

    rebuild docs after release

commit 2a2a75c2a386d38c6483a2aa91b24381295b51fa
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Fri Nov 15 13:38:04 2019 +1300

    version bump to 2.1.0 for release

commit f36dbe3776d3b79d2d56558bf30494c7ae25144a
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Fri Nov 15 13:36:22 2019 +1300

    update changelog

commit 8e97d6f9168e1c0f9fd28379d6be671313bbe854
Merge: 0bc5ed13 4a822a81
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Fri Nov 15 13:14:32 2019 +1300

    Merge branch 'server-address'
    
    * server-address:
      Fix bugs & document "serverAddress" customisation

commit 0bc5ed13f09f8ee42ccc15f868209b9c5c949ab2
Merge: 0d08d63b d691949c
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Fri Nov 15 13:13:47 2019 +1300

    Merge pull request #823 from nextstrain/color-order
    
    preserve color-by order for v2 JSONs

commit 0d08d63bf2c7646501d9c2fb0eaada9d3b33c40f
Merge: 9590ae36 6b60a983
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Fri Nov 15 13:12:25 2019 +1300

    Merge pull request #824 from nextstrain/narrative-arrows
    
    allow navigation in narratives via arrow keys

commit 9590ae362f5eae56ec5f21b44ce05ad42efdcf2f
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Fri Nov 15 13:07:09 2019 +1300

    [docs] improve spelling & content

commit 6b60a983a42c54f8a4aea16f00dc78b96eb34304
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Fri Nov 15 13:01:11 2019 +1300

    Add documentation on how to create PDF versions of narratives

commit 4a822a81e3c07604efba86d3fdefb5416d2b9a08
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Fri Nov 15 12:16:33 2019 +1300

    Fix bugs & document "serverAddress" customisation
    
    See documentation added in this commit for functionality. Previous implementation was incomplete.

commit 457bd53daa2d83beb2147c4bd66e3427f8ec9675
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Thu Nov 14 13:45:33 2019 +1300

    allow navigation in narratives via arrow keys

commit f65e93de0d216009daa8eb6c8c9c30495be160c8
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Thu Nov 14 13:55:36 2019 +1300

    fix broken links for zika JSON in docs
    
    The links to the v1 zika JSONs in the docs were broken as that dataset had been removed and replaced with the v2 JSON

commit d691949c4db8c2df62c93c7677465fe3b0b778b9
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Thu Nov 14 11:14:42 2019 +1300

    sort `color_options` in v1 JSONs
    
    This allows us keep the color-by ordering expected from v1 JSONs whilst allowing v2 JSONs to define the order themselves.

commit 1f22defd550d778830ca7227e7c311f3f77ac657
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Thu Nov 14 10:34:37 2019 +1300

    remove sorting of coloring options
    
    With v2 JSONs, the intention is that the provided ordering is respected by auspice.

commit 648f273f2187984b8789758bff04efebcbfead5f
Merge: 0bbdd225 daeda0c4
Author: Trevor Bedford <trevor@bedford.io>
Date:   Wed Nov 13 13:39:03 2019 -0800

    Merge pull request #822 from nextstrain/flu-logos
    
    Add logos to flu footer

commit daeda0c49632184a856a86840c5daff24658fdb2
Author: Trevor Bedford <trevor@bedford.io>
Date:   Wed Nov 13 13:36:06 2019 -0800

    Pad spacing of flu logos
    
    This makes the two logos closer to the center of the page.

commit 0bbdd225c36819eec9c3cc00dbd86964f2f2c59c
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Thu Nov 14 10:13:36 2019 +1300

    don't display "download authors tsv" button if no authors defined

commit dd70204476371fb51fcc7be8ea72ac31927925e6
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Thu Nov 14 09:57:50 2019 +1300

    Add GISAID GISRS logos to flu footer

commit 2469e744f0109eca9ff7bf8094a7dbb232e8ec17
Author: Trevor Bedford <trevor@bedford.io>
Date:   Tue Nov 12 16:16:25 2019 -0800

    Swap metadata field from "repository" to "buildUrl"

commit 87d4623ecc2b49d1b05bbaf6e8ce3ab4f280c8c3
Author: Trevor Bedford <trevor@bedford.io>
Date:   Mon Nov 11 22:19:10 2019 -0800

    Include GitHub avatar if repo is a GitHub URL

commit 3ab6845d844be5624ca970cb0769fe68355c6250
Author: Trevor Bedford <trevor@bedford.io>
Date:   Mon Nov 11 19:51:14 2019 -0800

    Include byline as part of Info component
    
    This byline includes both repository and maintainers where available in metadata. This replaces the use of maintainers in footer.

commit cd45e3fd57a80d17e094376a296a05e79cd9921c
Author: Thomas Sibley <tsibley@fredhutch.org>
Date:   Mon Nov 11 14:55:53 2019 -0800

    Update package-lock.json to include the latest version

commit d1bfcae0ef92daacd0fa475748f03d626ca4477d
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Wed Nov 6 10:11:45 2019 +1300

    update changelog & rebuild docs

commit 419c8e24b24c1ced01ad6e93291030fb551bdc04
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Wed Nov 6 10:08:03 2019 +1300

    version bump to 2.0.3 for release

commit b04ff847a35b19263b179ed24a6515656b2cc9b0
Merge: 193d6167 304b958a
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Wed Nov 6 10:06:56 2019 +1300

    Merge pull request #819 from nextstrain/include-strain-metadata-accession
    
    Correctly handle a strain's accession & url data

commit 304b958a9414e83377c8a3f60774820e4ae13134
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Wed Nov 6 09:51:36 2019 +1300

    Display accession and/or URL in tip-click info box
    
    This functionality was present in auspice v1 but broken during the move to v2. Includes some comments in the codebase for future refactoring.

commit 3838febd655b994f195a503301c5d4e7691bd926
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Wed Nov 6 09:37:06 2019 +1300

    convertFromV1: correctly export `url`
    
    This is a bugfix as the (strain-related) URL was not being exported as per the v2 schema. See also 4989b305760ba28aaa3d03c9aaa2289957234353

commit 248ab750818d9d1fe2c25573cc62f42982224f0f
Author: Jover <joverlee521@gmail.com>
Date:   Tue Nov 5 10:15:56 2019 -0800

    strainTSV: include `Accession` in strain metadata

commit 4989b305760ba28aaa3d03c9aaa2289957234353
Author: Jover <joverlee521@gmail.com>
Date:   Tue Nov 5 10:14:01 2019 -0800

    convertFromV1: Add `accession` to `node_attrs`

commit 193d616732e6d645322a0911272df8b3cf2a0bd6
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Wed Oct 30 11:09:52 2019 +1300

    rebuild docs and add instructions to README
    
    currently the documentation must be rebuilt & pushed to GitHub _after_ a new version is released in order for the changelog to correctly appear at nextstrain.github.io/auspice/releases/changelog

commit 1c5ed4a0c7ae1dd009b974e885ba4c71743e20fe
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Wed Oct 30 10:55:28 2019 +1300

    version bump to 2.0.2 for release

commit 2077b13d2dcb2b15a75e85786eb9ee32ab604c14
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Wed Oct 30 10:01:22 2019 +1300

    Fix exported metadata TSV. Closes #816
    
    Rewrites the function which exports metadata associated with  strains (tips) as a TSV, as this code had not been updated for the move to v2 JSONs and the resulting changes in the auspice code. Other download functions checked & no errors identified.

commit a074e0f5e39005e16c2ba64f23f819e14903593b
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Fri Oct 25 20:38:44 2019 +1300

    rebuild docs to include changelog
    
    In future docs should be rebuilt after a version release to include the most recent changelog

commit f3973164708932b048f0f716415d04fb6ece8780
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Fri Oct 25 20:27:45 2019 +1300

    version bump to 2.0.1 for release

commit 2b814150b603efaf5e8c1e2ec56a0b33357f818d
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Fri Oct 25 20:26:40 2019 +1300

    changelog

commit 68c746d9c5527ebc34ab4617b1375b6cd74ed5d5
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Fri Oct 25 20:22:00 2019 +1300

    rebuild docs

commit 0e3e060de0326a5429cc7f026b9f1404bc9374af
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Fri Oct 25 20:18:19 2019 +1300

    [bugfix] two trees can now be coloured by date

commit 1c6ca72c114ff09e092c8040040b8b4c062de86b
Merge: dcd16bce 4830ef1c
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Fri Oct 25 20:15:04 2019 +1300

    Merge branch 'tip-info-fix'
    
    * tip-info-fix:
      do not display invalid trait values as filters
      interpret certain trait values on tips as known not inferred
      [docs] add documentation around handling of missing data
      remove react key warning
      [tree] don't display "invalid" trait values on hover
      improve trait names in tree info boxes
      tree hover info displays supplied dates correctly
      simplify checking if node trait values are "valid"

commit 4830ef1c1247c0bf9f887dd3ebe84b38d4c11c3b
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Fri Oct 25 20:04:43 2019 +1300

    do not display invalid trait values as filters

commit 20815e996b70a11d577596acfcea97ee58e8e75b
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Fri Oct 25 19:20:25 2019 +1300

    interpret certain trait values on tips as known not inferred
    
    Currently, the way augur exports confidence values for tips, it's largely impossible to know if a tip's trait which has 100% confidence is inferred or known (i.e. defined by the metadata). Since the majority of tips for which DTA is run have data, we assume that the value is provided.
    
    This can be much improved upon resolution of https://github.com/nextstrain/augur/issues/386.

commit d1ce15d9e8217f4c099cea1c29896a7c29a31382
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Fri Oct 25 08:37:13 2019 +1300

    [docs] add documentation around handling of missing data

commit 0be943f213acd814ddda4fc2b78fb240b5c737c1
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Thu Oct 24 18:01:04 2019 +1300

    remove react key warning

commit 6bbb91cd9baa7269db6fb500d1d3a5347bfc9787
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Thu Oct 24 17:56:38 2019 +1300

    [tree] don't display "invalid" trait values on hover

commit 6c78e7e37f33a413a4f158887c526bca6eb72a1d
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Thu Oct 24 17:44:58 2019 +1300

    improve trait names in tree info boxes
    
    If the trait is a coloring & a title is defined, then use that.
    Improves situations such as "health_zone" -> "Health Zone".

commit b879ec519516911d526993bcff780518f425503e
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Thu Oct 24 17:24:24 2019 +1300

    tree hover info displays supplied dates correctly
    
    Previously all dates stated "Inferred Date" which was not correct. Augur currently creates confidence bounds for tips with known date values, but the confidence bounds are both the same. This commit returns to checking if the bounds are equal, and interpreting this as a defined date, not an inferred one.

commit c5b702e02f64eeffbb1317a8cbf9cc2eec5cf9c0
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Thu Oct 24 16:43:12 2019 +1300

    simplify checking if node trait values are "valid"
    
    Previously we stored the lookup of traits present in the tree for the current colorBy (e.g.) and their counts across the tree in a plain object, necessitating the use of the `UNDEFINED_VALUE` constant. As we now use a `Map` object, we can simply use `undefined` for this. This simplifies the logic around checking these values.

commit dcd16bcedcb97ce0e6390fcb007ae503e4ce7dc1
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Mon Oct 21 16:45:41 2019 +1300

    changelog & version bump to 2.0.0

commit 16aab31ca8e22a0b0cebb8fff7e79ff88e47d0ff
Merge: 70a3ad69 e8655f4a
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Mon Oct 21 16:33:29 2019 +1300

    Merge pull request #810 from nextstrain/v2
    
    Merge version 2

commit e8655f4ab3abcbc323c7bf5dc5d40e5fee031eeb
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Mon Oct 21 16:32:43 2019 +1300

    remove console log

commit f4f3a105ee2bfb1f4ca27c9785bde7f5207557bd
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Mon Oct 21 16:29:25 2019 +1300

    build v2 docs

commit d3c8d26edd8eba680ea351a4f122e23ad4d15313
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Mon Oct 21 15:34:21 2019 +1300

    [docs] add gifs & other minor improvements

commit ad2e7cc5be41b4ad3fd6ffda6df6baf36933a26d
Merge: 6c27d218 c5ee4b3d
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Mon Oct 21 14:50:03 2019 +1300

    Merge pull request #814 from nextstrain/json-version
    
    JSON version

commit c5ee4b3df6c8b344074af3307abbd74d54ab2c68
Author: Trevor Bedford <trevor@bedford.io>
Date:   Sun Oct 20 18:00:56 2019 -0700

    When converting v1 to v2 JSONs set version to "v2"

commit 6c27d2187fe3e30044a1c0ae98f88062a034cf51
Merge: ef972c5f f1162533
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Fri Oct 18 07:46:08 2019 +1300

    Merge pull request #811 from nextstrain/809
    
    improve parsing of numerical values for v1 JSONs

commit f1162533eb72f256be942581103878dfc9e6eb60
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Wed Oct 16 16:46:40 2019 +1300

    improve parsing of numerical values for v1 JSONs
    
    This closes #809.
    
    The parsing of numeric values supplied to `prettyString` is improved to both handle large numbers & improve the number of decimal places.
    
    The unused `multiplier` argument to `prettyString` has been removed.

commit ef972c5fa4c9b0e1595cd2e457dad57b5b5e30a4
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Thu Oct 17 11:55:51 2019 +1300

    further (minor) copy edits

commit 43674923df91de739ad4a86209956b28c9092af6
Author: Misja Ilcisin <milcisin@fredhutch.org>
Date:   Wed Oct 16 11:53:53 2019 -0700

    Edits to auspice docs
    
    Copy edit for grammar/spelling errors and inconsistencies as well as flow across all auspice docs and a particular focus on edits to auspice V2 release notes

commit 9105cb362635c24b8f2b766cb13cf8e9cd7dcae7
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Wed Oct 16 15:13:20 2019 +1300

    bugfix: v1-v2 JSON conversion preserves `hidden` property of nodes

commit 3864225148224bd7a12812d8f347f0ceecb1839a
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Tue Oct 15 17:07:50 2019 +1300

    fix spelling mistakes & minor docs improvements

commit a71da52370b129b1cebf20b584595a28ea014db3
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Tue Oct 15 17:06:33 2019 +1300

    [docs] add second-tree documentation

commit 643cfd57380b4f6868ae186eac7b6ffaa14564ae
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Tue Oct 15 16:47:11 2019 +1300

    [docs] add v2 release notes

commit b97f1945336ac3cca7f306034486ff20139c0c6f
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Tue Oct 15 11:49:05 2019 +1300

    update convert subcommand signature & add to docs

commit 09d7ab3730fd1fbf489e5b8e988ae3d4fd504394
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Tue Oct 15 11:32:45 2019 +1300

    [docs] splash & introduction

commit 7f2617ce7c1b469bcf1a4029215e5864c79fa42e
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Tue Oct 15 10:08:43 2019 +1300

    [docs] contributing

commit 4b39bf57289189d8cc24d44a3dbc700efab1c4c2
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Tue Oct 15 10:00:25 2019 +1300

    [docs] narratives

commit 24e27b9266b9d5f1d76d2b0f2f1bf856b3a4216d
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Mon Oct 14 21:17:44 2019 +1300

    [docs] include changelog
    
    the changelog in docs-src/docs/releases is a symlink to the main CHANGELOG.md.

commit 4c10c586b4a07bde5bd662eec1bf40f4a94e2375
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Mon Oct 14 20:54:46 2019 +1300

    [docs] server documentation

commit dace5c13fb7f8a2c1e617a34067f3fe56789c848
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Mon Oct 14 18:53:58 2019 +1300

    [docs] client customisation documentation

commit d19d72925e2dae891a48425693716927d5f65d58
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Mon Oct 14 18:06:38 2019 +1300

    [docs] add page detailing requests made from client

commit d083fac0c5f7bd0564aeee5f7f6c464295373f64
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Mon Oct 14 17:09:49 2019 +1300

    remove / rename documentation sections which are not part of v2
    
    Documentation which is not part of the v2 release is mostly removed (some remain but is "hidden" in that they are not accessible via the sidebar / UI)

commit 235a2d89f77a8f7aaebeccff285f32ef63b54db5
Merge: bfbd884f 6b037b89
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Mon Oct 14 17:05:31 2019 +1300

    Merge branch 'docs' into v2
    
    * docs:
      Added comments on readability for newbies.
      docs: Fix link
      Update introduction.md
      docs: fix typos
      draft v2 docs
      update eslint

commit bfbd884f9356c284401c650d2c4cd072f312e112
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Mon Oct 14 16:45:00 2019 +1300

    upgrade docusaurus to fix security vulnerabilities

commit fa50bc5afd72c3027067be82b9752cfa13427c09
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Mon Oct 14 16:44:28 2019 +1300

    upgrade documentation README

commit 1f6b17e9606290ae2fdc753846bfb316c881395f
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Mon Oct 14 16:39:52 2019 +1300

    update main README

commit 5b93c1a5388cc94358f8288938b12989b898b93c
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Mon Oct 14 16:04:59 2019 +1300

    bump version to 2.0.0-beta.2

commit b9a6925a5e388e218a7acc3f9d92fb4ce37ec201
Merge: 55c69bb2 d9228abc
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Mon Oct 14 15:59:21 2019 +1300

    Merge branch 'nonBaseColors' into v2
    
    * nonBaseColors:
      add specific colors for unknowns
      gap, X, N bases always grey & always last

commit 55c69bb275133cfb2955a53609d716697e260f1c
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Mon Oct 14 15:25:01 2019 +1300

    `auspice view` serves auspice from current directory if appropriate
    
    We now serve a custom auspice build if one exists in the directory `auspice view` is run from. This streamlines generating custom auspice bundles and serving them locally.
    
    The option `--customBuild` is no longer used and will be removed in a future version. A warning is printed if it is specified.
    
    Documentation will be updated in a future commit.

commit ce3ff97932c793b6df6095320723334cda915387
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Mon Oct 14 14:56:44 2019 +1300

    Update auspice subcommand help messages.
    
    Includes suppressing certain messages (they are still available, just not displayed via `--help`) which are no longer supported / were only ever experimental. These options should become supported or be removed in future versions.

commit b996baf92470eaf386c18f01b8c38c741d2f2121
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Mon Oct 14 14:17:59 2019 +1300

    Google analytics is opt-in
    
    Starting from when auspice _was_ nextstrain.org, we hardcoded the google analytics (GA) key into auspice. This is no longer desirable. This commit changes behavior such that GA is only used if (i) the key is set as a build-time-extension (documentation to come) and (ii) auspice is run in production mode.

commit 4645dd35a1278e7746a3c9cadffe176d5aff9563
Merge: f5b7e19e 70a3ad69
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Mon Oct 14 13:44:40 2019 +1300

    Merge branch 'master' into v2
    
    * master:
      Upgrade eslint-utils for security fixes
      Upgrade marked to 0.7.0 for security fix
      Update package-lock.json

commit f5b7e19e6a1c2ffcfd0310c54bafd88e6b73ae76
Merge: d4b1b978 0e0b09ce
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Mon Oct 14 13:42:17 2019 +1300

    Merge pull request #807 from nextstrain/remove-twitter
    
    Remove twitter

commit 0e0b09ce9fe1f3916602730d5cac3ed3afe7e085
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Mon Oct 14 13:38:15 2019 +1300

    No longer load twitter widget
    
    This was able to render tweets from narratives "nicely" however it is prudent to remove it for security reasons. An issue will be created regarding the narrative functionality. however to my knowledge no narratives relied on this.

commit 3242a7d1482f596e85e6956a2d7aaca321f3ae01
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Mon Oct 14 13:36:16 2019 +1300

    Remove twitter-related CSS
    
    This was (probably) used in narratives (a GitHub issue will be created) and the now-unused nextstrain.org splash page

commit c04c0a771eeef1557f26a7ef7d54d712310ad1b5
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Mon Oct 14 13:34:41 2019 +1300

    remove CSS code used in nextstrain.org splash page
    
    The nextstrain.org splash page no longer lives within auspice

commit d4b1b978dd8df9cd44722cb2baa9f550dcb63fc8
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Mon Oct 14 13:18:58 2019 +1300

    Only update transmissions when they exist. Closes #803

commit 31c8fe9d840c0af1f813201c2e8c1f63e33b5097
Merge: e8e8eb94 15ac2cfa
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Mon Oct 14 12:18:07 2019 +1300

    Merge branch 'master' into v2
    
    * master:
      version bump to 1.39.0 for release
      Update narrative styles to better reflect custom styles
      Handle 204 (No Content) result from /charon/getDataset
      Improve wording of available narrative / dataset listing
      change wording in narrative explanation
      Update readme to clarify auspice vs Nextstrain
      Remove unnecessary Browserstack icon
      version bump to 1.38.2 for release
      Update changelog
      Fix display of INRB footer
      version bump to 1.38.1 for release
      Update changelog
      Apply INRB footer to both /community/inrb-drc and /inrb-drc

commit e8e8eb9410f58eb3af0f1622bc63385bfea6d970
Merge: 297c3ec6 1911f26a
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Mon Oct 14 12:07:42 2019 +1300

    Merge pull request #804 from nextstrain/epi-week
    
    improve axis labels to include months or epi-weeks

commit 1911f26a326cda88a0455fd8359daa9c4a533e8e
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Thu Oct 3 18:29:10 2019 +1300

    Represent dates as months (or months+days) as appropriate
    
    This changes our x-axis labelling & spacing for temporal axis.
    
    When the grid-line spacing is between a month & a year we display "YYYY-MON", when the grid-line spacing is under a month we show "YYYY-MON-DD".
    
    The major grid spacing has been modified to better line up with months where appropriate.

commit 297c3ec6c9c6f54a8bd15c1be8a60bf2525fc86c
Merge: c50dfdec 7cabfbb0
Author: Emma Hodcroft <emmahodcroft@gmail.com>
Date:   Fri Oct 11 10:16:04 2019 +0200

    Merge pull request #802 from nextstrain/geo_zoom
    
    Smarter & Better Geo Zoom - with hacky narrative zoom!

commit 7cabfbb0d6d09d28efdea7eed7de34d5dae84af9
Author: Emma Hodcroft <emmahodcroft@gmail.com>
Date:   Thu Oct 3 18:38:15 2019 +0200

    change reset zoom to match tree

commit d9228abc03e6329989da12c8e6d2cb9d130063e4
Author: Emma Hodcroft <emmahodcroft@gmail.com>
Date:   Thu Oct 3 16:53:02 2019 +0200

    add specific colors for unknowns

commit a16366c2a4e862944f2c9c23edc9bb25b6cb8b78
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Thu Oct 3 17:53:23 2019 +1300

    extract grid calculation into stand-alone function
    
    Also separate out the position from the text label so that the two can be different in the future

commit c50dfdecdb328d30b4ea917187abc2e5f9512445
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Thu Oct 3 17:12:04 2019 +1300

    Improve information displayed in tree tip modals
    
    We now report all traits which are set on the node.

commit f40d124c40b19ee60fac4d0a795f564271c9febe
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Thu Oct 3 16:50:34 2019 +1300

    Improve information displayed in tree hover-info-boxes
    
    Testing revealed that we often want to quickly see both AA & nuc mutations, as well as the date regardless of the entropy AA-nuc toggle setting or tree div-time setting. This commit expands the information displayed in branch/tip hover boxes which should improve interpretation of datasets.

commit 1740417bb9960333fed004f9655860a451fee341
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Thu Oct 3 15:35:48 2019 +1300

    Correctly source author information. Closes #801.
    
    Fixes the final bit of code which hadn't been updated to the v2 JSON schema regarding accessing author information.
    
    See https://github.com/nextstrain/augur/blob/v6/augur/data/schema-export-v2.json#L313 for (v2) schema related to author information.

commit 6123926c00b5665e897e8fe2b2a75cfb2ba32241
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Thu Oct 3 15:02:11 2019 +1300

    refactor tree hover info panel code
    
    We now use React Components throughout which makes things much easier to read. Docstrings improved.

commit 24b3b0c4b18c595a3f464c8b5db4968a2e7b9694
Author: Emma Hodcroft <emmahodcroft@gmail.com>
Date:   Wed Oct 2 11:42:16 2019 +0200

    add reset zoom button

commit 75a3ce9a38967dec6a31af0eb03fe55608d4aa9d
Author: Emma Hodcroft <emmahodcroft@gmail.com>
Date:   Wed Oct 2 10:24:04 2019 +0200

    auto zoom map to selected geo res on initial load

commit e7ff73c9f431e3f73d8de0a3c9ff850a8dde586f
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Wed Oct 2 17:58:28 2019 +1300

    fix bug where filters in a URL query would be ignored

commit 6d1ce379041463230a99a2eb177ba9e812b9356c
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Wed Oct 2 17:46:52 2019 +1300

    Fix transmission visibility bug. Closes #796

commit 4e963863e9813ecf42ecef3dbedc791e6d1505a4
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Wed Oct 2 16:52:13 2019 +1300

    remove `_source` JSON property
    
    Closes https://github.com/nextstrain/auspice/issues/783
    
    This commit removes the last bit of auspice which used the "_source" JSON property. We now allow the server to provide a "buildUrl" key via the `getAvailable` API which auspice will render in the sidebar. Docs updated.

commit 4c1e2c57d456524f0eb4336278953f72b39a93b9
Author: Emma Hodcroft <emmahodcroft@gmail.com>
Date:   Sun Sep 29 20:03:12 2019 +0200

    gap, X, N bases always grey & always last

commit 29705c10d1abc3c6f2dabcdf142565ed10d87993
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Fri Sep 27 15:25:34 2019 +1200

    reinstate changing of URL via server redirect
    
    Was accidentally removed during implementation of second tree URLs. Note that if auspice requests 2 datasets (as it interprets the URL as containing a second tree) and the server returns a redirect, then this is not interpreted. I can't see when this situation could arise, but it may want to be better addressed in the future.

commit 90ab115dfc57c87f89575b2d145356cf23e57ba0
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Fri Sep 27 15:00:37 2019 +1200

    don't interpret root-sequence JSONs as (v2) datasets

commit d390b50a4f249aa3a869754ffa02f7703c141cec
Merge: 50faf2d8 2c17a1b1
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Fri Sep 27 14:57:13 2019 +1200

    Specify second tree options via getAvailable API request

commit 2c17a1b19dd8d969f934460751e075aab9d7776a
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Fri Sep 27 14:55:57 2019 +1200

    Bugfix in deprecated second-tree URL syntax
    
    This fixes a bug where the now-deprecated second-tree syntax only worked if it was the last "part" of the URL. For instance, /flu/seasonal/h3n2/ha:na/2y did not work but enterovirus/d68/genome:vp1 did.

commit fd2e4d110714130c25cf7ae02ce814e3a369577f
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Fri Sep 27 14:39:20 2019 +1200

    minor variable name changes

commit fdaf6cdd738fe275edbc902f82ca82b53ba4e37d
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Fri Sep 27 14:19:22 2019 +1200

    preserve case of tree names displayed when viewing two trees
    
    Previously we capitalized the strings as they were almost always flu segments (HA, NA etc). Now they represent the entire tree name as taken via the URL.

commit 2beff313e8a258439cf7442b4d696e1be1ad7e04
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Fri Sep 27 14:14:46 2019 +1200

    update error wording for now invalid "?tt=X" syntax

commit de80a5c11fa273dc5fabee99c95c1427e48f9e8f
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Fri Sep 27 14:11:04 2019 +1200

    rename "tangleTree" to "secondTree"
    
    Especially as we now provide candidates which may have no tips in common, referring to these as potential "second" trees is more appropriate.

commit 50faf2d8689aa4ee55bcb9e0856034f33955c8c6
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Fri Sep 27 13:33:27 2019 +1200

    add unassigned to list of invalid values
    
    See https://github.com/nextstrain/auspice/pull/793#issue-319204341

commit fd961d20891b09e20654ba00abf9ff06b3ec092c
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Fri Sep 27 13:11:54 2019 +1200

    do not draw empty arcs
    
    taken from @emmahodcroft's https://github.com/nextstrain/auspice/pull/793

commit 162824bbed4789a58e1f45930e0dfdc12806fd43
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Fri Sep 27 13:09:04 2019 +1200

    reduce the legend to only display valid values
    
    The general idea is to ignore trait values on the tree which aren't valid, according to the `isValudeValid` function. We do not display such values in the legend, do not create colors for them, and do not create arcs for them on the map. Note that we do create a grey arc on each pie chart to represent the proportion of tips whose values are not "valid".

commit 5b5ba7b4c5cf632ef2b094eba128b671b9eff863
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Fri Sep 27 13:06:42 2019 +1200

    Fix ordering bug for legend values
    
    Values are now correctly ordered based on the number of tips associated with each value

commit 73c4a95c2562cacad1c2d62831d6d44379ab66df
Merge: f1fc6d70 8b1b9a2e
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Fri Sep 27 12:32:37 2019 +1200

    Merge pull request #786 from nextstrain/ordinal_vs_categorical
    
    Implement ordinal colour scales for traits with integer values

commit 8b1b9a2e7955233fa5864795800153ffd59e83c7
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Fri Sep 27 11:40:26 2019 +1200

    Allow integer values for traits
    
    We move to using `Map` structures instead of objects which allows us avoid coercing all trait values into strings.

commit 4c41eabb8e8769be6eea41d1b2f79cd9626e23e4
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Fri Sep 27 10:40:52 2019 +1200

    move all ordinal scale logic into single code block
    
    Scales with a type "ordinal" now fall back to a categorical scale if all the values are not integers. They fall back to continuous scales if the range of values is greater than the number of colours in the scale (unchanged behavior, but code all collected in one place).

commit 9556a9e193452eead941694c129724f0d923a73a
Author: Jover <joverlee521@gmail.com>
Date:   Thu Sep 19 14:38:44 2019 -0700

    Add tangle tree url backwards compatibility
    Allows the old syntax of `ha:na` to still render the correct trees, but
    converts the url to the new syntax and displays a deprecation warning
    to the user.
    
    The ancient syntax of `?tt=na` has been completely deprecated. The page
    will display a deprecation error when the user tries to use this syntax.

commit a60628c13486afdfe64c41548d368b5b37ebd25d
Author: Jover <joverlee521@gmail.com>
Date:   Thu Sep 19 09:20:30 2019 -0700

    refactor: pass tree names to createStateFromQueryOrJSONs

commit 54038fd0ff3bbab9c53ffc6006376269a75199af
Author: Jover <joverlee521@gmail.com>
Date:   Thu Sep 19 09:20:15 2019 -0700

    Remove unused code after tangle tree update

commit 985cfeb482f8facb66c61a273667351772ee5c99
Author: Jover <joverlee521@gmail.com>
Date:   Tue Sep 17 16:15:53 2019 -0700

    Load tangle tree via URL
    
    Update loading of the tangle tree view via
    URL to use the new format of URLs.

commit f554c973332ace86efd007c2daeb5f6acff00933
Author: Jover <joverlee521@gmail.com>
Date:   Tue Sep 17 15:17:27 2019 -0700

    Change URL format for tangle tree views
    
    To allow the display of two trees that are not only
    different based on segment, it makes more sense
    to have the url display as `pathOne:pathTwo` e.g.
    `flu/seasonal/h1n1pdm/ha/3y:flu/seasonal/h1n1pdm/ha/6y`

commit 8c234f5093676f28e46cf64a9e75be18553d748c
Author: Jover <joverlee521@gmail.com>
Date:   Tue Sep 17 12:27:25 2019 -0700

    Update display of tangle tree and options
    
    Enables the display of the tangle tree using the
    new dropdown options in the second tree dropdown.

commit 69e9b65463e49eb3092c9df9ac51cba785d8d20c
Author: Jover <joverlee521@gmail.com>
Date:   Tue Sep 17 10:35:55 2019 -0700

    Display tangleTreeOptions in second tree dropdown

commit d5d421c202baa2e91dcd23bc78c6a772b1069896
Author: Jover <joverlee521@gmail.com>
Date:   Tue Sep 17 09:41:50 2019 -0700

    Add tangle tree options to getAvailableDatasets
    When getting available datasets, also return a list of possible
    seconds trees. Currently enforce that the URLs can only differ by
    one parameter and the parameter must be one of the listed expected
    differences.

commit f1fc6d709ada9b9b0df88580ec569d7fa501477e
Author: Jover <joverlee521@gmail.com>
Date:   Mon Sep 16 10:35:15 2019 -0700

    bugfix: show mutations on branch. closes #788

commit 70a3ad69d75179d424e4ec711e4be648a52313fb
Author: Thomas Sibley <tsibley@fredhutch.org>
Date:   Fri Sep 13 14:22:50 2019 -0700

    Upgrade eslint-utils for security fixes
    
    It is a second-order dependency from eslint, so only package-lock.json
    is updated.

commit a048dd4f3103d4709b2e19455ae9a60462e8ce23
Author: Thomas Sibley <tsibley@fredhutch.org>
Date:   Fri Sep 13 14:21:47 2019 -0700

    Upgrade marked to 0.7.0 for security fix
    
    It also removes the "tables" option, which is now part of GFM, so I
    removed that from our call.

commit c54e4b669dbe1a532a4a4576607bbbaabe75b5c8
Author: Thomas Sibley <tsibley@fredhutch.org>
Date:   Fri Sep 13 14:26:06 2019 -0700

    Update package-lock.json

commit 15ac2cfa9e89113e79615affaa5b424980308fd6
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Thu Sep 12 23:39:58 2019 +1200

    version bump to 1.39.0 for release

commit 930ba16a29d4b1b99c6333f9acd699bf95316efd
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Thu Sep 12 23:34:00 2019 +1200

    Update narrative styles to better reflect custom styles
    
    The narrative styling had not been updated to reflect the move to extended styles (i.e. an auspice build using --extend) and were hardcoded to "look good" on nextstrain.org This meant that narratives on locally running auspice were practically unreadable & any other custom styling would not be shown.
    
    Narratives now use provided sidebar styles.

commit 3f3266002feff15617460daa1a0eae6df5473b08
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Thu Sep 12 21:56:18 2019 +1200

    Handle 204 (No Content) result from /charon/getDataset
    
    These are to be returned by the server to indicate that the
    dataset wasn't valid, but that we shouldn't show the 404 page.
    We instead show the splash page, which will list the datasets
    returned by the getAvailable request

commit 37741132f176a1247a1c0187422fffa41ef40efe
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Thu Sep 12 21:05:20 2019 +1200

    Improve wording of available narrative / dataset listing
    
    This used to say "Locally Available ..." which was only applicable for locally running auspice instances. It was confusing when this appeared while on (e.g.) nextstrain.org

commit 1ef46915c38f9249b6edd9d7e27671c955e36e76
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Thu Sep 12 21:04:26 2019 +1200

    change wording in narrative explanation

commit 969fb62a429a530cf748d1fad2eff6596c3d18e2
Author: Trevor Bedford <trevor@bedford.io>
Date:   Sun Sep 8 14:21:58 2019 -0700

    Update readme to clarify auspice vs Nextstrain

commit c157cb81db5e6d19de9d5061dcc825c2cee04aa4
Author: Trevor Bedford <trevor@bedford.io>
Date:   Sun Sep 8 14:09:11 2019 -0700

    Remove unnecessary Browserstack icon

commit 99217e714c079530a1c8fe2afa60f6bb41c95410
Author: Trevor Bedford <trevor@bedford.io>
Date:   Fri Sep 6 12:32:37 2019 -0700

    version bump to 1.38.2 for release

commit 15a2ba0f7078dc2e32fbe8879883fd2d88d52ad9
Author: Trevor Bedford <trevor@bedford.io>
Date:   Fri Sep 6 12:32:22 2019 -0700

    Update changelog

commit ec6fb1bb19f23902db3741899a57118bacb81a53
Author: Trevor Bedford <trevor@bedford.io>
Date:   Fri Sep 6 12:31:40 2019 -0700

    Fix display of INRB footer

commit ac78aeefb2f5a2f6176b2891020accf55f6d2a52
Author: Trevor Bedford <trevor@bedford.io>
Date:   Fri Sep 6 09:54:37 2019 -0700

    version bump to 1.38.1 for release

commit b932cd783f49c243696a0b8713c466804307196a
Author: Trevor Bedford <trevor@bedford.io>
Date:   Fri Sep 6 09:54:19 2019 -0700

    Update changelog

commit 3eb37497d31c12095b3694ea45e27c83a0024626
Author: Trevor Bedford <trevor@bedford.io>
Date:   Fri Sep 6 09:51:05 2019 -0700

    Apply INRB footer to both /community/inrb-drc and /inrb-drc

commit a6e89ee0c8f8f68f831fb4919048c7d61c01bc02
Author: Richard Neher <richard.neher@unibas.ch>
Date:   Tue Sep 3 09:30:46 2019 +0200

    implement ordinal color scale logic and display as integers if range is less than length of colorScale list

commit b602868ebd651164f8002781c7d0a6cd63d16f2e
Author: Richard Neher <richard.neher@unibas.ch>
Date:   Sun Sep 1 07:49:14 2019 +0200

    categorical color scales

commit 6fe165834ab08523b8c9f9c3bf089139f9bcc354
Author: Richard Neher <richard.neher@unibas.ch>
Date:   Sun Sep 1 06:32:14 2019 +0200

    add separate color logic for ordinal and categorical scales

commit 4d53b635638c9ca17ee8b56cdb3036dbd5c19fb2
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Sun Sep 1 15:46:48 2019 +1200

    bump v2 version to beta

commit 9b85067c945ee99b8fecc98a389d5ade8fb8db1f
Merge: cf2fe37f 71efbae6
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Sun Sep 1 15:02:01 2019 +1200

    Merge branch 'master' into v2
    
    * master: (42 commits)
      Update Installation docs
      Add header to Charon API README
      version bump to 1.38.0 for release
      changelog
      cli: Listen on only localhost by default instead of all interfaces
      Format frequency y axis as percentage
      Better call out frequency projection
      frequencies: Improve tooltip behavior and aesthetics
      frequencies: Include vertical line at projection_pivot
      version bump to 1.37.5 for release
      increase allowed map zoom
      version bump to 1.37.4 for release
      changelog
      Remove link to "deprecated" nextflu.org site from footer.
      add comments to `addLeafCount()`
      Unfurl clades during unrooted clade zoom
      version bump to 1.37.3 for release
      reinstate github links in sidebar for community builds
      Upgrade docusarus, lodash and move eslint
      version bump to 1.37.2 for release
      ...

commit cf2fe37ff5706ca310461e62abd063f7aa3d3227
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Sun Sep 1 14:19:29 2019 +1200

    update v2 minimal example JSON

commit 349e34a3305fd5a5e08114b2b05a5eb4dd0641a5
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Fri Aug 30 11:33:01 2019 +1200

    shift to node & branch attrs structure. closes #758
    
    See https://github.com/nextstrain/augur/issues/332
    See https://github.com/nextstrain/auspice/issues/758

commit 3a827af5e839acae85840f95b0403bf675f21ee6
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Fri Aug 30 12:12:25 2019 +1200

    update `auspice convert` signature.
    
    Includes the --minify-json option to parallel `augur export v2` and now accepts files via `--input` which will allow us to convert v2 -> v3 if the need ever arises.

commit a3d9961a02a2889a6a98f2fa1023bf73816385f4
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Thu Aug 29 19:45:50 2019 +1200

    enforce map triplicate (display default) to be boolean

commit bb246a1fdc564ff026a4526cda2e0d0d1cea4e6d
Author: Kairsten Fay <kairsten.fay@gmail.com>
Date:   Mon Aug 26 14:42:17 2019 -0700

    Improve readability of `changeURL.js`
    
    Delete commented out code, utilize better boolean logic, add a
    docstring, and rearrange an if/else statement to improve readability of
    the `changeURL.js` file.
    
    Co-authored-by: James Hadfield <jh22@sanger.ac.uk>

commit 02ac25ccd5874b12cba8c545ba51c77601252078
Author: Kairsten Fay <kairsten.fay@gmail.com>
Date:   Mon Aug 26 14:40:50 2019 -0700

    Remove mentions of `_url` from auspice code
    
    Now that the browser window path is being updated after the server
    responds with the appropriate dataset, we no longer need to handle
    magic keys in the JSON dataset. Delete all mentions of these keys in the
    code.

commit b9c91d6d08f02f394e03f943bfe51cdb9f48835d
Author: Kairsten Fay <kairsten.fay@gmail.com>
Date:   Mon Aug 26 14:33:30 2019 -0700

    Improve readability of `loadData.js`.
    
    Delete commented out code, remove extra blank lines, and rearrange an
    if/else statement to improve readability of the `loadData.js` file.

commit 569bfdf63e98ee29ed74610c871304294dfecc5e
Author: Kairsten Fay <kairsten.fay@gmail.com>
Date:   Wed Aug 28 18:02:16 2019 -0700

    Update the window path using server response URL
    
    Sometimes, partial URLs are sent to the `/charon/` web API endpoint.
    The server sends back the correct data according to its best guess at
    the complete URL.
    
    Once the data are received from the server, update the client browser
    window path to align with the HTTP endpoint the server followed to
    complete the data request.
    
    Note that this is a change of implementation of a currently existing
    behavior. Previously, the server was injecting magic URLs into the
    JSON object the client eventually received. We are no longer reading
    URLs from the JSON object in this new implementation.

commit 76e560424a5bd2b3a64026a70c42d77395fe4d7b
Author: Kairsten Fay <kairsten.fay@gmail.com>
Date:   Mon Aug 26 14:21:40 2019 -0700

    Update data-getters in `loadData.js`
    
    Currently, when the auspice client sends a partial URL to the `/charon`
    API, the server injects a magic key (`_url`) into the JSON document
    containing the requested data that is then returned to the auspice
    client.
    
    We want to move away from the JSON-manipulation and complicated logic
    that follows on the auspice client for recognizing a new URL and
    updating the browser's window state accordingly.
    
    To start this process, we need to be able to access the `Response`
    object returned from the server hosting the `/charon` web API.
    
    Edit the `getDatasetFromCharon` function to return the `Response`
    instead of the only the JSON object inside of the `Response`.
    
    Because there is a higher level variable named `getDataset` that can
    either contain the `getDatasetFromCharon` or the `getHardcodedData`
    function, update `getHardcodedData` to return the `Response` instead of
    the JSON object inside of the `Response`.
    
    To prevent these changes from breaking the application, add a callback
    to all usages of `getDatasetFromCharon`, `getHardcodedData`, and
    `getDataset` which returns the JSON object from the `Response` data.

commit 71efbae68510b3c04c354a58339fe54d12f6c84c
Merge: 408515f6 e19682e5
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Thu Aug 29 14:17:15 2019 +1200

    Merge pull request #782 from nextstrain/readme-updates
    
    Readme updates

commit 55a424afe04dabf91da3971e130b1e1659a7b66b
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Thu Aug 29 13:22:40 2019 +1200

    bugfix in v1-v2 JSON conversion
    
    Applies prettyString() to all values across the tree -- previously this was only used for "country" or "region". This manifested in trees/maps without colours/location as the coloring & geo data referred to the pretty-ified string, whereas the value was stored on the node unmodified.

commit e19682e55907b4555dfabdef45c28a9cc6194160
Author: Kairsten Fay <kairsten.fay@gmail.com>
Date:   Mon Aug 26 15:29:13 2019 -0700

    Update Installation docs
    
    Add example code for installing auspice within conda. Add some context
    for running auspice in development mode and how it might behave with the
    server (and `/charon` endpoints).

commit 5c7388bddcde40a3f8f9e003be06aee28d8156e2
Author: Kairsten Fay <kairsten.fay@gmail.com>
Date:   Mon Aug 26 15:26:43 2019 -0700

    Add header to Charon API README
    
    Add an h1 header to the Charon API README. Also, escape the word
    "charon" with backticks in the document.

commit ad0c9b498556ea84691950e62af20f06c9635ffc
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Thu Aug 29 11:32:05 2019 +1200

    Fix bugs with undefined / unset values on nodes. Closes #744
    
    We now check every value on the tree and if not valid (or not set) always return the `UNDEFINED_VALUE` constant.

commit 408515f6a2f9a47a99eff6300cd062935cedbe95
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Thu Aug 29 10:34:21 2019 +1200

    version bump to 1.38.0 for release

commit 026bcff943cec1d9c61cc720f4de77caff180be0
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Thu Aug 29 10:33:43 2019 +1200

    changelog

commit 2b53aef23e37df0aa585f1928c88e06a92d2199b
Merge: 7d1d54e8 16341e53
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Thu Aug 29 10:28:53 2019 +1200

    Merge pull request #781 from nextstrain/listen-host
    
    cli: Listen on only localhost by default instead of all interfaces

commit 16341e53627bbc119f31fbece6e34556cdc0c5bd
Author: Thomas Sibley <tsibley@fredhutch.org>
Date:   Wed Aug 28 13:59:01 2019 -0700

    cli: Listen on only localhost by default instead of all interfaces
    
    It is a safer to not expose services over the network by default.
    
    The host to listen on can be overridden by setting the HOST environment
    variable, which complements the existing PORT environment variable.

commit 5979ef978fe6b21de6c1e1af22edebc8e02b2b0a
Merge: 8ad23a3b 0751dd4a
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Thu Aug 29 10:04:33 2019 +1200

    Merge branch 'allow-code-import' into v2
    
    * allow-code-import:
      Allow auspice code to be imported via node's `require`

commit 8ad23a3bbf452e291b4925dcd124b3c2c21c5ac0
Merge: b4a531d1 f5849614
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Thu Aug 29 09:35:26 2019 +1200

    Merge pull request #780 from nextstrain/744
    
    partial bugfix when calculating map arcs if nodes were missing coloring data

commit 7d1d54e896c63dd9ffd75e3326a3ebd10c0c1eee
Merge: 8a695573 ae29fe3c
Author: Trevor Bedford <trevor@bedford.io>
Date:   Wed Aug 28 22:27:24 2019 +0800

    Merge pull request #777 from nextstrain/projection-pivot
    
    Update frequencies tooltips and include projection pivot

commit ae29fe3c7f6a53d3b60223865aac02c3b268648a
Author: Trevor Bedford <trevor@bedford.io>
Date:   Wed Aug 28 21:39:17 2019 +0800

    Format frequency y axis as percentage

commit 0751dd4a6c298a2162fc78e49dd32da07b1d02c4
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Wed Aug 28 22:24:26 2019 +1200

    Allow auspice code to be imported via node's `require`
    
    This commit begins exporting some functions which may then be available to node packages which import auspice (e.g. via `const auspice = require("auspice")`)
    
    These are intended to be "helper functions" for those wishing to write their own auspice server, i.e. a server which handles the GET requests originating from a auspice client.

commit b4a531d1b33b9848b80d9cb5cacad3b79e458769
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Wed Aug 28 18:43:08 2019 +1200

    reinstate maintainers in footer
    
    which was accidentally removed during development of the pie-charts

commit e669c7570e451a0262301f2a5dbc201a05f88f57
Author: Trevor Bedford <trevor@bedford.io>
Date:   Wed Aug 28 11:52:05 2019 +0800

    Better call out frequency projection
    
    This commit updates two aspects of projection frequencies:
    1. Adds a "Projection" label centered over the projected portion of the frequencies streamgraph
    2. Changes tooltip labeling to "Projected frequency" when appropriate

commit cbc69f2c56757e25174f2de1b8f71867a50da59a
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Wed Aug 28 15:03:57 2019 +1200

    update minimal examples

commit a634ce7bf469981caa313015c36eabadad0d0903
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Wed Aug 28 15:03:41 2019 +1200

    fix typo

commit f5849614ba3871fdea889a38447186715946fdc2
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Wed Aug 28 14:54:00 2019 +1200

    bugfix when calculating map arcs if nodes were missing coloring data

commit ec924d762946fbd9db7567f5201997b99dd681cf
Merge: 486e6b43 3ca5f758
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Wed Aug 28 13:37:17 2019 +1200

    Merge branch 'use-json-strings' into v2
    
    * use-json-strings:
      reinstate missing space in filter names
      remove string helpers file
      remove author string formatter calls
      Remove prettyString from strain TSV download
      remove prettyString from tree hover/click info boxes
      frequency panel: use JSON values
      tree click info: use JSON values
      tree hover info: use JSON values
      legend values: use JSON values
      info header: use JSON values
      footer filters: use JSON values for items
      strainTSV: use JSON values without string helpers
      authorTSV: use JSON values without string helpers

commit 3ca5f758cad547a9ce47108f17142055e407c8f4
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Wed Aug 28 13:13:37 2019 +1200

    reinstate missing space in filter names

commit 167477d61ceabeaa2863fc566d075d5f032fa1c4
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Wed Aug 28 12:10:42 2019 +1200

    remove string helpers file
    
    Transforms provided here are now taken care of in augur / auspice server.

commit 6926811423a68ce1a3e7109161e5f65a23f46457
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Wed Aug 28 11:57:28 2019 +1200

    remove author string formatter calls
    
    Slight regression: the "et al" is no longer italicized in the download modal.

commit a272eb9f244ebeee9bc92b2651ba1fbd2d2b083d
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Wed Aug 28 11:12:03 2019 +1200

    Remove prettyString from strain TSV download

commit bd3ec9d3f82c4c9a51e37606c93a8637cc3a395c
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Wed Aug 28 10:58:00 2019 +1200

    remove prettyString from tree hover/click info boxes
    
    It was not actually modifying the strings!

commit 486e6b43fa9ff5fbe3b4d9b1ba6b01f24477cc6e
Merge: 1b042d67 e99ffa80
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Tue Aug 27 19:20:44 2019 +1200

    Merge pull request #779 from nextstrain/config
    
    schema updates

commit e99ffa8018d2b3ba6aac883b19777ea11e9c4c38
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Tue Aug 27 19:01:59 2019 +1200

    update v2 JSON colorings structure to be a list

commit bb3c430297235821f1a13c1416b108a3bed225a5
Author: Trevor Bedford <trevor@bedford.io>
Date:   Thu Aug 22 19:52:54 2019 -0700

    frequencies: Improve tooltip behavior and aesthetics
    
    This commit:
    1. Makes the vertical tooltip line follow the frequency bin rather than taking up the entire vertical.
    2. Makes the tooltip aligned with the pivot rather than the mouse point. This prevents the tooltip from occluding the marker line.
    3. Makes the tooltip styling match the dark background / white text used in tree tooltips. This increases aesthetic consistency.

commit 06bf163d5cb69e247c66cd38865a376ddb4568ad
Author: Trevor Bedford <trevor@bedford.io>
Date:   Thu Aug 22 19:17:42 2019 -0700

    frequencies: Include vertical line at projection_pivot

commit 57efb0ef3ce9eabbf056d2a71395d937c96b133f
Author: Jover <joverlee521@gmail.com>
Date:   Fri Aug 16 16:41:01 2019 -0700

    frequency panel: use JSON values

commit 51a085ac0d43c1b1415c6a4bf642b0cab624afbf
Author: Jover <joverlee521@gmail.com>
Date:   Fri Aug 16 17:16:15 2019 -0700

    tree click info: use JSON values

commit 0cd1ca772fa15175e59e50fc4f10e94c04a21117
Author: Jover <joverlee521@gmail.com>
Date:   Fri Aug 16 09:40:36 2019 -0700

    tree hover info: use JSON values

commit 8f6db792aac3e5eb2b19c7bd0a6245c6ac8afe7c
Author: Jover <joverlee521@gmail.com>
Date:   Thu Aug 15 16:34:01 2019 -0700

    legend values: use JSON values

commit cf916de6a01cf34155921cb639a547ce053b0f8d
Author: Jover <joverlee521@gmail.com>
Date:   Thu Aug 15 14:58:55 2019 -0700

    info header: use JSON values

commit a2dfa67f65e88f6276319911a9ace6be6edb80c9
Author: Jover <joverlee521@gmail.com>
Date:   Fri Aug 16 12:34:30 2019 -0700

    footer filters: use JSON values for items
    
    Filter items are displayed as is from the raw JSON.
    
    Filter titles are pulled from the `metadata.colorings`if available. If the filter is not found in `metadata.colorings`, then it will just use the provided filterName.

commit 76c6de6ee2777c259f58dfaeda42ffea6861b107
Author: Jover <joverlee521@gmail.com>
Date:   Fri Aug 16 14:01:32 2019 -0700

    strainTSV: use JSON values without string helpers

commit cced71606ad05975775df3110608c9f8f31ff143
Author: Jover <joverlee521@gmail.com>
Date:   Thu Aug 15 12:00:57 2019 -0700

    authorTSV: use JSON values without string helpers
    
    Update to use values from nodes directly without needing
    to "pretty" the string. The only things that needed to be updated
    are the `journal` and `url` values.
    
    Update server conversion function to format the url and
    author strings from v1 JSONs.

commit 1b042d67dac9d265e250c80be82181f800f0b3ab
Merge: 998d46e2 5a8b56fa
Author: Jover Lee <joverlee521@gmail.com>
Date:   Fri Aug 16 16:24:24 2019 -0700

    Merge pull request #775 from nextstrain/frequency-panel-bug
    
    Fix frequency panel bug

commit 5a8b56fae863aee6068e784bcfeb3afd215f8c32
Author: Jover <joverlee521@gmail.com>
Date:   Fri Aug 16 16:17:25 2019 -0700

    Fix frequency panel bug
    
    This is a simple fix for a bug caused by moving metadata
    into a top-level `meta` layer,
    the frequencies panel was missed in updates to the
    React code.

commit 224e17da86916a72f966589ba6af10c901e68a5a
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Fri Aug 16 15:15:46 2019 +1200

    allow user-defined geo resolution titles

commit 3e04a634f94b8373c1e0cafbb7b127cd4caf70a4
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Fri Aug 16 14:13:53 2019 +1200

    move to v2 JSON geo_resolutions structure
    
    replaces "geographic_info" property with "geo_resolutions" which is referred to within auspice as "geoResolutions"

commit 998d46e271e4638b3afe35849253d21eb24b2aa8
Merge: efb4cd06 7e976f95
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Fri Aug 16 09:56:31 2019 +1200

    Merge pull request #771 from nextstrain/negStrandEntropy
    
    Improvements to Codon and Nuc Bars & Mouseovers

commit 7e976f953d8e4d65cd880891b73935ba65ae9581
Author: Emma Hodcroft <emmahodcroft@gmail.com>
Date:   Thu Aug 15 21:57:06 2019 +0200

    entropy mouseover shows nuc pos if codon, and codon if nuc pos

commit 58ee011d4fc4cbfff1bb512f01989efac034df08
Author: Emma Hodcroft <emmahodcroft@gmail.com>
Date:   Thu Aug 15 19:19:46 2019 +0200

    scale nuc and AA bars to sit better on axis!

commit f2df4422779d23bde56ffcfc190b217750250375
Author: Emma Hodcroft <emmahodcroft@gmail.com>
Date:   Thu Aug 15 16:58:44 2019 +0200

    show strand on mouseover

commit 0fb0361a033480db3ffaaa93601babc1c4641afe
Author: Emma Hodcroft <emmahodcroft@gmail.com>
Date:   Thu Aug 15 16:57:10 2019 +0200

    plot neg strand AA muts in right location

commit efb4cd067377810ed3fd4438c7312c1257eb3059
Merge: ff59e5e0 c0de2207
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Fri Aug 16 07:24:05 2019 +1200

    Merge pull request #766 from nextstrain/missing_geo_763
    
    Check demeIndices[location] exists

commit ff59e5e08407ea96c686162492efe1fa9c7ea88a
Merge: daaa2370 99427943
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Fri Aug 16 07:20:28 2019 +1200

    Merge pull request #770 from nextstrain/gff-annotations
    
    Move to GFF-style annotations

commit 8a695573710a006eb70a0aa54eb60a1cec5fec26
Merge: ded28eec b78ad188
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Thu Aug 15 18:18:34 2019 +1200

    Merge pull request #750 from nextstrain/dependencies
    
    Upgrade docusarus, lodash and move eslint to devDepedencies

commit 994279431744a5acb44f9ef2cf2a27a101ad6e94
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Thu Aug 15 15:36:57 2019 +1200

    update entropy strand display to use GFF syntax
    
    Shifts from -1/1 to -/+. Renames the property from `readingFrame` to `strand` to improve consistency.

commit 93be08a87aab64db69ecdb3576eb52c423a8890c
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Thu Aug 15 15:09:19 2019 +1200

    shift start positions to 0-based starts for nt & genes
    
    Auspice v1 (and the JSONs it consumed) used 1-based mutations and
    0-based, BED-like feature annotations.
    Auspice v2 JSONs (which the client will always receive) uses GFF-like
    1-based, close ended feature annotations. We adjust the starts here so that
    the display remains unchanged, however this should be revisited at a later date.

commit 2b41cd53776019a1676d78c184df86e126394398
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Thu Aug 15 14:38:15 2019 +1200

    lint & comment `convertToGffFormat`

commit daaa2370ed15736908411726118a7b902438678d
Merge: f40520f3 c3d0205e
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Thu Aug 15 10:49:34 2019 +1200

    Merge pull request #769 from nextstrain/top-level-meta
    
    Top level meta

commit f40520f34057a5b3aee87c6bd08487f5468dfd76
Merge: 0132ce29 40b885b1
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Thu Aug 15 10:30:35 2019 +1200

    Merge pull request #768 from nextstrain/nucleotide-colorby
    
    Fix nucleotide colorby bug

commit c3d0205ebc20007f20535ee08d896a31e36790c6
Author: Jover <joverlee521@gmail.com>
Date:   Wed Aug 14 14:20:26 2019 -0700

    Update func: createMetadataStateFromJSON
    
    Update to use top level meta layer of v2 JSONs for
    creating metadata state.

commit a55f4f468f95f042b117b3370e00abd80f92416c
Author: Jover <joverlee521@gmail.com>
Date:   Wed Aug 14 13:59:38 2019 -0700

    Update server conversion to top level meta layer
    
    Match v2 JSON schema of using a top level meta layer to
    enclose all metadata.

commit ae2e31d206d095b8de1fe46586f862865feabe1c
Author: Jover <joverlee521@gmail.com>
Date:   Wed Aug 14 13:48:21 2019 -0700

    Update example v2 JSON with top level meta layer

commit 40b885b1cd65bc46aa4cf68e19256524ec9d0905
Author: Jover <joverlee521@gmail.com>
Date:   Wed Aug 14 11:08:05 2019 -0700

    Fix nucleotide colorby bug
    
    When prot = "nuc", data was getting passed the entire
    `node.mutations` object instead of the `node.mutations.nuc`
     array.
    
    Since both protein and nucleotide mutations are contained
    within the `node.mutations` object, there is no need to
    differentiate between them and just pass to data
    `node.mutations[prot]`

commit 0132ce29234f7d1e72b68f4c5186592a6a6ea744
Merge: 61bf46ad aefa5fac
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Wed Aug 14 18:49:56 2019 +1200

    Merge pull request #767 from nextstrain/node-names
    
    Use node.name instead of node.strain

commit 0f6361b8d1bbcdd0457920d819c0a9d9fbf6ce64
Author: Jover <joverlee521@gmail.com>
Date:   Tue Aug 13 15:15:13 2019 -0700

    getAnnotations: Convert start to zero-based
    
    With v2 JSONs, we expect the `genome_annotations` to
    be one-based. This change converts that to zero-based
    so that the React code can work as it did before.

commit 1d84fe766faa9cfd68b6066d07d2eaf9bcb98b8b
Author: Jover <joverlee521@gmail.com>
Date:   Mon Aug 12 16:33:43 2019 -0700

    Update server conversion function to GFF format
    
    The annotations within the metadata JSON is converted
    to GFF format, with the main changes being the start
    position is now one-based instead of zero-based and
    the forward/reverse strands are represented with "+" and "-".
    
    The GFF format also includes a `seqid` and `type` key, but
    this information is not available within the v1 metadata JSON,
    so they are not included in this conversion process.

commit aefa5fac6d3114735b9b537c3c298a3e6c6a2e54
Author: Jover <joverlee521@gmail.com>
Date:   Mon Aug 12 13:52:53 2019 -0700

    Update example json to `node.name`

commit f146142e16f26216e5655e5e51b3283d94f8bc34
Author: Jover <joverlee521@gmail.com>
Date:   Mon Aug 12 12:30:46 2019 -0700

    Update react code to use `node.name`
    
    Update all instances of `node.strain` or `n.strain`
    and replace with `node.name`.

commit a1ec03bf6df1446be4ff0aa6f8269aa43737c336
Author: Jover <joverlee521@gmail.com>
Date:   Mon Aug 12 10:57:06 2019 -0700

    Update server conversion function output node.name
    
    In func: storeTreeAsV2, add `node.name` to the tree and
    delete `node.strain` to match augur export-v2

commit c0de22079b19ad1b1f776a8422965e30e50b6fde
Author: Emma Hodcroft <emmahodcroft@gmail.com>
Date:   Fri Aug 9 18:03:31 2019 +0200

    check demeIndices[location] exists

commit 61bf46ad0897f579dec7deaa0f48b7e98c1290ac
Author: Emma Hodcroft <emmahodcroft@gmail.com>
Date:   Fri Aug 9 16:27:24 2019 +0200

    use getTraitFromNode to avoid num_date errors

commit ded28eecd23b35a36b6158e8288672716b024540
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Fri Aug 9 09:10:44 2019 +0800

    version bump to 1.37.5 for release

commit f4fe9c17fdbb55a1602125487d8fc5c142068f08
Merge: f46ba749 2f5e5b5f
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Fri Aug 9 09:01:39 2019 +0800

    Merge pull request #765 from nextstrain/zoom
    
    increase allowed map zoom

commit 2f5e5b5fe14280e4e98ae45c0c766cb99cecb370
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Thu Aug 8 16:40:28 2019 +0800

    increase allowed map zoom

commit f46ba7490adfc4dd563a48391b6d42c04a0199b2
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Sun Aug 4 15:47:05 2019 +1200

    version bump to 1.37.4 for release

commit 8c68d0db3a080056f40d06fab9d32e33ef4f82ef
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Sun Aug 4 15:42:03 2019 +1200

    changelog

commit b6cfa8d464132d93496cbe641107340609e1cdda
Author: Trevor Bedford <trevor@bedford.io>
Date:   Sat Aug 3 09:46:13 2019 -0700

    Remove link to "deprecated" nextflu.org site from footer.

commit 54193c515a0b4e84fa5f8471b5c7036af564dedb
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Wed Jul 31 14:45:14 2019 +1200

    reinstate default display option "layout"
    
    In conjunction with augur commit d8b802a2b47a02a72a7e5d2faa35f557092f99e3

commit dd2d128ed1edc284896340ae3c325904cc3f97a4
Merge: a377052b 27113b08
Author: Trevor Bedford <trevor@bedford.io>
Date:   Tue Jul 30 17:28:23 2019 -0700

    Merge pull request #751 from nextstrain/pie_charts
    
    Pie charts

commit 841b2492182a7d3e65edbed75a55391d79e41788
Merge: d020807d 3a594b3b
Author: Trevor Bedford <trevor@bedford.io>
Date:   Mon Jul 29 19:29:10 2019 -0700

    Merge pull request #754 from nextstrain/unrooted-zoom
    
    Unfurl clades during unrooted clade zoom

commit 3a594b3bf36be2d3b42f383ba3bda9776ad577fe
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Tue Jul 30 12:12:08 2019 +1200

    add comments to `addLeafCount()`
    
    and remove it from initial phylotree setup as it's only every used in unrooted layouts and each call to `unrootedLayout` will call it.

commit 4608e886e04b1e6412080c90c2825e12e765a155
Author: Trevor Bedford <trevor@bedford.io>
Date:   Mon Jul 29 15:19:59 2019 -0700

    Unfurl clades during unrooted clade zoom
    
    This commit alters unrooted tree layout to give more radial territory to tips that are "inView" compared to tips that are out of view. This causes clade zoom to unfurl clades when zooming. Besides altering unrootedLayout, this commit adds an "updateLayout" flag that causes layouts to be recalculated on clade zoom to account for this.

commit d020807d7b9dc15231217aa010c696b1cc18a325
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Mon Jul 29 14:46:50 2019 +1200

    version bump to 1.37.3 for release

commit 676c4f73941ba2e24001f59b4d63e5709e06c96d
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Mon Jul 29 14:44:26 2019 +1200

    reinstate github links in sidebar for community builds
    
    Also removes displaying a "source & raw datapath" for datasets where the available datasets JSON hadn't arrived as it resulted in sidebar flashing as the available datasets JSON normally arrives shortly after page load. If this is unavailable (e.g. on custom auspice builds), then the URL & title can indicate the dataset.

commit 27113b08f930bb808192a8b3309a9246567f0120
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Sun Jul 28 20:52:36 2019 +1200

    pie chart order mirrors legend order
    
    The arcs of the pie chart now have the same ordering as the legend values. This required refactoring of the functions involved in creating colours per location.

commit 778935a47290ff1a77e3462d491016d92218301b
Author: Trevor Bedford <trevor@bedford.io>
Date:   Sat Jul 27 07:41:42 2019 -0700

    Restore transitions for circles
    
    Keep transitions as they were if using blended circles. Also, improve logic for assigning pieChart flag, ie if continuous, then no piechart, if geo resolution = colorBy , then no piechart. This fixes the scenario where pie charts were used where each chart was guaranteed to only have 1 element matching "country" (or "region" or whatever). This logic could be further improved for situations like where geo resolution = "country" and colorBy = "region", which would still permit circles. But this is more complicated to dynamically determine.

commit c0ca2f0bd20d5597c5498f3603bb376c5461bb77
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Fri Jul 26 23:59:48 2019 +1200

    remove map transitions
    
    Previously there were 200ms transitions that were used during the rendering calls within `maybeUpdateDemesAndTransmissions`. This caused issues with arcs (pie charts) when we tried to change the path attr during a transition. Removing these is a very slight regression in appearance but a major increase in speed. Furthermore, since 4a1d8231770989a5e70753224cde746dbc97cec0 causes a removal & recreation of DOM elements on a color-by change (not an update), these transitions are only ever applied by visibility changes. Especially in animations this is unnecessary complexity & cost.

commit b3d5164bf6deffedeca32d7b7d6477e0459182bd
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Fri Jul 26 23:56:41 2019 +1200

    remove console logs

commit 4a1d8231770989a5e70753224cde746dbc97cec0
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Fri Jul 26 23:34:30 2019 +1200

    fix pie-chart bug on color-by changes to other discrete variables
    
    Changing between 2 color-bys with pie charts requires the recreation of the `arcs` in `demeData`. Easiest way to do this is to trigger `maybeRemoveAllDemesAndTransmissions` which will cause them to be recreated in `maybeDrawDemesAndTransmissions`.

commit dfb1a2e0abbb236745e1f6a085fac67d9ec0a29c
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Fri Jul 26 23:02:54 2019 +1200

    pie charts work with `maybeUpdateDemesAndTransmissions`

commit 20e5781069f46bb6cd1191744c3bac370b148cee
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Fri Jul 26 20:40:57 2019 +1200

    use Object.entries() over importing lodash's forOwn
    
    ES6 syntax is much nicer

commit f2cb10edcfc152f05291dbd87b8ec58813701448
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Fri Jul 26 20:25:16 2019 +1200

    refactor `getDemeColors` into `getColorsForAllDemes`
    
    This both improves the code quality and flow, and reports the total observed colour counts in addition to the currently-visible colour counts. This information will be necessary in order to create arcs in a pie chart for all colours at each location, whether there are any visible or not. This commit also restores the update functionality (i.e. vis / color by changes) for non-pie charts.

commit 8af1c73bb192087841625792123bc08dccd39f9b
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Fri Jul 26 18:21:33 2019 +1200

    Do not reset map position when geo resolution / pie-circle changes
    
    Previously, when you changed the geoResolution or changed between pie charts & colour-blended circles the removal of D3 elements (`maybeRemoveAllDemesAndTransmissions`) would also set `state.boundsSet` to false, causing the re-rendering of elements to also reset the map. This is an improvement as the map no longer unexpectedly moves when you change these things.

commit 2e038fd7053a9245086d4fb1cd93bec3974ce0af
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Fri Jul 26 17:48:06 2019 +1200

    simplify what's in `demeData`
    
    Since we recreate `demeData` if we change between pie charts <-> blended-colour circles, there's no need to make the structures for both when we create it.

commit b96fa4a49c84ca69ce978c260b93dff1c77ae52f
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Fri Jul 26 18:08:34 2019 +1200

    `updateOnMoveEnd` now works with pie charts
    
    `state.d3elems.demes` now refers to pie charts OR circles. This is simpler to keep track of. Previously `updateOnMoveEnd` wasn't acting on pie charts but now is.

commit 58b4d1bfc5b7d988e29e1b3efa9c67a1657c1fbb
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Fri Jul 26 16:14:02 2019 +1200

    Switch between color-blends (continuous scales) & pie charts (others)
    
    NOTE: "updates" (e.g. viz changes, color changes which don't switch between color-blending & pie charts) are disabled by this commit.
    
    The pie chart data has been added to `demeData` to simplify logic.

commit b78ad188c048cb21ec4654f351f526c9be70eaa3
Author: Trevor Bedford <trevor@bedford.io>
Date:   Tue Jul 23 19:09:58 2019 -0700

    Upgrade docusarus, lodash and move eslint
    
    * Docusaurus and lodash versions were throwing GitHub security errors. This should mostly address this.
    * eslint is only used in development. It should be safe to move to devDependencies and slim down the resulting bundle.

commit 6b037b8932504d5894a8cf1e59525beecff62755
Author: Cassia Wagner <cassia.wagner9@gmail.com>
Date:   Fri Jul 5 16:11:52 2019 -0700

    Added comments on readability for newbies.

commit 5871033873ce191234189fa9b3eb436b701982e7
Author: Jover <joverlee521@gmail.com>
Date:   Wed Jun 19 11:59:10 2019 -0700

    docs: Fix link

commit 7b6bb27120096714c859b5560e32b1c90168d700
Author: milcisin <49962968+milcisin@users.noreply.github.com>
Date:   Wed Jun 19 11:57:05 2019 -0700

    Update introduction.md

commit 3939ff5a4a7540e6188e037a6eaa45c647968c1b
Author: Kairsten Fay <kairsten.fay@gmail.com>
Date:   Tue Jun 18 17:29:19 2019 -0700

    docs: fix typos

commit 5dfc30d2e4d64ea366d372c3e8963acdff2a4089
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Wed May 1 21:48:58 2019 +0545

    draft v2 docs
    
    Implement much improved splash page and create framework for docs pages (including new tutorial section). Individual doc pages are mostly incomplete.

commit 4a12316d871a3dc52cd3e6bdc2237dd5aaf3844d
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Tue Apr 30 21:04:42 2019 +0545

    update eslint
    
    Upgraded to fix errors. See https://github.com/babel/babel-eslint/issues/530

commit a377052bb3076de3ce9abb801cac02545e58caa9
Merge: 79d7fc1a 60bd802b
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Wed Jul 24 10:52:05 2019 +1200

    Merge pull request #747 from nextstrain/v2-numdateFix
    
    `node.num_date.value` Undefined Fix

commit 79d7fc1abbe9280a8a2434720910a97b12321cd8
Merge: b7b870bd d209d67f
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Wed Jul 24 10:47:01 2019 +1200

    Merge pull request #748 from nextstrain/color-scale-order
    
    provided color scale is now an array

commit 1ccd363c7a15de15b84013aac846e58662005777
Author: Richard Neher <richard.neher@unibas.ch>
Date:   Tue Jul 23 15:12:26 2019 +0200

    added comments, clean up a bit

commit b7b870bd230a8af8a459fd0fc05abfb516df3935
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Mon Jul 22 17:44:11 2019 +1200

    don't display links if the maintainers don't have associated URLs
    
    Maintainers without the `url` key are valid

commit 6de5a7d0ca77c6fbdf8949c3735eaf95f9a86ca3
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Mon Jul 22 16:18:49 2019 +1200

    Allow boolean color scales
    
    Uses blue/yellow following on from 2-trait discrete scales

commit ea5ae433d46a0e42e4c2d46fa7b8acb8b81b984e
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Mon Jul 22 16:02:34 2019 +1200

    allow "falsey" values as note trait values
    
    Specifying False or 0 as a (categorical/ordinal) trait value is valid. Defines a utility function `isValueValid` to centralise this logic.

commit c57538454140f40b279d4bd27ac2d04379abcb6b
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Mon Jul 22 11:29:43 2019 +1200

    [v1 - v2 convert] preferentially use menuItem. Closes #730

commit d209d67f685298f506c2e95aadb85b7f5b83e384
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Sun Jul 21 13:25:25 2019 +1200

    provided color scale is now an array
    
    See `color-scale-order` branch in augur. This allows provided trait values to be displayed in order.

commit 63461e7412f4415bb8845cdbbd2acaf4f8f474a9
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Sat Jul 20 12:30:32 2019 +1200

    version bump to 1.37.2 for release

commit 771093891d3778742ad4bc69fe2c6c76b30b6579
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Sat Jul 20 12:29:46 2019 +1200

    changelog

commit 5b804f08548530db910687ed017eda55f8ab0df5
Merge: 1538c0b3 68eb5cf8
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Sat Jul 20 12:14:47 2019 +1200

    Merge branch 'map-title'. Closes #743
    
    * map-title:
      Change map title to "Geography" if no transmissions exist

commit 1538c0b38be3e1f0567cafc1350fc863075b6bdb
Merge: ffb89dcb 7ce44190
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Sat Jul 20 12:11:07 2019 +1200

    Merge branch 'missing-nuc'
    
    * missing-nuc:
      Allow annotations block without "nuc". Closes #732
      fix bug in URL middleware on 404s

commit ffb89dcb4b1c79897b90f67e70c635f880286ac8
Merge: 09f87704 ead29f25
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Sat Jul 20 12:07:49 2019 +1200

    Merge pull request #746 from nextstrain/root-url
    
    Root Clade in URL Fix

commit 60bd802ba9949ed7d23d358dad64679823efb9ba
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Sat Jul 20 12:04:06 2019 +1200

    use `getTraitFromNode` to get node data
    
    rather than hardcoding node["num_date"] etc. `getTraitFromNode` will return `undefined` if the trait doesn't exist.

commit 8215ce3f1cb112b7471a8925f08af25c0f8eb659
Author: Richard Neher <richard.neher@unibas.ch>
Date:   Fri Jul 19 20:29:13 2019 +0200

    avoid error for zero length demes

commit 88f79cf4aade4dd46933528c444b41f37a8a3d0e
Author: Emma Hodcroft <emmahodcroft@gmail.com>
Date:   Fri Jul 19 18:50:53 2019 +0200

    more fix undefined node.num_date

commit 46ce6825eb37a82a81be6eb5ab1d41c0d4d083ca
Author: Emma Hodcroft <emmahodcroft@gmail.com>
Date:   Fri Jul 19 16:27:32 2019 +0200

    node.num_date.value undefined fix

commit 7e80a16bd720cec60ef91cb1eb10cf109ce5fd92
Author: Richard Neher <richard.neher@unibas.ch>
Date:   Fri Jul 19 15:37:49 2019 +0200

    update pie charts by redrawing

commit 46c03c1ba282f1c6a29c060069252b731391f311
Author: Richard Neher <richard.neher@unibas.ch>
Date:   Fri Jul 19 15:20:55 2019 +0200

    this makes pie charts, but doesn't update them...

commit ead29f25d1d2e7aef43b4572925ee8352adef2d9
Author: Emma Hodcroft <emmahodcroft@gmail.com>
Date:   Fri Jul 19 15:05:09 2019 +0200

    remove console log debug

commit f8e97899a357d80d27f3bd16ff08da3a0a7bb4e5
Author: Richard Neher <richard.neher@unibas.ch>
Date:   Fri Jul 19 14:05:58 2019 +0200

    compute arcs using d3

commit b10bea530ab4c15fd45da7a88c8438847fd29ee5
Merge: 5fe12ad8 0ea9cfe7
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Fri Jul 19 10:41:40 2019 +1200

    Merge v2-schema author information
    
    * bibtex:
      Update author lookups (now stored on each node)

commit 68eb5cf815981377c68b5415721b18f58f873ccc
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Fri Jul 19 10:31:19 2019 +1200

    Change map title to "Geography" if no transmissions exist
    
    Closes #743

commit e81fb0f0f5289e0f40f2ef54e0d52be852f75e88
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Fri Jul 19 10:17:18 2019 +1200

    Setting filters no longer destroy clade selection in URL

commit 144d30b1a3c3591e55725ccd8e7f0c575da3f64a
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Fri Jul 19 09:59:33 2019 +1200

    Remove "root" from clade definition in URL
    
    See https://github.com/nextstrain/auspice/issues/744 for a description of this bug.

commit 84fcdd8450170a517a209defe375b925a2d7fa3d
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Fri Jul 19 09:31:18 2019 +1200

    remove images from get-data script
    
    These haven't been used since we moved the splash page to the static-site repo (which is now part of the nextstrain.org repo)

commit ec5c768d54f2cbe494377fa44c4f8cea30389597
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Fri Jul 19 09:30:25 2019 +1200

    add enterovirus to get-data script

commit 3fea244ada05ba3a8b920592299c4540dff94e0d
Author: Richard Neher <richard.neher@unibas.ch>
Date:   Thu Jul 18 19:08:55 2019 +0200

    change color averaging and refactor demeMap

commit 5fe12ad8c58bbc6953d77c101f6a0e1abbfb37cc
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Wed Jul 17 18:52:34 2019 +1200

    Improve rendering of multiple maintainers

commit 6cbea64f1452b3f3aaad4366ba05e657d64f4cba
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Wed Jul 17 18:38:40 2019 +1200

    Allow JSON files without maintainer(s) defined

commit 7a3881deba0f89f102b8b9adf1d7f1b408648dc8
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Wed Jul 17 18:19:22 2019 +1200

    Don't interpret "*_seq.json" files as available datasets

commit 0ea9cfe760ff973c67fe5897410765d96c816799
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Wed Jul 17 14:11:53 2019 +1200

    Update author lookups (now stored on each node)
    
    The v2 JSON changes how authorship is assigned, including the information on each node as opposed to an "author_info" lookup. This necessitated modifications to:
    * the `convert` functionality (v1 - v2 JSONs)
    * info displayed when hovering over a tip (much improved)
    * info displayed when clicking on a tip (much improved)
    * export TSVs
    * How author traits are collected during tree traversals

commit 7ce44190f625156456c7e6467bcd8f381a06fb2a
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Tue Jul 16 16:22:03 2019 +1200

    Allow annotations block without "nuc". Closes #732

commit e7ccfed31f9abbdf78a6caf849c757618ad4967e
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Tue Jul 16 16:14:22 2019 +1200

    fix bug in URL middleware on 404s
    
    Bug had no effect other than an unnecessary console error

commit 09f8770411ec7d637f1e062e369b8ae17eb71030
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Sat Jul 13 10:44:42 2019 +1200

    version bump to 1.37.1 for release

commit 9f7610a824dd2a663bb63aaa099d7a40201d1a5a
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Sat Jul 13 10:43:40 2019 +1200

    bugfix with discrete colour scales & unknown values
    
    Fig a bug where "unknown" values of a discrete scales (e.g. "?") could be given a colour. They are now grey.

commit a85f003d061df8d1d7d39dae2b75d15fc948f572
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Tue Jul 9 15:12:42 2019 +1200

    version bump to 1.37.0 for release

commit 8d927508fbdb913c249f5db6714a217eb0cd5363
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Tue Jul 9 15:11:59 2019 +1200

    changelog

commit 6a6fce5ba97d7066258999a64eec5a7fdc1bd863
Merge: c9ed89c7 30299e57
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Tue Jul 9 15:08:12 2019 +1200

    Merge pull request #736 from nextstrain/narratives_bug
    
    fix two narrative bugs with the map component

commit 30299e5741b210b2dee7956d5d9093cf5151aa01
Author: Kairsten Fay <kairsten.fay@gmail.com>
Date:   Fri Jul 5 18:21:05 2019 -0700

    Map: fix bug re: geo resolution changes. Closes #722
    
    Previously, when the geo resolution would change,
    `drawDemesAndTransmissions` would not
    necessarily be called, often causing data on the map
    to not load at all between queries.
    
    James also did some work here to correct the deme
    and transmission data that were being loaded on
    each narrative page change.
    
    This commit further complicates the map code, but is
    necessary to fix this bug. It is a prime candidate
    for refactoring in #735
    
    Co-authored-by: James Hadfield <jh22@sanger.ac.uk>
    Co-authored-by: Jover Lee <joverlee521@gmail.com>

commit a307d1c66b6ca954566d6fc3bdebf99b67a21d17
Author: Kairsten Fay <kairsten.fay@gmail.com>
Date:   Fri Jul 5 18:31:29 2019 -0700

    Map helpers: log updateVisibility error
    
    Logs an error in the function `updateVisibility' if
    `d3elems` is undefined.
    
    Co-authored-by: James Hadfield <jhadfiel@fredhutch.org>

commit 714b487545a2fa4ad32b15ba774d9d0c23262618
Author: Kairsten Fay <kairsten.fay@gmail.com>
Date:   Fri Jul 5 17:53:37 2019 -0700

    Map helpers: refactor updateTransmissionDataCol...
    
    Refactor the `updateTransmissionDataColAndVis` function to reduce the
    level of indendation of the code. Convert the conditional checks to
    guard statements that exist the `forEach` loop if the condition is not
    met.

commit 1f808b48b912b9c1406536bb4d2d22353ed59839
Author: Kairsten Fay <kairsten.fay@gmail.com>
Date:   Fri Jul 5 17:38:34 2019 -0700

    Map: refactor maybeDrawDemesAndTransmissions
    
    Shorten a conditional by casting the string to lower case.

commit b8614a5b2924da548932388aa73f7291cb1ed33c
Author: Kairsten Fay <kairsten.fay@gmail.com>
Date:   Fri Jul 5 17:15:16 2019 -0700

    Map helpers: refactor setupDemeData
    
    Refactor the function `setupDemeData` for better readability by
    reducing the level of indentation of the code. This commit converts two
    conditional checks into guard statements that exit the `forEach` loop
    if each condition is not met.
    
    Also removes an explicit `boolean === true` check in favor of `boolean`.

commit 607c977fa8c946145916b6c8732294b03409acb1
Author: Kairsten Fay <kairsten.fay@gmail.com>
Date:   Fri Jul 5 17:09:05 2019 -0700

    Map helpers: refactor setupTransmissionData
    
    Reduce the level of indendation of the bulk of the code in the function
    `setupTransmissionData` by refactoring two of the conditional checks
    into guard statements.
    
    This change reduces the cognitive load required to read and understand
    this function.

commit 8aa787db2899addcd2243ea4df07aa9fff8f0b3b
Author: Kairsten Fay <kairsten.fay@gmail.com>
Date:   Fri Jul 5 15:00:23 2019 -0700

    Map: refactor maybeUpdateDemesAndTransmissions
    
    Previously, in the function `maybeUpdateDemesAndTransmissions()` (part
    of the Map component), there was a large, indented code block inside of
    a conditional checking for truthiness in `colorOrVisibilityChange &&
    haveData`. Because changes only occurred if this conditional was true,
    refactor it so that the conditional is now a guard statement. If the
    conditional evaluates to false, exit the function. Now the bulk of the
    code is not indented.

commit 26b26fc6bdd4f61ac2adaec8feafd73671dc803b
Author: Kairsten Fay <kairsten.fay@gmail.com>
Date:   Wed Jul 3 16:47:22 2019 -0700

    Map: fix `haveData` bug
    
    In `maybeUpdateDemesAndTransmissions()`, the
    variable `haveData` was not always a boolean as
    was seemingly intended by its naming and usage.
    Change one of the values in its declaration to
    evaluate to a boolean by prefixing `!!`.
    
    Now `!!nextProps.nodeColors` evaluates to `true`
    or `false` instead of a list or `false`.

commit eeebdb6bd97ecad5c70b55554f1bc1c115665962
Author: Kairsten Fay <kairsten.fay@gmail.com>
Date:   Tue Jul 2 14:46:01 2019 -0700

    Map helpers: refactor updateOnMoveEnd
    
    Because the `updateOnMoveEnd` function only runs
    code inside the conditional `if (d3elems) {}`, refactor
    to create a `if (!d3elems) {}` guard statements and
    unindent the code within the function.

commit 3e8291ad5a6dd734668066131d33e699cab1cf5c
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Mon Apr 29 20:30:46 2019 +0545

    drag&drop CSV & TSV with additional traits
    
    Reinstate important but somewhat undocumented functionality allowing one to drag & drop a CSV (or TSV) defining additional / private traits for strains and having these appear as additional color-bys.
    Provided an example CSV file for the "minimal" dataset.

commit 27ddb6dd971558f7b9865bff9da65e619d238b2c
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Mon Apr 22 20:53:42 2019 +0545

    bump version to 2.0.0-alpha.1
    
    Once published (with an alpha tag), this should allow installation via `npm install --global auspice@alpha`

commit eef0f253d2f481ac6961c58f4dcb7ef103efdbe5
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Mon Apr 22 20:43:20 2019 +0545

    Add `auspice convert` to allow cli v1 -> v2 JSON conversion

commit 010893cf15744cb069092f45c2247a32b3eeb0de
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Mon Apr 22 20:40:30 2019 +0545

    Allow servers to customise auspice URL
    
    A (completely optional) JSON field `auspice_url_should_be` will instruct the client to change the URL. This is not part of the JSON schema, but can be used by servers to mimic redirects. Note that I first implemented this using a custom HTTP header but there are issues with it being cached, so this option is both simpler and cleaner.
    
    This commit also fixes some issues where adding a 2nd tree would sometimes not show up in the URL.

commit 33bd5b3c18e4ad7d230dcbd986e990125d61abc1
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Mon Apr 22 10:26:36 2019 +0545

    reinstate second tree functionality
    
    Use async/await in auspice to make things much clearer (to do: test on IE).

commit 6af99af05c552f3253b7bce96d6debd3d51c670c
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Mon Apr 22 09:19:43 2019 +0545

    server can deliver v2 JSONs
    
    Previously it was finding v1 meta + tree JSONs and converting them.
    Note - tangle trees are untested.

commit 8aa3056340933794316c28eaebab4933488e6bcb
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Mon Apr 22 08:59:27 2019 +0545

    add v2 minimal example

commit ee601cae2418fe5e29aafefd8583067630678716
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Mon Apr 22 00:23:26 2019 +0545

    create `tree_name` property
    
    This is currently missing from the v2 schema but must be there

commit 66b4699b5523813f66be2f95b9fc8a7aceff2ab3
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Sun Apr 21 23:27:37 2019 +0545

    move `attr` dict to `traits` (v2 schema)
    
    NOTE: This commit removes the (somewhat unused) functionality of dropping a CSV onto the browser with color definitions. TO DO.

commit 1a1000694852aee8d79b409ceb2a827322023deb
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Sun Apr 21 22:28:06 2019 +0545

    Remove all non-v2 node properties (except `attr`)
    
    The biggest change was the removal of `node.clade`. We used this extensively for DOM IDs but we now use `node.strain` (note that we have to remove certain characters from the strain name which are invalid as DOM ids)

commit 1c31ea6334273ae79142f415342422267c8c2093
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Sun Apr 21 21:19:20 2019 +0545

    move `muts` and `aa_muts` to `mutations` (v2 schema)

commit 874906fd770d69230057fc0ee431c0d612ed950e
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Sun Apr 21 20:51:33 2019 +0545

    move `div` to v2 spec

commit 969a58fb92a31c3b6cbed6dc73d680a636d50235
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Sun Apr 21 20:13:59 2019 +0545

    move `num_date` to v2 spec

commit cf1ac29d4155e0a8d248887a3f151710d0217c01
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Sun Apr 21 20:08:20 2019 +0545

    move branch labels to v2 spec
    
    v1 JSONs didn't define these -- "clade" and "aa" were set by auspice. This shifts the logic out of auspice and to the JSON creation, which is more appropriate.

commit 5040747fbb2c09d175c81d764fd566ddc9a00d84
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Sun Apr 21 19:29:28 2019 +0545

    improve vaccine strain display
    
    The vaccine strains are now displayed in the hover/click info boxes.
    All properties of the v2 schema are displayed (`selection_date`, `start_date`, `end_date`, `serum`).
    This has the benefit that serum strains are now displayed (these had been set in v1 tree JSONs but never rendered in auspice)

commit 6dad882ffee4ec6fbfb633bd5c200662f19a0492
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Sun Apr 21 18:47:47 2019 +0545

    filters now work with v2 schema
    
    Filters no longer expect values to be found on `node.attr[trait]`

commit 4e6adb83c266492eb0deb1c46c4d37b375a71244
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Sun Apr 21 17:40:26 2019 +0545

    move url & accession to v2 schema

commit c59a28f27650b1f17b9e855c89a8b9180269395a
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Sun Apr 21 17:17:43 2019 +0545

    Move author information (on nodes) to v2 spec
    
    There are a lot of changes in this commit, simply as a result of moving `node.attr.authors` -> `node.authors` (v1 -> v2 JSON).
    The reason is twofold:
    (a) the author key is no longer the author string to display, and it needs to be looked up via `authorInfo`
    (b) Code previously relied on things being set on `node.attr[name]` and this commit begins the process of looking for these keys on both the node (`node[name]`) and in the (not yet present) traits dict (`node.traits[name]`).

commit ed5cb6f03245079285d7a391e3acc20f3ff04f2c
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Sun Apr 21 15:41:31 2019 +0545

    remove `vaccine_choices` and set vaccine info on tree nodes
    
    Part of the move from v1 to v2 JSONs.
    Note that now the metadata json is no longer sent to the client.

commit 53e72aaff1afcb18827dc7b805a0b18993a2a690
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Sun Apr 21 15:10:42 2019 +0545

    remove dependence on `virus_count`
    
    `virus_count` is not part of the v2 schema

commit 851ed8a9fee9fd98f6e428dfe9b438378c5ca710
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Sun Apr 21 14:47:19 2019 +0545

    add geographic_info JSON v2 key

commit 420707b53ce3e49ccba933e52e829249ff9b63d7
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Sun Apr 21 14:28:06 2019 +0545

    move filters, panels and [display_]defaults to v2 schema

commit 24bc0fc583568705f2737c0a2f362c2712b7078b
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Sun Apr 21 13:57:01 2019 +0545

    Update [genome-]annotations to v2

commit 5fa57a66aa6d89c6c079faefa3dac4f40dfc3bd4
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Sun Apr 21 13:34:02 2019 +0545

    update author_info to v2
    
    Main changes are a result of author names no longer being the keys of `author_info` or the value of `node.attr.authors` (this caused problems because they weren't unique)

commit ade8a71d254b8e0bf2a65a98622400d65375d900
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Sun Apr 21 11:21:09 2019 +0545

    convert title, version, updated & maintainers to v2 json format

commit 8f7e0992f073b3e264b1ef4c74d3c268a234cb0a
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Tue Jan 22 12:29:58 2019 +1300

    use v2.0 schema color definitions

commit 2a6e3c48658e359bb035ce0f134f6870df630f12
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Fri Jan 18 18:24:26 2019 +1300

    set up convert util

commit c9ed89c7a7912f5e555dcaaee6c793c5c88aceef
Merge: f98bb557 57f762ca
Author: Kairsten Fay <kairsten.fay@gmail.com>
Date:   Tue Jun 4 11:33:21 2019 -0700

    Merge pull request #728 from nextstrain/dynamically_add_tip_labels
    
    Dynamically add tip labels

commit 57f762cae19e7f2f20ca31a564fa3eb99ffbb989
Author: Kairsten Fay <kairsten.fay@gmail.com>
Date:   Mon Jun 3 17:13:49 2019 -0700

    Update tip label visibility on date range change
    
    Previously, tip labels would not update in visibility unless the SVG or layout was modified, or the page was reloaded. Now tip labels reflect date range changes.

commit f944011d7fa5ac11a178570eb1d06eaa98f8826b
Author: Kairsten Fay <kairsten.fay@gmail.com>
Date:   Fri May 31 16:59:31 2019 -0700

    Update tip labels on layout change
    
    Previously, `updateTipLabels()` was not being called when modifying the
    SVG after a layout change.

commit 76546d5a35a7fe781f9a52c17545d47e49e62a90
Author: Kairsten Fay <kairsten.fay@gmail.com>
Date:   Fri May 31 16:53:28 2019 -0700

    Refactor declaration of useModifySVGInStages
    
    `useModifySVGInStages` is false unless `newLayout` is set to true. Thus,
    set `useModifySVGInStages = newLayout`.

commit f98bb557978e2242b9d59b7ddaddc2605b3aeaf6
Author: Trevor Bedford <trevor@bedford.io>
Date:   Sun May 26 17:51:00 2019 -0600

    Upgrade webpack-bundle-analyzer to ^3.3.2
    
    There was a security issue prior to this version: https://github.com/webpack-contrib/webpack-bundle-analyzer/issues/263

commit 051da410419c46ec9d6c278a3408ad88bca0080d
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Sat May 18 14:23:58 2019 +0545

    version bump to 1.36.6 for release

commit 4b2223a86d63a0b8d7d91312cdd50bce8d158427
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Sat May 18 14:21:40 2019 +0545

    changelog

commit 73b69b47e3bb4401d2b1013ea245e3cb562f2013
Merge: 2a042d9c 4b03183f
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Sat May 18 14:09:31 2019 +0545

    Merge pull request #723 from nextstrain/no_X_count_AA
    
    Don't Count X for AA Diversity Chart

commit 2a042d9c6aa943c8d1559063f9b1b0cee642183b
Merge: 66279c21 62b63cd0
Author: Trevor Bedford <trevor@bedford.io>
Date:   Thu May 16 14:56:48 2019 -0700

    Merge pull request #725 from nextstrain/fiveMinorTicks
    
    src/components/tree/phyloTree/grid.js:

commit 62b63cd05fe7b6d9ac597169da31ef7ca72c04fa
Author: Trevor Bedford <trevor@bedford.io>
Date:   Thu May 16 14:51:38 2019 -0700

    Linting

commit 932c20dcaf30a40b234c5c87e6e4ff3964f0cc27
Author: Richard Neher <richard.neher@unibas.ch>
Date:   Thu May 16 23:02:08 2019 +0200

    src/components/tree/phyloTree/grid.js: if the major grid is 5 or 10y, use 5 minor ticks instead of 4

commit 4b03183f4404c26d32bd76185793c5c964771606
Author: Emma Hodcroft <emmahodcroft@gmail.com>
Date:   Mon May 13 11:50:40 2019 +0200

    don't count X for AA

commit 66279c21bacf0894eacc072dd24449f1a7e3b0a0
Merge: b011d4f2 68d02529
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Tue Apr 23 13:41:28 2019 +0545

    Merge pull request #716 from nextstrain/update-packages
    
    Update packages

commit b011d4f28dc210e962716349d86b256216e15a86
Merge: 8ce51b41 becd01ab
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Tue Apr 23 13:13:40 2019 +0545

    Merge pull request #715 from nextstrain/docs
    
    Docs

commit 68d025296e7161db89c812ee19f7a4195a6e1c5b
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Wed Apr 17 21:34:00 2019 +0545

    Remove unused `./framework/*js` components & dependencies

commit 74d8203122373bad17c0a5ddfd58b689979c48af
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Wed Apr 17 21:27:27 2019 +0545

    Move testing libraries to devDependencies
    
    Note that our tests are essentially non existent -- definitely an area for us to improve

commit e4e23ca6f7aca22928eced8d496007399121d6ad
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Wed Apr 17 21:18:15 2019 +0545

    update react packages
    
    Updates react to latest version & implements small updates to how the hot reloader is configured.
    Adds linting rules for React Hooks should we decide to use them in future components.

commit c7a1f29fd57484bb5b70e0d6fdf0be8449fba2ea
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Wed Apr 17 21:07:36 2019 +0545

    fix security vulnerabilities identified by `npm audit`
    
    Build & dev mode tested & working.

commit becd01ab1099fcd80d0464a17c86b9ac8160bc93
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Wed Apr 17 20:39:28 2019 +0545

    rebuild docs
    
    No content changes, changes are the result of updating docusaurus. Note that the "date-updated" changes have been discarded from this commit (see e0ab5759a203b566ff57d9ee08afec3bf035da24)

commit 539b755179c0347b8a53f804f77ec5c5b69f1547
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Wed Apr 17 19:41:53 2019 +0545

    move docusaurus dependency to docs-src sub-repo
    
    Added npm scripts to make building the documentation easier (see `docs-src/README.md`)
    Updated docusaurus to 1.8 and tested.
    Note: for the `npm run build` command, on MacOS `cp` cannot be run with the `-avr` flags as previously included in `build-docs.sh`.

commit 8ce51b41a3418cd9830f7b3cb0def077df604ab1
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Wed Apr 17 18:52:59 2019 +0545

    version bump to 1.36.5 for release

commit 6d343d32ab15b00d19a082aa5bca9216a876d9bd
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Wed Apr 17 18:51:56 2019 +0545

    changelog

commit 06fe3a44ae2d90125d5891bfc316412bfba7a056
Merge: 8b83d5a3 d78f40b3
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Wed Apr 17 18:46:09 2019 +0545

    Merge pull request #713 from nextstrain/fix-initial-slider-render
    
    Fix initial slider render

commit d78f40b3bc1fe900bc228af830e2d4a6b80e6b31
Author: Trevor Bedford <trevor@bedford.io>
Date:   Tue Apr 16 07:55:17 2019 -0700

    Linting pass on Slider

commit 765fec9bd04ed3a772e9269bb2539b8658db4b88
Author: Trevor Bedford <trevor@bedford.io>
Date:   Fri Mar 8 17:06:14 2019 -0500

    Fix slider initial render bug
    
    This was caused by the _handleResize method updating internal component state causing a rerender. This rerender wasn't being picked up by React reconciliation properly (I couldn't figure out why). The slider never needs to adjust responsively, and having this responsive adjustment was triggering unnecessary component rerenders during app use. Here, I removed _handleResize and manually set slider width parameters.

commit 8b83d5a33b48925fadaba72446a6dd9deadd91e3
Author: Trevor Bedford <trevor@bedford.io>
Date:   Tue Apr 2 18:15:57 2019 -0700

    Include minimal example auspice JSONs

commit 349de39433ab40e5e21289c2489b2486136f00cc
Author: Trevor Bedford <trevor@bedford.io>
Date:   Sat Mar 16 15:45:17 2019 -0700

    version bump to 1.36.4 for release

commit 63c01614326277000f41428b5fae5d49176c49b0
Author: Trevor Bedford <trevor@bedford.io>
Date:   Sat Mar 16 15:45:02 2019 -0700

    Changelog

commit cefef4a4aa14447a56c1ddad9a9be06c6544bdb6
Author: Trevor Bedford <trevor@bedford.io>
Date:   Mon Mar 11 12:19:20 2019 -0700

    Recolor deme circle border on update

commit 061b3f4ad43ce1bc3c90eabbab60eaac263d474b
Author: Trevor Bedford <trevor@bedford.io>
Date:   Mon Mar 11 08:14:58 2019 -0700

    version bump to 1.36.3 for release

commit 80d5a0ef25bcfd767b9cf709d7328265c5a61e30
Author: Trevor Bedford <trevor@bedford.io>
Date:   Mon Mar 11 08:14:38 2019 -0700

    Changelog

commit e21bffa177a77aa1d2ce7fcf562dcc7dbab14fb9
Merge: 2bfe1dcd c45803a9
Author: Trevor Bedford <trevor@bedford.io>
Date:   Mon Mar 11 08:08:48 2019 -0700

    Merge pull request #712 from nextstrain/map-improvements
    
    Map improvements including transmission ribbons

commit 2bfe1dcdffb8e68425ad8dc2b7caaa3bae1fb646
Merge: 5502ce45 c2bfcb95
Author: Trevor Bedford <trevor@bedford.io>
Date:   Mon Mar 11 08:06:36 2019 -0700

    Merge pull request #709 from nextstrain/muttype
    
    Check mutation type against tree

commit c45803a91439ed4c315b421721ac1219e26bf98d
Author: Trevor Bedford <trevor@bedford.io>
Date:   Sun Mar 10 19:47:05 2019 -0700

    Minor cleanup and remove commented code

commit 97c842696b5c0b20f8edc9ae61f7acb0ead0f301
Author: Trevor Bedford <trevor@bedford.io>
Date:   Sun Mar 10 17:27:09 2019 -0700

    Add gentle borders to deme circles

commit 5d8119a766aa65aa779fc257521bb1f3f1f5f942
Author: Trevor Bedford <trevor@bedford.io>
Date:   Sat Mar 9 09:38:43 2019 -0800

    Don't show missing lat/long error for tips labeled "unknown"

commit 3655bb275822ace2a0442795a913f31b03b29ccb
Author: Trevor Bedford <trevor@bedford.io>
Date:   Sat Mar 9 09:18:38 2019 -0800

    Improve initial map bounds logic
    
    This improves initial fit of map bounds, mainly by setting "zoomSnap" parameter to 0.5, rather than the 1.0 default.

commit c3f71886110ada612cd2f80e3ba73fad4701dfc1
Author: Trevor Bedford <trevor@bedford.io>
Date:   Sat Mar 9 09:17:30 2019 -0800

    Improve deme sizing
    
    Previously, deme circle area was directly proportional to tip count. This caused bigger datasets to have too large circles and smaller datasets to have too small circles. This commit adds a factor based on total node count to equilibrate. Testing across existing datasets suggests an improvement.

commit 2fa90050487c925fd944c41e9d17ff7be7fec3a5
Author: Trevor Bedford <trevor@bedford.io>
Date:   Fri Mar 8 18:26:28 2019 -0500

    Encode transmission count in map transmission lines
    
    This jitters the height of the Bezier curve of each transmission line based on the the specific count of deme A to deme B. This causes lines to become ribbons with thickness proportional to the number of transmission events.

commit 9195392b4719a0c34720b6cc92c77897b8c78107
Author: Trevor Bedford <trevor@bedford.io>
Date:   Fri Mar 8 17:27:47 2019 -0500

    Linting Bezier code

commit 5502ce459bfd4e80b1eb742e76a6d3decc5abe05
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Tue Mar 5 14:11:54 2019 +0545

    Improve warning message if datasets/narratives unavailable
    
    As requested by @emmahodcroft, this makes the warnings easier to understand
    and only prints the actual error message if the verbose flag is on.

commit f018393217dd4218cc18aaba4acffa60115e5946
Author: Trevor Bedford <trevor@bedford.io>
Date:   Mon Mar 4 15:11:35 2019 -0500

    version bump to 1.36.2 for release

commit 57f6e82c019e882b85b8ba5ca6ca77652d0398e8
Author: Trevor Bedford <trevor@bedford.io>
Date:   Mon Mar 4 15:11:17 2019 -0500

    Changelog

commit 7d7778b68b0fa756a4cefca7e994745ec46cc0d0
Author: Trevor Bedford <trevor@bedford.io>
Date:   Mon Mar 4 14:46:25 2019 -0500

    Include footer for DRC Ebola site.
    
    Additionally, make it so that footers designed for in house builds don't cascade to community sites.

commit 51ccced9618017ae35c3fa5ef62349ef3f477acc
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Wed Feb 27 17:19:53 2019 +0545

    TangleTree URLs are now correct when tree is last part of the URL
    
    See issue #706. Note that this server logic is only currently used for local auspice versions, not nextstrain.org.

commit c2bfcb9555e3ee311377c0607e91d3c687f72e99
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Wed Feb 27 12:06:43 2019 +0545

    Allow genotype colourings for datasets without gene annotations
    
    If no annotations are provided, the default geneLength object is `{}` which shouldn't be validated against. This commit changes decodeColorByGenotype to only validates against objects with keys.

commit f2983377a88a2283e4d8b23c50b6c5275b39c22e
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Wed Feb 27 10:40:27 2019 +0545

    remove <div> inside <p> warning from tree hover info boxes
    
    rendering function names changed to improve clarity

commit 6c8a4beeba2f70c7be82fd4a785d73b6c5e5861b
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Wed Feb 27 10:16:05 2019 +0545

    check mutType (aa/nuc) against mutations in nodes
    
    Previously we assumed that  aa mutations were present and defaulted to this (currently unable to be changed by the URL query). This commit checks the default mutType ("aa") against the nodes, falling back to "nuc" if available, or "null" if neither are present.
    Additionally, we now collect available node attrs across all nodes, not just the root node, which results in an increased and more accurate set of attrs.
    Performance penalty on my laptop: 1-3ms.

commit 13f23b2cd51164cef5d91cb6119cf4b59c562686
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Wed Feb 27 15:04:17 2019 +0545

    version bump to 1.36.1 for release

commit a274fb7d6de516cf28b24f5adc9995c6aab9f488
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Wed Feb 27 15:03:34 2019 +0545

    changelog

commit 07d265dbc8baa5a91b4c87bea15d7939c77a5149
Merge: 0a1c8ce7 61a15a04
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Wed Feb 27 13:33:15 2019 +0545

    Merge multiple npm package-related fixes
    
    * npm:
      auspice build exits with code 2 if webpack has errors
      update npm packages (security updates)
      Specifically import d3-transition

commit 61a15a04e5dc75d208875acb222b65c1c2775341
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Wed Feb 27 13:03:11 2019 +0545

    auspice build exits with code 2 if webpack has errors

commit 0779db53cd8475db2df4a7437ad90ebafd48dc5b
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Wed Feb 27 12:55:40 2019 +0545

    update npm packages (security updates)
    
    Updated via `npm audit fix`

commit d10fcc056bddb3f59e063f4cb6d782a3de982900
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Wed Feb 27 12:25:39 2019 +0545

    Specifically import d3-transition
    
    After code splitting (PR #701) the `transition` prototype was,
    depending on the dataset, not set on `Selection()` objects.
    See https://github.com/d3/d3-selection/issues/185 for some background info.
    This commit closes #708

commit 0a1c8ce75b78846e60c08c995648d6b62b110e7e
Author: Trevor Bedford <trevor@bedford.io>
Date:   Mon Feb 25 14:04:01 2019 -0800

    version bump to 1.36.0 for release

commit be11d408c20f78e53b31da4ad058aaccf9e9d80b
Author: Trevor Bedford <trevor@bedford.io>
Date:   Mon Feb 25 14:03:31 2019 -0800

    changelog

commit 71e9ea279474acb217f66c5d47518946e8fcecf0
Merge: b2958ea4 e14316e7
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Mon Feb 11 10:16:15 2019 +1300

    Merge pull request #701 from nextstrain/code-splitting
    
    Improve app load times using code splitting

commit b2958ea4c603c15f6119ad6ce04c1d0c0d27b664
Author: Trevor Bedford <trevor@bedford.io>
Date:   Fri Feb 8 18:11:11 2019 -0800

    version bump to 1.35.5 for release

commit 3d0591472139f101cf939ea3cee390a62e648cf3
Author: Trevor Bedford <trevor@bedford.io>
Date:   Fri Feb 8 18:10:55 2019 -0800

    changelog

commit 6aa16b3bef76b4abc01f59a31621c7886eaf7c07
Merge: 2e565b1e 0d79ed49
Author: Trevor Bedford <trevor@bedford.io>
Date:   Fri Feb 8 17:42:46 2019 -0800

    Merge pull request #703 from nextstrain/keep-url-on-404
    
    404 page preserves URL

commit 2e565b1e18d07aa1cc9f06d04b69f814ea2be2f3
Author: Louise H Moncla <lhmoncla@gmail.com>
Date:   Fri Feb 8 17:24:30 2019 -0800

    adding U of Arkansas to acknowledgments

commit 0d79ed493e645423ff226f1eb3446f79fd78ac26
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Mon Feb 4 15:52:29 2019 +1300

    404 page preserves URL

commit e14316e7cb9ade6d3c6b06f6f7e1c97946a4a4bc
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Mon Feb 4 12:48:17 2019 +1300

    lazily load entropy & frequency panel
    
    Lazily loading these components means they won't be fetched & displayed until after the main page has rendered. This allows the tree & map to appear faster than previously (smaller bundle to fetch & less JS to parse and render).

commit 1ba5563830bb0181f9ee778483cda533c21f570f
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Sun Feb 3 08:27:22 2019 +1300

    allow bundle analysis at build stage
    
    Useful for understanding bundle contents and making decisions on where to code split / lazy load.

commit e0b3e11767815198a87afc4217106fae2f59696b
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Thu Jan 31 19:58:02 2019 +1300

    Implmement code splitting using lazy loading
    
    We now have basic code-splitting in place for a handful of components.
    This means that (e.g.) the code for the main interactive page is not fetched
    for display of the splash page. This reduces (initial) bundle sizes and should
    make for quicker load time.

commit aba8287a1afaa53d781bde5956d94bca3f5be387
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Thu Jan 31 09:27:11 2019 +1300

    update readme badges

commit 9b9d430cee96f93c3689ad674cca1612cadad62b
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Mon Jan 28 13:04:17 2019 +1300

    version bump to 1.35.4 for release

commit 4a897d2706d96f19402ab5977fcca71d55780311
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Mon Jan 28 12:51:53 2019 +1300

    Restore download modal functionality. Closes #699
    
    As of auspice v1.35 the download modal was broken. This restores the previous functionality, and implements an Error Boundary to prevent app crashes in the future should there be an error here.

commit 208c1956dd4c51c03b76df44c3733213740f5fbe
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Fri Jan 25 10:50:33 2019 +1300

    version bump to 1.35.3 for release

commit 8e31358ea0ae0252d658a45d1fe215bdec5f9f59
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Fri Jan 25 10:49:39 2019 +1300

    changelog

commit 189068a74f58dd0e011a85df95cdf5a8cc460e1d
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Thu Jan 24 14:25:49 2019 +1300

    Update WNV footer text

commit c99e93905a0813299b116706d5603c95b5240681
Merge: 7ede2d1a 46a75e63
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Thu Jan 24 14:12:31 2019 +1300

    Merge pull request #694 from nextstrain/port-in-use
    
    show helpful error message if port is already in use

commit 7ede2d1a28057636b7788b06421c7d57d68eefbe
Merge: 3243edf5 e8c121a9
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Thu Jan 24 14:12:17 2019 +1300

    Merge pull request #695 from nextstrain/query-corruption-on-dataset-switch
    
    Fix URL query corruption when changing datasets

commit e8c121a92c6aa4a6ff4d1a7d68d71fbd8aa61c5d
Author: Thomas Sibley <tsibley@fredhutch.org>
Date:   Wed Jan 23 14:17:20 2019 -0800

    Fix URL query corruption when changing datasets
    
    As described in #691, the query part of the URL was corrupted when
    switching between datasets, e.g. coloring an HA tree by antigenic
    advance and switching the segment to NA.
    
    I bisected the bug to "Load datasets from a separate component"
    (e026df9) and traced the problem to the query part being passed to the
    PAGE_CHANGE action action as a string instead of a parsed object.
    Notably, the bug existed in the previous version of the code as well,
    but was harder to trigger.  Refactoring in the commit above made the bug
    much easier to trigger and much more noticeable.
    
    Resolves #691.

commit 46a75e635dbae4328b70f6153bb1e4d4a3cb045e
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Thu Jan 24 09:24:23 2019 +1300

    show helpful error message if port is already in use
    
    Closes #693

commit 3243edf5acbe27c51fb118bac9c3be147d49cd97
Merge: 0d6a53bb d169f43e
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Wed Jan 23 13:04:47 2019 +1300

    Merge pull request #692 from nextstrain/npm-run-backwards-compat
    
    Add back `npm run {server,dev}` for the benefit of folks upgrading

commit d169f43e94e574f1f48f1732bb5526f0c7fd1b12
Author: Thomas Sibley <tsibley@fredhutch.org>
Date:   Tue Jan 22 14:12:03 2019 -0800

    Add back `npm run {server,dev}` for the benefit of folks upgrading
    
    These were the primary ways to run Auspice previously, and it's nice to
    make them keep working even with the introduction of the new Auspice
    CLI.  People upgrading will be less surprised.

commit 0d6a53bb25cf3cde30bc661d0c9d55742812626f
Merge: 5cf9ae98 e0ab5759
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Fri Jan 18 12:23:28 2019 +1300

    Merge pull request #690 from nextstrain/broken-links-in-docs
    
    Broken links in docs

commit e0ab5759a203b566ff57d9ee08afec3bf035da24
Author: Thomas Sibley <tsibley@fredhutch.org>
Date:   Thu Jan 17 13:03:09 2019 -0800

    Regenerate docs after link fixes
    
    The footer was affected, hence all the pages were updated.
    
    As best I can tell without digging into the Docusaurus code, the
    shifting of last updated dates in each footer seems to be because
    Docusaurus uses the local timezone of whatever system it is running on
    instead of a fixed timezone.  Thus builds made by James in NZ will be a
    day ahead of builds done by those of us in Seattle.  Oy vey!  There's no
    clear timezone configuration to set in siteConfig.js.

commit 7321e4e96f95b06afef3a92ccae66e433af03e78
Author: Thomas Sibley <tsibley@fredhutch.org>
Date:   Thu Jan 17 12:59:56 2019 -0800

    Add `npm run build-docs` convenience command

commit 9c2018cb4df0eb0e2bf862a558b5e32d68e597d4
Author: Thomas Sibley <tsibley@fredhutch.org>
Date:   Thu Jan 17 12:50:31 2019 -0800

    Fix several broken links on the doc website

commit 5cf9ae98a1df22747bf9e426885c2e5945e7d555
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Wed Jan 16 13:02:40 2019 +1300

    version bump to 1.35.2 for release

commit 4f9fca20dcf74f01926b89d72aaf556b95e6101e
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Wed Jan 16 12:55:20 2019 +1300

    remove ./src from npmignore
    
    The src files are now needed for auspice to work, as "auspice build" depends on them. Tested using "npm pack"

commit 5ea3cc22b9effee58183796dae0564e55859eaf8
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Wed Jan 16 12:41:40 2019 +1300

    version bump to 1.35.1 for release

commit 1a4282b4bd064b6d0f0f5170ec432ea45420f013
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Wed Jan 16 12:34:50 2019 +1300

    add dev dependencies to dependencies
    
    Most of the devDependencies are now needed to use auspice as a tool. Without this change, "npm install auspice" doesn't pull in the dependencies needed to run "auspice build" etc

commit 1586c0bcb98596f5a728ca78851ce7ff6b52170a
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Wed Jan 16 12:19:06 2019 +1300

    version bump to 1.35.0 for release

commit 7aea177595656d7009c9849a89e47ab8821a7630
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Wed Jan 16 12:13:58 2019 +1300

    changelog

commit 8790e3d27b2513b60adb7e482256e7b5d52b0c9a
Merge: 13c84c36 492dee4a
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Wed Jan 16 12:05:23 2019 +1300

    Merge branch 'extend'
    
    * extend: (27 commits)
      correct whitespace errors
      add logo & narratives title to nav bar
      reinstate full server narratives functionality
      reinstate full server dataset functionality
      commit built docs for github pages
      updated logo
      remove log statements
      Restore status page functionality
      Update release instructions, docs
      update docs content
      move docs content & static site to docs-src directory
      documentation splash page, logo, footer etc
      Add documentation content
      replace server.js with auspice.js (CLI interface)
      extensions can modify page (browser) title by specifying the `browserTitle` property in the provided extension JSON
      Client obtains available datasets via an explicit fetch
      remove source from getAvailable server request
      sidebar components get styles from provided theme
      allow extensions to define the navigation bar
      implement styled components (CSS-in-JS)
      ...

commit 492dee4a89cd3d63f88b33205331af3ef065452e
Merge: c8f94cc6 13c84c36
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Wed Jan 16 11:59:31 2019 +1300

    Merge branch 'master' into extend
    
    * master: (28 commits)
      version bump to 1.34.4 for release
      adding in thank you to U of Arkansas
      fix spelling typo in README
      version bump to 1.34.3 for release
      Revise prettyString function to not lowercase further characters
      Don't display deme circle if lat/long is absent
      version bump to 1.34.2 for release
      adding Stapleton to mumps thank you list
      version bump to 1.34.1 for release
      changelog
      second tree option available by segment number
      version bump to 1.34.0 for release
      changelog
      Swap rawgit CDN to githubusercontent CDN
      version bump to 1.33.0 for release
      changelog
      actions/colors: Dispatch mutType change before colorBy change
      Enable source maps for debugging production builds
      Rename determineColorByGenotypeType to determineColorByGenotypeMutType
      Refactor the magic annotation key "nuc" into a global constant
      ...

commit c8f94cc67e8190f56c9a25ab438f2b6977530e66
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Wed Jan 16 11:39:03 2019 +1300

    correct whitespace errors
    
    These were introduced during rebasing while working on the extend branch due to misconfigured (global) gitconfig (it would replace 8 spaces with a tab character)

commit c36ca60ccb9856aaccd300bcd4f4433d2fd3c6cd
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Wed Jan 16 11:34:01 2019 +1300

    add logo & narratives title to nav bar

commit 077cb5693117630da26b2a058f6aa4f3d0b31e98
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Wed Jan 16 11:17:04 2019 +1300

    reinstate full server narratives functionality

commit 9a3cde0fab0316edef566fd28dad8d5346195745
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Wed Jan 16 10:59:21 2019 +1300

    reinstate full server dataset functionality
    
    During development of the "extend" branch the second tree & tip-frequency fetching had been removed from the server. Full functionality is now restored. (Note that this code is completely separate from that in the nextstrain.org server. We could one day expose this and import it in the nextstrain.org repo.)

commit 13c84c36b786a42b9fc3dd626202ce8dcf6cf904
Author: Trevor Bedford <trevor@bedford.io>
Date:   Tue Jan 15 11:35:39 2019 -0800

    version bump to 1.34.4 for release

commit 1bdabec4563098056dd3e0313d3328fb98092992
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Fri Jan 4 20:31:57 2019 +1300

    commit built docs for github pages

commit e70b22f842d65c5e06ade1ecda8ebb9d3f5b2f64
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Fri Jan 4 20:00:25 2019 +1300

    updated logo
    
    Update the auspice logo, include it in the docs footer & app splash page. Favicons for docs & app.

commit 5d9e1c8510c61b341f6a61782d1ceda6e8f7f351
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Wed Jan 2 16:42:10 2019 +1300

    remove log statements
    
    Logging was used throughout development of the "extend" branch.

commit 91438ddcf15763b70ae2171f487ad35bfd8072d7
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Wed Jan 2 16:27:05 2019 +1300

    Restore status page functionality
    
    The nextstrain-specific features (travis badges, nextstrain logo) have been removed. These could be added back in the future via an extension.

commit f6a576db40183193bf690b1f44261a999c37877d
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Wed Jan 2 15:09:03 2019 +1300

    Update release instructions, docs
    
    Releasing auspice to npm no longer uploads the src to a s3 bucket nor triggers nextstrain.org to rebuild (this must be done from within the nextstrain.org repo).
    When not extended, auspice is focused on local builds therefore is not to be run on Heroku.

commit aa3bc099dece1ad9de472a3755dabbdbb36f0835
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Mon Dec 31 12:03:57 2018 +1300

    update docs content
    
    Content is now ready for release, with notices on most pages explaining the experimental nature of the current implementation.

commit 896f710a09d9ea17b626ac73fcbab858308dd53a
Author: Louise H Moncla <lhmoncla@gmail.com>
Date:   Tue Jan 15 10:39:08 2019 -0800

    adding in thank you to U of Arkansas

commit b3ed1e6d01d022029fa3c507e6b15da0dbdd16e7
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Sun Dec 30 20:17:12 2018 +1300

    move docs content & static site to docs-src directory
    
    Github pages sourced from docs/ results in many (docusaurus-generated) files needing to live in that directory. It is confusing to have both these files as well as the docs/ and website/ folders live in the same place. docs/ and docs-src/ separates these concerns.

commit 8cd8b509be3542dea716152d8c7d2738a36d3256
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Sat Dec 29 22:00:46 2018 +1300

    documentation splash page, logo, footer etc
    
    see docs/README.md for build instructions etc
    Everything needs tweaking, but this looks alright and provides the base for subsequent commits.

commit 60d4d0f50933f9f0bf8d43b471afbffb9c24428d
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Wed Nov 21 13:09:46 2018 -0800

    Add documentation content

commit dd74b30784f95ec01cb4f122c3a05dbe306d85d4
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Thu Nov 15 14:32:56 2018 -0800

    replace server.js with auspice.js (CLI interface)
    
    Accessing auspice is now via "node auspice.js" or
    "auspice" if installed globally.
    Subcommands are "auspice view", "auspice build" and
    "auspice develop", each with their own help pages.
    Code for these commands is found in "cli/" with "src/"
    being used for the client source code.

commit 880b2d865200ce39c0915f0f010077b14310783d
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Tue Nov 13 20:18:39 2018 -0800

    extensions can modify page (browser) title
    by specifying the `browserTitle` property in the provided extension JSON

commit 0037d7ade9b48ff454dd5a044ac9a025b9eeb600
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Tue Nov 13 20:03:19 2018 -0800

    Client obtains available datasets via an explicit fetch
    
    Previously the available datasets were included from the server
    in the response to a "get dataset" request.
    This forced the server-provided dataset JSON to deviate from the
    published JSON spec.
    As auspice becomes used in different websites it's important that the
    JSON delivered to the client mirrors that delivered to the server.

commit 4422ea188e8ad1282ef3d48772ff0595efe54b85
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Mon Nov 12 16:22:34 2018 -0800

    remove source from getAvailable server request

commit 86ef2f3d4f326707ecf514750a5d4757bc7883f3
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Fri Nov 9 12:56:38 2018 -0800

    sidebar components get styles from provided theme
    
    Extensions can define a theme which is passed to sidebar
    components as a "theme" prop available using "styled components".
    This allows extensions modify the appearence of the sidebar.

commit e397ab7146cece6a5bba575f448778950b3ceefc
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Fri Nov 9 12:15:56 2018 -0800

    allow extensions to define the navigation bar
    
    The nextstrain navbar has been removed and is now
    part of the nextstrain repository.

commit 239f54ad9b7a0da74639cb8ae438ab8082af2ec6
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Thu Nov 8 21:34:19 2018 -0800

    implement styled components (CSS-in-JS)
    
    Begin using styled components in auspice to define CSS-in-JS
    and to utilise a theme which is inherited by multiple components.
    Future commits will allow this theme to be provided via the
    extension architecture.
    
    Styled components was chosen because it is popular, well supported
    and uses pure CSS (rather than a similar-but-different syntax).
    
    Future commits will gradually remove our usage of global defined
    styles and seperate CSS files and move towards consistent use
    of styled components with themes.
    
    in the sidebar to define styles and
    supply them

commit 0ee33c6ec32e1734fbb96d0a6aa0fe1406a6d37d
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Tue Nov 6 22:56:35 2018 -0800

    auspice only displays local files
    
    Part of a move to a future where
    auspice.us handles community datasets & narratives,
    nextstrain.org handles S3 datasets
    
    Github pages builds are currently not working as
    (e.g.) `/dist/bundle.js` should be `dist/bundle.js`
    But this change would break server builds.

commit dfda044df8ea8debbcd27bf2f17fa1867a6899bd
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Mon Nov 5 16:01:32 2018 -0800

    update server API
    
    The server code has been slightly re-organised
    and (hopefully) simplified.
    The "getAvailable" request now returns
    both the avilable datasets and narratives.
    The webpack configs have also been updated such
    that "npm run build" works again.

commit 713d24540dc97945a27e760270f6d92305cbb24b
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Mon Nov 5 09:57:01 2018 -0800

    Allow hardcoded (i.e. serverless) data fetching
    
    Harcoded paths can be provided by the extension JSON
    file. This API is experimental and is expected to change
    in future commits / PRs.

commit e026df95c8446ec3eb0e7b39ea412d995ba11aa4
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Sun Nov 4 08:35:06 2018 -0800

    Load datasets from a seperate component
    
    This decouples the main app display from dataset loading.
    This is needed for extensions which want to have control
    over dataset loading (e.g. drag-and-drop).

commit d859a6da22acc6f6eb20875425ce62014c9da011
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Fri Nov 2 16:54:21 2018 -0700

    Upgrade Babel
    
    Babel upgraded to version 7.
    This allows us to use babel.config.js to have more
    control over the transpiling behavior.
    This allows extension JS files living outside of the
    auspice directory to be processed by babel.
    
    There is still a bug related to react-hot-loader
    when using JS files outside of the auspice dir.

commit c73f590d8ebdba1f00bf473c65bb510f6a14eb15
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Fri Nov 2 15:19:39 2018 -0700

    Allow extensions to replace splash page
    
    The splash page can now be replaced by
    providing a compatable react component.

commit 27ef50dbce19ab2c5345ed4bbae26b8d3cfc1409
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Fri Nov 2 12:05:30 2018 -0700

    Implement machinery for allowing extensions
    
    This commit (and the PR to which it belongs)
    moves auspice from a component of nextstrain
    to a stand alone tool which can be extended
    (e.g. with aesthetic or functional changes).
    The auspice seen on nextstrain.org will
    eventually be one such extension.

commit 2b58ad3aaaf11b97c67d53ba9f44082c26cfdc32
Author: Christopher Small <metasoarous@gmail.com>
Date:   Fri Dec 21 15:33:40 2018 -0800

    fix spelling typo in README

commit d0e3f8f173228f03663ecc8ffe65341ceb273b8e
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Tue Dec 18 03:51:15 2018 -0800

    version bump to 1.34.3 for release

commit 5a6d15bdf8c2148c500ee343418ffd3fd5c985b9
Merge: 6bc9025d 2f384727
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Tue Dec 18 03:48:37 2018 -0800

    Merge pull request #685 from nextstrain/pretty-string
    
    Revise prettyString function to not lowercase further characters

commit 2f3847278193c2114f98d54311144635e46bf6f8
Author: Trevor Bedford <trevor@bedford.io>
Date:   Sat Dec 15 16:23:54 2018 -0800

    Revise prettyString function to not lowercase further characters
    
    The function prettyString takes snake_case and converts to Title Case. This keeps basic functionality in place, but now doesn't lowercase following characters. This makes it so that the input "3c3.A" remains "3c3.A". This improves display of flu clade names.

commit 6bc9025d0d15b725f78e1ae9cbb48e0031eba22d
Author: Trevor Bedford <trevor@bedford.io>
Date:   Thu Dec 6 15:30:52 2018 -0800

    Don't display deme circle if lat/long is absent
    
    Previously demes with lat/longs not specified got assigned lat,long = 0,0 and we had a funny deme circle of the Atlantic coast of Africa. This is a simple fix where demes lacking lat/long information just don't show up on the map.

commit 3beb908494f91ced15661a97083695ee56eddabd
Author: Trevor Bedford <trevor@bedford.io>
Date:   Wed Dec 5 17:42:50 2018 -0800

    version bump to 1.34.2 for release

commit 94e2cb0d02b4461f0124ecd65364131b4c94bbb5
Author: Louise H Moncla <lhmoncla@gmail.com>
Date:   Wed Dec 5 17:31:41 2018 -0800

    adding Stapleton to mumps thank you list

commit b966db5542db1622dafaab54d33d61f530c81d44
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Thu Nov 29 15:53:26 2018 -0800

    version bump to 1.34.1 for release

commit 6735a569ed90684a02f5dc7ecec8bd0330704783
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Thu Nov 29 15:52:41 2018 -0800

    changelog

commit f89fb86a72b826a5d0b7bd431e8f6dbb4b91ec4b
Author: neavemj <matthewjneave1@gmail.com>
Date:   Fri Nov 30 09:59:16 2018 +1100

    second tree option available by segment number

commit 7bd2d6514c5d6f108f5cc316306551014a5502f6
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Mon Nov 19 18:08:09 2018 -0800

    version bump to 1.34.0 for release

commit 7c4a30cee5212b20f5f311f898e5fdc8a05bce6a
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Mon Nov 19 18:07:47 2018 -0800

    changelog

commit e7ce1656c5cefa33ac87f041e6c4c92cc3fa1076
Merge: 61def6eb ea14694b
Author: Trevor Bedford <trevor@bedford.io>
Date:   Mon Nov 19 12:19:39 2018 -0800

    Merge pull request #682 from nextstrain/community-cdn
    
    Swap rawgit CDN to githubusercontent CDN

commit ea14694b83eb46a65ec8fe089040dc77adce0f77
Author: Trevor Bedford <trevor@bedford.io>
Date:   Mon Nov 19 12:08:27 2018 -0800

    Swap rawgit CDN to githubusercontent CDN
    
    Currently, "community" builds from nextstrain.org/community are being sourced from rawgit. However, rawgit is shutting down.
    
    This moves the CDN source to githubusercontent, which is the official source for "raw" files from GitHub.

commit 61def6ebc36d45160057dc9095ebfe652fb347d1
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Sun Nov 18 19:28:53 2018 -0800

    version bump to 1.33.0 for release

commit 1b650beb94e510e7d2491836a502f94eefda3b23
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Sun Nov 18 19:27:44 2018 -0800

    changelog

commit 4856a1f249a932c0623d2b1d9f2f13b31e1dc0c8
Merge: 82f7d5ea 1c7b7785
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Sun Nov 18 19:25:00 2018 -0800

    Merge pull request #681 from nextstrain/color-by-genotype
    
    Color by genotype refactoring + gene names with hyphens/underscores

commit 1c7b77858ae5f7a2a7888afd235e23bc89312c2c
Author: Thomas Sibley <tsibley@fredhutch.org>
Date:   Wed Nov 14 10:22:17 2018 -0800

    actions/colors: Dispatch mutType change before colorBy change
    
    …instead of bundling the former with the latter.
    
    Changing the mutType must happen _before_ updating colors because the
    entropy bars need to be recomputed for the new mutType before applying
    the new genotype colorBy.  Otherwise, the entropy component tries to
    apply the new genotype colorBy to bars of the wrong mutType, which in
    turn causes all sorts of errors ("entropy out of sync" and selected
    positions not matching the data bars).
    
    The state dependencies are a bit tangled here, but de-tangling them is a
    larger project for another time.

commit 294073bceed4373b23087abaa0abbb664d632128
Author: Thomas Sibley <tsibley@fredhutch.org>
Date:   Wed Nov 7 12:54:10 2018 -0800

    Enable source maps for debugging production builds
    
    Though the development webpack config includes source maps, they were
    disabled in production. When debugging a live build (or a local build
    where you don't want hot reloading), it's very useful to have a source
    map for the browser to translate between the packed dist/bundle.js and
    the original code.
    
    This matches the recommendations of webpack's documentation:
    
        https://webpack.js.org/guides/production/#source-mapping

commit c71473d5911b2fbd0f49af69908804b0bf1dca2f
Author: Thomas Sibley <tsibley@fredhutch.org>
Date:   Thu Oct 25 16:17:01 2018 -0700

    Rename determineColorByGenotypeType to determineColorByGenotypeMutType
    
    …to make it clear it returns a "mutType".
    
    The mutType is closely related to but different from the genotype gene
    name.  Embedding mut type into the function name makes it clear what's
    returned and easier to find with other mut type code when grepping.

commit 1f19271bc660646ec7429eda79cf74f751d4b5bf
Author: Thomas Sibley <tsibley@fredhutch.org>
Date:   Thu Oct 25 16:08:46 2018 -0700

    Refactor the magic annotation key "nuc" into a global constant
    
    It's good practice to avoid hardcoding such magic values into a myriad
    of places and makes maintenance easier.  The name also lends more
    context to its usage.
    
    Using a global constant also means there is only a single place to
    change the value, at least in auspice, if we need to.  It's not unlikely
    we'll need to change it, because there are plenty of legitimate genes
    named "nuc", e.g. <https://www.ncbi.nlm.nih.gov/gene/?term=nuc>.
    
    Note that this doesn't refactor _all_ references to the string "nuc", as
    the same value is also used for a different concept, the "mutation type"
    or "mutType", which is valued "nuc" or "aa" (or sometimes false).  It's
    important that magic value constants aren't used merely for their value
    alone, but for the conceptual thing they represent so as not to conflate
    changes in the future.

commit 1b46f723f9c439d4b480ef6f6e8a83cec3e96ffd
Author: Thomas Sibley <tsibley@fredhutch.org>
Date:   Mon Oct 29 13:38:34 2018 -0700

    controls/color-by: Debounce position updates so that typing is smooth
    
    This avoids triggering a new state on every keypress in a short
    sequence, which is not only slow but inconsistent with expectations that
    intermediate colorations are shown while, for example, backspacing a
    position input to delete it.
    
    400ms seemed about right in my testing (300ms was too quick for most
    typists, 500ms seemed sluggish), but that value may want to be adjusted.

commit ec6b0097f591ce804424b9b1f215c9a5be8a52de
Author: Thomas Sibley <tsibley@fredhutch.org>
Date:   Mon Oct 29 13:37:58 2018 -0700

    controls/color-by: Refactor state management
    
    External state in redux now has one entrypoint
    (componentWillReceiveProps) and one exitpoint (componentDidUpdate).
    
    This consolidates calls to redux's dispatch() and ties it to changes in
    local component state, simplifying the logic of the color by, gene, and
    position input handlers.  setColorBy() and setGenotypeColoring() are now
    one function (componentDidUpdate()) instead of two interacting
    functions.

commit 3b6d6bb11516a5a98ce08de3e9fcb4e8df1ca380
Author: Thomas Sibley <tsibley@fredhutch.org>
Date:   Mon Oct 29 13:19:09 2018 -0700

    controls/color-by: Reset and replace state entirely when switching color by field
    
    It is easier to reason about and keep track of whole state replacement
    than the combined effects of individual field updates.
    
    This is especially true for logically linked state like geneSelected and
    positionSelected, which easily becomes out of sync with colorByGenotype.
    For example, geneSelected and positionSelected were not reset when
    switching from a genotype coloring to any other color by field.  A few
    individual field updates remain where it doesn't make any more sense to
    think about them in terms of replacement.

commit 411487ce8256b9711dac1b8987eaebc5e1acdcea
Author: Thomas Sibley <tsibley@fredhutch.org>
Date:   Mon Oct 29 13:26:52 2018 -0700

    controls/color-by: Use decodePositions() instead of split/parseInt directly
    
    This helps maintain consistency in the handling across different
    components.

commit 01732907640d0e8ae6d960339e621e854e9d654e
Author: Thomas Sibley <tsibley@fredhutch.org>
Date:   Mon Oct 29 13:02:05 2018 -0700

    controls/color-by: Use placeholders instead of a default gene/position
    
    Default gene (HA1 or nucleotide) and position (1) selections are
    replaced by informative placeholders and nothing changes until a full
    selection is made.
    
    If an invalid position is entered, the app remains at the last good
    state instead of resetting back to a default state.  This allows a
    correction of the position entered instead of requiring a re-entering.
    
    The previous placeholders rarely or never triggered because default
    values were set.

commit b9593016c3b365dea4c3d41e8b4fc82df57b2908
Author: Thomas Sibley <tsibley@fredhutch.org>
Date:   Wed Oct 24 10:41:08 2018 -0700

    controls/color-by: Remove conditional in gtPositionInput() render function
    
    Leaves it up to the top-level render(), where the same conditional
    exists, to decide when genotype controls should be shown.  The nested
    conditional is unnecessary, and gtPositionInput() now matches the
    gtGeneSelect() render function's behaviour in this regard.
    
    Diff best viewed with whitespace ignored.

commit 1ca73159f9056d1a368ac5238f0492b2ab1a8522
Author: Thomas Sibley <tsibley@fredhutch.org>
Date:   Wed Oct 17 11:07:08 2018 -0700

    Refactor color by genotype state parsing
    
    Consolidates test/encoding/decoding logic into three main functions
    which are used throughout the codebase instead of hardcoded assumptions
    about the serialization format ("gt-<gene>_<pos>") in many locations.
    This resolves existing and prevents future divergence in the serialized
    format, while allowing it to change in the future with minimal or no
    change outside of getGenotype.js.
    
    Multiple positions are supported, but multiple genes are not at this
    time.  I've left that for future work since there is not a UI for
    multiple genes.  This refactoring will make it easier if we do.
    Terminology (prot vs. gene) was normalized for consistency when trivial.
    
    As a result of improved parsing, gene names with embedded underscores
    and hyphens are now supported.  Resolves #669.

commit 15fd20cedb38b3780f93e3fd2e22681ee97264b6
Author: Thomas Sibley <tsibley@fredhutch.org>
Date:   Fri Oct 26 10:06:32 2018 -0700

    controls/color-by: Validate genotype positions against (0, gene length]
    
    …instead of (0, length).  In the UI, positions are one-origin along the
    gene length, so the last position should be included.

commit 82f7d5ea7f7a6f41c081b0d3531a13893e6c3058
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Fri Nov 2 09:42:05 2018 -0700

    version bump to 1.32.0 for release

commit 62f98ca2ac5c1971684229004d6704c6e15235be
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Fri Nov 2 09:41:10 2018 -0700

    changelog

commit 7c6f174067ecc5f11581bdd7d94353dfdab46df8
Merge: 90625ed2 8cef53ad
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Fri Nov 2 09:22:04 2018 -0700

    Merge pull request #679 from nextstrain/update
    
    Update dependencies

commit 8cef53ad5a9f5c3960cf209cbfe145f916ae5dd8
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Thu Nov 1 16:25:56 2018 -0700

    update specified node & npm versions
    
    Closes #625
    Tested on heroku

commit 93c2b9ad7b60511d65afab51e416ebf29f700122
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Thu Nov 1 13:57:08 2018 -0700

    Update react / redux deps
    
    * removes previous tapable deprecation warning

commit 90625ed2a99c048a86f80d1146c7b86cb6e0bb03
Merge: a0c4ee80 af1c5e9b
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Thu Nov 1 13:38:27 2018 -0700

    Merge pull request #678 from nextstrain/package-metadata
    
    Package metadata fixes

commit a0c4ee8025c93710b2d7d5e451e964280bf8dde5
Merge: 9ac42448 52f2aa40
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Thu Nov 1 13:38:19 2018 -0700

    Merge pull request #676 from nextstrain/hidden
    
    Allow tree nodes to be hidden

commit 9ac42448fa6dc25839042ab78d6e0867df796574
Merge: a00aafa2 afcfc89b
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Thu Nov 1 12:56:13 2018 -0700

    Merge pull request #677 from nextstrain/updates
    
    Fix hot reloading.

commit af1c5e9b9f01cc151a5dd6436e1ecbcf6b36d2da
Author: Thomas Sibley <tsibley@fredhutch.org>
Date:   Thu Nov 1 12:06:38 2018 -0700

    package.json: Use a fully-qualified URL for the homepage

commit 7cd4ca8efeb15e04bf217505545e243660ff22e6
Author: Thomas Sibley <tsibley@fredhutch.org>
Date:   Thu Nov 1 12:08:31 2018 -0700

    package.json: Add a repository field
    
    Silences a warning from npm about this missing field.

commit ece2f6785c6bb2c55726274cbfca7ac8c90ca485
Author: Thomas Sibley <tsibley@fredhutch.org>
Date:   Thu Nov 1 12:04:52 2018 -0700

    package.json: Use a recognized SPDX license identifier
    
    LICENSE.txt is AGPL version 3.0, the identifier for which is listed in
    the table at <https://spdx.org/licenses/>.
    
    Silences a warning from npm about an invalid license identifier.

commit 52f2aa40e29b16d309a7f7115cbddae29fa7b140
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Thu Nov 1 11:45:00 2018 -0700

    use named properties
    
    * property not set or any string that's not below -- always shown
    * `"always"` -- always hidden
    * `"timetree"` -- hidden for time trees only
    * `"divtree"` -- hidden for div trees only

commit afcfc89b7658b802ee99e8761f8295c030703464
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Thu Nov 1 11:26:36 2018 -0700

    Fix hot reloading. Upgrade webpack. Closes #496
    
    Requires running `npm install` as dependencies have changed

commit a00aafa2a2a7cad33bb4c95aa93dd03b8c27abed
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Mon Oct 29 18:13:10 2018 -0700

    version bump to 1.31.0 for release

commit 438366410eda3abb280f05e4006a35afa9bc580c
Merge: 90cfb4c3 a7c18f77
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Mon Oct 29 17:09:44 2018 -0700

    Merge pull request #673 from nextstrain/beast
    
    minor tree json fixes

commit bd1927675ec9eae715cc1ebd7bb709c709df8df8
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Mon Oct 29 16:32:38 2018 -0700

    "hidden" property on tree nodes decides whether that node is rendered

commit 90cfb4c3cd198fd757e5535cbcdcc4c973c3f1ae
Merge: 1872f4bb 90493ad7
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Fri Oct 26 14:51:38 2018 -0700

    Merge pull request #670 from nextstrain/no_date
    
    Handle trees with only date or only divergence information

commit 1872f4bb5390b9f020898e5cd693725f1365c0e6
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Fri Oct 26 10:05:24 2018 -0700

    colorBys with no type are caught
    
    Previously this crashed auspice. Now we catch this and  generate a fallback all-grey color scheme.

commit 90493ad75233da4e08cf56dd4f02dc609467c253
Author: Emma Hodcroft <emmahodcroft@gmail.com>
Date:   Mon Oct 1 11:54:29 2018 +0200

    Should work with treeToo now

commit cf0f12ecfa081a4019ebef152a3d658b63ae4ca6
Author: Emma Hodcroft <emmahodcroft@gmail.com>
Date:   Mon Oct 1 11:20:26 2018 +0200

    remove branch length, stop URL 'm' if not possible

commit 3f34d0e90eaa314d29b0cee9b02c3ff8304fcb43
Author: Emma Hodcroft <emmahodcroft@gmail.com>
Date:   Thu Sep 27 17:24:44 2018 +0200

    handle trees with only date, no div

commit 88ba59a5ce5347cacaa884a1cb5edcffc80612d8
Author: Emma Hodcroft <emmahodcroft@gmail.com>
Date:   Thu Sep 27 16:36:25 2018 +0200

    change from displayDates to branchLengthsToDisplay

commit a7c18f77671b7afba7e8edcd95ce718e9f196fc4
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Thu Sep 27 11:04:13 2018 +0100

    Allow nodes with confidences but no entropy value
    
    Previously auspice assumed the presence of the entropy value if the confidences were present.

commit 2e9586fe4c701da45a902960fbd4c705ab4c5cd6
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Thu Sep 27 11:03:22 2018 +0100

    Allow nodes with missing confidence values
    
    Fixes a bug when some branches were missing num_date_confidences (but it was present at the root), which resulted in a crash on branch hover.

commit 25013af1f366b89f80d58ea21db798a674331edc
Author: Trevor Bedford <trevor@bedford.io>
Date:   Wed Sep 26 09:05:09 2018 -0400

    Properly round values in frequencies tooltip
    
    These had effectively been floored, resulting in the sum of a given slice typically totaling 96% for flu H3N2.

commit 4516800d8ae8a0f25b95ac4d04bb6fb53ad5c54a
Author: Emma Hodcroft <emmahodcroft@gmail.com>
Date:   Wed Sep 26 12:50:44 2018 +0200

    remove date info text if displayDates=F

commit bd814de1e5b175bf0eeb2cf3eb7f6c4d99532af7
Author: Emma Hodcroft <emmahodcroft@gmail.com>
Date:   Wed Sep 26 12:39:21 2018 +0200

    remove clock layout if displayDates=F

commit 5b5c63b86f31bc183dc60941b22141e406034b8d
Author: Emma Hodcroft <emmahodcroft@gmail.com>
Date:   Mon Sep 24 15:52:14 2018 +0200

    only show divergence options if no num_date

commit 6cc95f89f28cb9b13ba4659672761ddf170af5d3
Merge: a2d5f170 ced0190f
Author: Thomas Sibley <tsibley@fredhutch.org>
Date:   Wed Sep 19 12:12:48 2018 -0700

    Merge branch 'release-script-platform-compat'

commit ced0190f1dec50eacba95a7d7815c98c4ffb8ce7
Author: Thomas Sibley <tsibley@fredhutch.org>
Date:   Wed Sep 19 11:11:40 2018 -0700

    releaseNewVersion.sh: Replace sed with perl to work across platforms
    
    Two iterations ago, the sed invocations used to only work on BSD-based
    (macOS) platforms and not GNU-based (Linux) platforms.  After reading
    both sets of man pages, I tried in e210987 to make the invocations
    compatible across both platforms.  This worked on GNU/Linux, where I
    could test, but it was incorrect as James now reports they don't work on
    macOS anymore:
    
        sed: 1: "package.json": extra characters at the end of p command
    
    Instead of teasing out the shared sed syntax, just use very similar Perl
    one-liners, which are universal across platforms.
    
    Resolves #667.

commit a2d5f17024ef8edd84b685131be22075f7ecfd54
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Wed Sep 19 18:16:20 2018 +0100

    version bump to 1.30.3 for release

commit 639ab0651202ab79ba16dc9241398e5a2400e22d
Merge: 1d814a1d 63339444
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Wed Sep 19 18:01:51 2018 +0100

    Merge pull request #665 from nextstrain/tree-two-colours
    
    colours are consistent between two trees. Closes #663

commit 1d814a1db205a665b3257e6e269cd05e05eb365e
Merge: e1caff5a b58eb606
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Wed Sep 19 15:15:40 2018 +0100

    Merge pull request #666 from nextstrain/two-tree-node-click
    
    Update second tree tip-radii after a tip has been clicked

commit b58eb6065abe1c7ea73c3aba785b5f51272f36b6
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Wed Sep 19 15:12:42 2018 +0100

    Update second tree tip-radii after a tip has been clicked. closes #664

commit 633394445851fffc02c90d81f4ffb46064d33613
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Wed Sep 19 14:33:58 2018 +0100

    colours are consistent between two trees. Closes #663
    
    Adding a second tree (as opposed to loading 2 at the same time) causes the node colours to recompute. Previously the left tree did not update to reflect these changes.

commit e1caff5ac6f9e7958313c7b8460ad2d9e046d87b
Author: Thomas Sibley <tsibley@fredhutch.org>
Date:   Fri Sep 7 11:03:58 2018 -0700

    version bump to 1.30.2 for release

commit e210987950ad3fae0a70e000b0f94f00b6a4ae68
Author: Thomas Sibley <tsibley@fredhutch.org>
Date:   Fri Sep 7 11:00:31 2018 -0700

    releaseNewVersion.sh: Fix sed invocation to work across platforms
    
    BSD sed (on macOS) is different than GNU sed (on Linux).  The latter
    doesn't accept the value for -i as a separate argument; apparently the
    former does since this hasn't caused issues before.  Both versions
    document the value-bundling syntax (-iSUFFIX), so use that to set the
    empty suffix.

commit 5cb994cbdec8259c121d9b88aff9e422cabeb76a
Author: Thomas Sibley <tsibley@fredhutch.org>
Date:   Fri Sep 7 10:54:56 2018 -0700

    Update changelog since 1.30.1

commit aa2dfe79addeb11f1587dd9f31eb9dd1708749c6
Author: Thomas Sibley <tsibley@fredhutch.org>
Date:   Fri Sep 7 10:51:10 2018 -0700

    Travis CI: Restore notification config mistakenly removed by 54faa67

commit ebc72e5d65f6a5b02a9803c2430037059aecbd38
Merge: 58b27233 c4e2001a
Author: Thomas Sibley <tsibley@fredhutch.org>
Date:   Fri Sep 7 10:44:25 2018 -0700

    Merge branch 'remove-npmrc'

commit c4e2001ac79cc64de5a1f734bdc00951641e186d
Author: Thomas Sibley <tsibley@fredhutch.org>
Date:   Fri Sep 7 07:27:27 2018 -0700

    Remove .npmrc file
    
    It broke local use of npm if NPM_TOKEN was missing from the environment.
    Since the file was only meant for Travis CI, define the config
    dynamically in .travis.yml instead.
    
    Resolves #661.

commit 58b272332254449f0659cbbc21e8580235500bcc
Merge: 6a47bce1 54faa672
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Thu Sep 6 18:42:50 2018 -0700

    Merge pull request #660 from nextstrain/travis-npm
    
    Publish release branch to npm via Travis

commit 54faa67224cdf7c20813a397ff98f47c1bf0a2c4
Author: Trevor Bedford <trevor@bedford.io>
Date:   Wed Sep 5 22:41:32 2018 -0700

    Publish release branch to npm via Travis
    
    All that NPM needs is a NPM_TOKEN that can be obtained via the website. This was set as an environment variable in Travis. With this in place, publishing is just "npm publish"

commit 6a47bce13b4c8c23c9feb02af5a67b124cb0e009
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Wed Sep 5 16:43:35 2018 -0700

    version bump to 1.30.1 for release

commit b354cbc2e856e4c1f4491a59a3459d0c51ae3836
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Wed Sep 5 16:43:04 2018 -0700

    don't allow dev mode for npm global install. Closes #659

commit 685c3072fa7a271ea751af885d912cf8222b7bab
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Wed Sep 5 16:38:52 2018 -0700

    update readme

commit 7727f0b9354c1b9eae9814deaf1a08f6103ba5b8
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Wed Sep 5 12:26:07 2018 -0700

    version bump to 1.30.0 for release

commit 9085b5d22c4295da983c36d898ff795baa300125
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Wed Sep 5 12:24:47 2018 -0700

    changelog

commit 9c02dc098e025024c6016eb3302b1bf6f52ab95b
Merge: 5df33c3f 783956f9
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Wed Sep 5 12:14:12 2018 -0700

    Merge PR 654. Allow npm global install.
    
    * bin:
      travis publishes releases to npm
      better argument parsing for server.js
      update readme
      improve server startup message clarity
      improve data sourcing for globally installed auspice
      npm global install working
      First pass at auspice bin

commit 783956f96462ed2f7f3ce61e5c572aee62d15a97
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Wed Sep 5 12:04:36 2018 -0700

    travis publishes releases to npm

commit 5df33c3f65b216f85758320274b1caf1950d01cb
Merge: 966854ce 60d59baf
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Wed Sep 5 11:16:16 2018 -0700

    Fix entropy calculation bug
    
    * 656:
      this should fix issue #656 -- we happily ignored all transitions involving asparagine

commit 966854ce2e452bc0c902a034454360de75800ee4
Merge: cc30c75b 2f361352
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Wed Sep 5 11:14:17 2018 -0700

    Merge pull request #653 from nextstrain/578
    
    Fix last narrative scroll issue 578

commit fd601fd6d0133e6f0e28a2702ec755dd3b649f1d
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Wed Sep 5 10:15:37 2018 -0700

    better argument parsing for server.js
    
    server.js dev is now server.js --dev
    server.js data:<path> is now server.js --data <path>
    
    Includes descriptions, help and version.

commit 60d59bafe125406c4f518fb64467347c01973296
Author: Richard Neher <richard.neher@unibas.ch>
Date:   Wed Sep 5 18:27:04 2018 +0200

    this should fix issue #656 -- we happily ignored all transitions involving asparagine

commit 2f361352a52c0266f8114f14f573a8715c0891df
Author: Emma Hodcroft <emmahodcroft@gmail.com>
Date:   Wed Sep 5 10:36:52 2018 +0200

    changes proposed by tsibley

commit e78098bf4430292b91fb45ed309ceb5b43231746
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Tue Sep 4 14:36:23 2018 -0700

    update readme

commit beddc7cb4c8fdd8a44cbe764cc5cc9d22daac4f0
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Tue Sep 4 14:34:09 2018 -0700

    improve server startup message clarity

commit 2ec8fe7e7c6ced430c3fabfb35ed79452d30d9a8
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Tue Sep 4 14:24:19 2018 -0700

    improve data sourcing for globally installed auspice
    
    default datasets for globally installed auspice is now the <cwd>/auspice (or <cwd> if that doesn't exist).
    Command line args data:<path> overwrites this.
    (similar for narratives)

commit d4836e18e991318d49607843961de7b08701c2a5
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Tue Sep 4 13:11:34 2018 -0700

    npm global install working

commit cc30c75b40c67e0f6f80617a3476981b161ef664
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Tue Sep 4 08:55:25 2018 -0700

    do not deprecate "npm run start". Closes #651

commit 42d8bde83ee899c0c24472d515af40ec06362e74
Merge: 5e9ffb3d 3255f52c
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Tue Sep 4 08:50:59 2018 -0700

    Merge pull request #650 from nextstrain/legend-placement
    
    Tweak tree legend placement

commit 141184a476624a4e6fdb42a10a1b823de8cb71d6
Author: Emma Hodcroft <emmahodcroft@gmail.com>
Date:   Mon Sep 3 16:53:03 2018 +0200

    fix tiny scroll in narratives

commit 2d5a41a53fc6bb5522c48623eb859e2154ed7120
Author: Trevor Bedford <trevor@bedford.io>
Date:   Sat Sep 1 23:23:03 2018 -0700

    First pass at auspice bin

commit 3255f52c288f74c56a0d9301dcb3f15233968c30
Author: Trevor Bedford <trevor@bedford.io>
Date:   Sat Sep 1 15:20:32 2018 -0700

    Tweak tree legend placement
    
    The legend wasn't fully obscuring the gray timeslice bar. This commit fixes this.

commit 5e9ffb3d3620be49b299be2dd94881a5e52ffe32
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Fri Aug 31 15:34:08 2018 -0700

    version bump to 1.29.0 for release

commit 67dfc7168e41ffa325c1a9f1de747ed39adc3c36
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Fri Aug 31 15:23:12 2018 -0700

    changelog

commit 9db40cbc571c3c554921983ee331147c9b330fa8
Merge: b5467128 c5b3b4d4
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Fri Aug 31 15:08:21 2018 -0700

    Merge pull request #645 from nextstrain/640
    
    Improve Info text

commit c5b3b4d419e03f603279fa20899cc42c1d21660a
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Mon Aug 27 13:43:58 2018 -0700

    Improve Info text. Closes #640

commit b54671288a98bb56f90d294ceb892c71adcbf871
Merge: 11ac1f47 f2873af3
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Fri Aug 31 11:11:17 2018 -0700

    Merge branch 'temporal-visibility'
    
    * temporal-visibility:
      use named variables to increase code clarity
      Visibility array now contains "levels" of visiblity
      code clean up (should be faster)
      branches are only visible if the tips are in [minDate,maxDate]

commit f2873af39d12ffd76aeb155bbc56f27e7fbb411c
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Fri Aug 31 11:05:14 2018 -0700

    use named variables to increase code clarity

commit 11ac1f4732a74573355e5f08155c6b35369f8aee
Merge: 0ee9bce9 3f8f24f3
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Fri Aug 31 10:18:27 2018 -0700

    Merge pull request #648 from nextstrain/narrative-ui
    
    Add more visible toggle between narrative & interactive modes

commit 3f8f24f3c9b7f10d6ec84215b12105c10d8a60a6
Author: Trevor Bedford <trevor@bedford.io>
Date:   Thu Aug 30 20:55:48 2018 -0700

    Tie narrative toggle to top right of the viewport
    
    I thought it worked better to tie the narrative toggle to viewport location rather than to the card. It's has an effect at viewport level rather than card level. Card level toggles were for things like modifying entropy bars.

commit c3a10508d29f8249d22c1865e610de03d438be6f
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Thu Aug 30 15:43:23 2018 -0700

    Add more visible toggle between narrative & interactive modes

commit 98094142b5a86d2f39caea92b7a493ebb3a3c49e
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Thu Aug 30 14:55:11 2018 -0700

    Visibility array now contains "levels" of visiblity
    
    This allows better representation of "visible" nodes across the tree (w.r.t the selected time slice), whilst preserving the desired map behavior.

commit 0ee9bce9c30571ac04344eab93de2aebc0f26df4
Merge: 2f5fb36f b6af18f4
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Mon Aug 27 11:58:33 2018 -0700

    Merge pull request #644 from nextstrain/643
    
    Force default tree zoom to root

commit b6af18f442cdcb9005079fabbea39008007c9e36
Author: Emma Hodcroft <emmahodcroft@gmail.com>
Date:   Mon Aug 27 16:24:15 2018 +0200

    force default tree zoom to root

commit 2f5fb36fec1a2c2614cad3e585936d2e6bae3bd3
Author: Emma Hodcroft <emmahodcroft@gmail.com>
Date:   Mon Aug 27 15:30:51 2018 +0200

    update narrative explanation text to match changes

commit 11f2eb8b379f5e5e5bea2855a22d2d014805c5ef
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Sat Aug 25 17:01:30 2018 -0700

    version bump to 1.28.0 for release

commit bc7fa01f41da35c554a0fa855c549866459cd51a
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Sat Aug 25 17:01:17 2018 -0700

    changelog

commit d52f9f5259622c371f158b102f5fc59927869007
Merge: 053b23dc ef127b91
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Fri Aug 24 18:50:30 2018 -0700

    Merge pull request #633 from nextstrain/clade-url
    
    specify zoom on tree by clade in URL

commit fafed447c2ca401068010b342566d744c8bb7da0
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Fri Aug 24 17:31:06 2018 -0700

    code clean up (should be faster)

commit 4953e3c77b8f1656d77a945003573411c023e77f
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Fri Aug 24 17:28:03 2018 -0700

    branches are only visible if the tips are in [minDate,maxDate]

commit 053b23dcf9830086c5594def5956e8a32cb171d1
Merge: 6d5ab2f9 85e0dda9
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Fri Aug 24 18:37:02 2018 -0700

    Merge branch 'narrative'
    
    * narrative:
      fix "scroll back to top" functionality
      browser & dimension tweaks
      use (modified) react-page-scroller
      new nav bar & progress
      use chevrons to navigate; add fade at top&bottom
      improve scroll functionality & performance
      styles pass
      allow community narrative sourcing
      local & live available narrative pages
      remove view-change callbacks during narrative
      improve styling etc
      add icons to change between paragraphs
      add narrative header & progress bar
      all page changes now use pageChange()
      use thresholded scrolling
      improved narrative markdown format & rewrite of parser
      Change source of narratives
      Download github.com/nextstrain/narratives to local_narratives directory

commit 6d5ab2f90d5f29d7b77c09d673f17b1522a7ec7f
Merge: 2f25d240 f4dfb30d
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Fri Aug 24 17:32:22 2018 -0700

    Merge pull request #638 from nextstrain/time-slicing
    
    Time slicing

commit f4dfb30d60669a1e677807fcf8a4a883cd9ff20a
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Fri Aug 24 14:38:16 2018 -0700

    add temporal time slice to tree (rect layout only)

commit e789ea5c08f04870e275e7bf1014e981b23a25b4
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Fri Aug 24 12:31:34 2018 -0700

    branch cursor is pointer only if branch is visible

commit 2cef097609b663c660b38af17e982120add8afe6
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Fri Aug 24 12:08:00 2018 -0700

    make non-visible tree branches thinner
    
    Makes it clearer that they are not "in-view"

commit 09bd44c4aacc4d6897b0c963329ff0ae2dd142e5
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Fri Aug 24 11:56:30 2018 -0700

    remove hover infoboxes & clicks from non-visible tips & branches

commit 2f25d240b3807d2fc2c28ffeb9b2fdcc98a09ab6
Author: Trevor Bedford <trevor@bedford.io>
Date:   Fri Aug 24 09:14:35 2018 -0700

    version bump to 1.27.1 for release

commit 86802a53f30e55917f4ac9b7fabcb05402798a2c
Author: Trevor Bedford <trevor@bedford.io>
Date:   Fri Aug 24 09:12:38 2018 -0700

    Fix broken nav links
    
    Static changed file names and broke these links. Better to link to top level about/ and docs/ and let this cascade down to actual page.

commit 58dbf8acc50522cc39aaa643868a0783a97f997f
Merge: edd40f64 eeabf94d
Author: Emma Hodcroft <freezefire666@yahoo.com>
Date:   Fri Aug 24 10:16:51 2018 +0200

    Merge pull request #637 from nextstrain/firefox_bug
    
    Replace non-standard property srcElement

commit eeabf94d48b4b34a050825e8b8a156c40ea1ceae
Author: Emma Hodcroft <emmahodcroft@gmail.com>
Date:   Fri Aug 24 10:06:20 2018 +0200

    replace non-standard property srcElement

commit 85e0dda92317dce6b2c1fd76820697eac512e19c
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Thu Aug 23 15:24:03 2018 -0700

    fix "scroll back to top" functionality

commit 608a6f03b7fca04e8a36d049f4768fb0e0418188
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Thu Aug 23 14:21:46 2018 -0700

    browser & dimension tweaks

commit fbe2a0cabb012c6a7942498c41f3a4fd3222d452
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Thu Aug 23 13:02:33 2018 -0700

    use (modified) react-page-scroller
    
    scroll is much improved
    blocks larger than the page are cut-off (needs to be fixed)

commit aa0586c6338ff5d5201ac50c0ba33502c470e69f
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Wed Aug 22 16:54:01 2018 -0700

    new nav bar & progress

commit 45d95f6025d38816fd8191766d37bc28af1153be
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Wed Aug 22 14:56:30 2018 -0700

    use chevrons to navigate; add fade at top&bottom

commit 8dd89f177b742da7c40931b8e7e38e42ac94c22a
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Wed Aug 22 11:16:21 2018 -0700

    improve scroll functionality & performance

commit 074542945059fdc3cfe28852b00bbb76fa87dc0a
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Tue Aug 21 18:57:26 2018 -0700

    styles pass

commit 4975f694dad3a12b22c2d5da1ce964c0acd6ab17
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Tue Aug 21 17:44:31 2018 -0700

    allow community narrative sourcing
    
    Default URL formats: community/narratives/orgName/repoName
    Accesses file: /narratives/repoName.md
    Additional URL entries (e.g. /A/B) access file /narratives/repoName_A_B.md

commit f29e7279b858a37b0070f44cba91e8fe51c7a63e
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Tue Aug 21 16:20:36 2018 -0700

    local & live available narrative pages

commit c2795c05aee680f2ce7f2a7ad40476fbe529b36b
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Tue Aug 21 14:59:19 2018 -0700

    remove view-change callbacks during narrative
    
    Don't allow branch/tip clicks, map zoom/pan, entropy zoom / colorBy changes during narrative display.

commit 63718b2812216e33c1e8efc72c36d3e093a8141b
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Tue Aug 21 13:55:02 2018 -0700

    improve styling etc
    
    improve sidebar narrative - controls toggles & styles
    improve hand icons & CSS

commit edd40f64b65cbc17b09afa0f054dd1e9af87fa12
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Mon Aug 20 11:21:51 2018 -0700

    version bump to 1.27.0 for release

commit 80ca6676a005c48cabbc60ae60315373af13206f
Merge: ad7ab5cc 185379cc
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Mon Aug 20 11:19:01 2018 -0700

    Merge pull request #630 from nextstrain/two-tree-svg
    
    Export second tree & tanglegram to SVG

commit ad7ab5ccc04a998632a4d2ddf5f382ef602f5d40
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Mon Aug 20 11:09:24 2018 -0700

    version bump to 1.26.0 for release

commit 57c47a604d0a9d88daced9c84bae6676877db6dd
Merge: 8876349d 54d2a4d0
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Mon Aug 20 11:07:40 2018 -0700

    Merge pull request #626 from nextstrain/url
    
    Entropy Zoom in URL

commit 54d2a4d0b5e9e740e960e67839084ddb85efe080
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Mon Aug 20 11:05:24 2018 -0700

    use gmin/gmax URL queries

commit ef127b910da548abe9a66633ed99cb3308d642bd
Author: Emma Hodcroft <emmahodcroft@gmail.com>
Date:   Mon Aug 20 18:00:07 2018 +0200

    specify zoom on tree by clade in URL

commit 546c08c4c7a34ada051336d968a89f5bf5729eba
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Sun Aug 19 19:57:24 2018 -0700

    add icons to change between paragraphs
    
    machinery only. Needs improvement.

commit da334cc79d0ee30336625037c844c0de942b5b85
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Sun Aug 19 18:55:11 2018 -0700

    add narrative header & progress bar
    
    machinery only. Needs improvement.

commit 958a94e6d7ab220196651c74a5d708b11916bda1
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Tue Aug 7 17:03:50 2018 -0700

    all page changes now use pageChange()
    
    simpler to understand
    needs to be extended in the future

commit 7b29e9bcb421cce75fba344c99b81b4825c08ce8
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Sun Aug 19 12:17:56 2018 -0700

    use thresholded scrolling

commit 1e869bc0ca830962e244dd426f0c48728350ddd3
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Sat Aug 18 19:46:05 2018 -0700

    improved narrative markdown format & rewrite of parser
    
    * The YAML header format of the narrative file has changed, and has more capabilities. This allows the title / 1st block to be more informative.
    * The method of specifying paragraphs / blocks in the markdown has changed. They now render much nicer as plain markdown files with clickable paragraph headers taking you to the relevant nextstrain page.

commit 15c2983eca68a564a512d9184f2acef3d4c89920
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Sat Aug 18 16:55:18 2018 -0700

    Change source of narratives
    
    Locally: auspice/local_narratives, which can be
    overwritten by specifying "narratives:..." as a
    command line arg to server.js
    Live: github.com/nextstrain/narratives

commit 695898737fc591ec3518811d857a64cd184bc368
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Sat Aug 18 16:53:00 2018 -0700

    Download github.com/nextstrain/narratives to local_narratives directory
    
    "npm run get-narratives" creates local_narratives directory
    This replaces ./data/narratives
    Sanctioned narratives will be stored in github.com/nextstrain/narratives

commit 185379cc1a47f9731ccadb889422dc52893385d3
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Fri Aug 17 18:10:21 2018 -0700

    restore second tree name to filename

commit b6fc7875e3aefa340f863cea8773ba2e2635b3b0
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Fri Aug 17 18:07:09 2018 -0700

    export tree legend to SVG

commit 8dab308a34eb94ad9961b2c0932cb16822cce3b9
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Fri Aug 17 18:04:32 2018 -0700

    export second tree & tanglegram to SVG

commit 780fa545055d9414f7c710a35b6db2d59fdf1573
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Fri Aug 17 15:50:27 2018 -0700

    add IDs to tree DOM elements
    
    Makes debugging / examining the DOM easier

commit 8876349db46d6dbd61a9090264028af842550639
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Fri Aug 17 15:09:59 2018 -0700

    version bump to 1.25.2 for release

commit d0ad27bc0fe748e2dc1059c2b62cbda5a6d69dbd
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Fri Aug 17 15:08:20 2018 -0700

    changelog

commit eff28ddad2740200c3f4a85d7b0b778135bf9119
Merge: 07099d2c 46a42897
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Fri Aug 17 14:39:01 2018 -0700

    Merge pull request #629 from nextstrain/grid-layer-order
    
    add grid SVG groups regardless of whether a grid is drawn

commit 46a428975132c52aeb0f97048aae7b7220a2269e
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Fri Aug 17 14:10:46 2018 -0700

    add grid SVG groups regardless of whether a grid is drawn
    
    This allows successive renders to draw the grid into the appropriate grid which is underneath other layers.
    Closes #628

commit 07099d2c4dfdc406d2f9ee10fccaf7b4a991bc63
Merge: 2bb17f08 a1c66ac7
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Fri Aug 17 14:01:07 2018 -0700

    Merge pull request #608 from nextstrain/transmission_bug
    
    this fixes (papers over) issue #547.

commit 2bb17f08a018eefa443369a1839793be012ea0a5
Merge: e24cde9e 16c06501
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Fri Aug 17 12:31:30 2018 -0700

    Merge pull request #627 from nextstrain/negative_dates
    
    make calendarToNumeric parse negative dates

commit 8a6b298df4d0beefc647ae18479c39f4861474b6
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Fri Aug 17 11:45:06 2018 -0700

    only change URLs at brush end
    
    Prevents bugs / slowdowns where too many dispatches occurred during the brushing.

commit e24cde9e1721442ee3330b586d97584edf4fa29e
Merge: 5c4a8a30 19a830e8
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Fri Aug 17 09:31:22 2018 -0700

    Merge pull request #624 from nextstrain/622
    
    fix issue 622, disappearing NA

commit 963162d337204b903e48d2b803eac5e63c862545
Author: Emma Hodcroft <emmahodcroft@gmail.com>
Date:   Wed Aug 15 15:54:43 2018 +0200

    zoom with url should work in narratives

commit 16c065016eaa749ef6e265ab67cb79a207d00ce1
Author: Richard Neher <richard.neher@unibas.ch>
Date:   Wed Aug 15 14:17:32 2018 +0200

    more places where negative dates matter

commit 20a0211f0f4d46b79251828f889f0610af35b79a
Author: Richard Neher <richard.neher@unibas.ch>
Date:   Tue Aug 14 12:06:14 2018 +0200

    make calendarToNumeric parse negative dates

commit 0efe004d831628c7806bf2303505891a1cb7e6f0
Author: Emma Hodcroft <emmahodcroft@gmail.com>
Date:   Mon Aug 13 17:36:46 2018 +0200

    prevent reversed max/min zoom

commit 4455982d164770b2501ceb429bd5f55fce533f2c
Author: Emma Hodcroft <emmahodcroft@gmail.com>
Date:   Mon Aug 13 17:27:40 2018 +0200

    prevent out of bounds zoom by url

commit 1fbf3a96b1138961fc1eac4e35798bfc9c33ba93
Author: Emma Hodcroft <emmahodcroft@gmail.com>
Date:   Mon Aug 13 17:13:23 2018 +0200

    zoom change URL and is read from URL

commit 19a830e8f98c38df60ff8aefd79c083aca7c1264
Author: Emma Hodcroft <emmahodcroft@gmail.com>
Date:   Sun Aug 12 15:31:45 2018 +0200

    fix issue 622, disappearing NA

commit 5c4a8a309751179161af142c1e8c238703a8ca63
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Fri Aug 10 12:09:31 2018 -0700

    version bump to 1.25.1 for release

commit 06aa03d343baf8a2d1ac755d89969dd421daa8ec
Merge: 551bbd31 77cadeb6
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Fri Aug 10 12:07:56 2018 -0700

    Merge pull request #621 from nextstrain/gapN_handling
    
    Gap/N Excluded from Count/Entropy

commit 551bbd3131ccdbbd78de29963008bd1ada80334b
Merge: 9009cd79 f744f97d
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Fri Aug 10 12:04:48 2018 -0700

    Merge pull request #620 from nextstrain/zoom_fix
    
    Fix issue 619

commit 77cadeb64501d249f54417cd26486faa46fcf0e0
Author: Emma Hodcroft <emmahodcroft@gmail.com>
Date:   Fri Aug 10 12:19:58 2018 +0200

    don't count/entropy gap/N sites

commit 3a1ba7a160b1daa30f79566e74dbbc3b9f909623
Author: Emma Hodcroft <emmahodcroft@gmail.com>
Date:   Fri Aug 10 10:59:04 2018 +0200

    fix bug in hover infopanel for gap/N

commit f744f97d51caee200212cd235a457ec6f07e64db
Author: Emma Hodcroft <emmahodcroft@gmail.com>
Date:   Fri Aug 10 09:51:18 2018 +0200

    fix typed nuc change bug + better mult pos behaviour

commit 9009cd79e5197cb453b57f6830e134d9ade74dd3
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Thu Aug 9 15:17:21 2018 -0700

    version bump to 1.25.0 for release

commit f745402005956f3899417f79ec98488103dd30e0
Merge: 19cc89b5 550fbe2c
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Thu Aug 9 15:11:36 2018 -0700

    Merge pull request #609 from nextstrain/gene_zoom
    
    New Zooming Functionality

commit 550fbe2c4b20f2d1b8114fedbb0c7c7c3a7b4aba
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Thu Aug 9 15:03:01 2018 -0700

    simplify scales used in entropy
    
    Removes xMainOriginal, xGene, xGeneOriginal from this.scales, as well as this.xModified.

commit 501aeadf0e00c78e51c0305f6a5511f497002a85
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Thu Aug 9 14:31:32 2018 -0700

    add d3-format to dependencies

commit 19cc89b5f22f8e2e9394253d4902e000d67b0908
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Wed Aug 8 17:51:26 2018 -0700

    version bump to 1.24.1 for release

commit cfbcf1dd730e0d3d0c40791a13dffca1fd586b34
Merge: cbf499c9 72c1a256
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Wed Aug 8 17:48:36 2018 -0700

    Merge branch 'deps-security'
    
    * deps-security:
      Upgrade remaining two dependencies that have known security vulnerabilities
      Upgrade (most) dependencies that have known security vulnerabilities
      Update package-lock.json after a fresh `npm install`

commit cbf499c95fa7e1665c1c806c52965da7d4e86149
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Wed Aug 8 17:42:55 2018 -0700

    add path resolution using manifest for staging bucket. Closes #618

commit 72c1a256f555dfa5143d8df1f2e14d2b238f2bab
Author: Thomas Sibley <tsibley@fredhutch.org>
Date:   Mon Aug 6 12:33:46 2018 -0700

    Upgrade remaining two dependencies that have known security vulnerabilities
    
    These were done by running `npm audit fix --force`, which was necessary
    to ignore our version requirements since the older versions weren't
    patched.  The release notes for both deps don't seem to indicate any
    breaking change that would affect us.
    
    `npm audit` now returns zero known vulnerabilities. \o/

commit b77d793c45d65ad10aefb0098177aff24103bc7e
Author: Thomas Sibley <tsibley@fredhutch.org>
Date:   Mon Aug 6 11:08:49 2018 -0700

    Upgrade (most) dependencies that have known security vulnerabilities
    
    This is the result of running `npm audit fix`, which does only what it
    can while respecting our semver requirements.
    
    It's good to stay on top of security updates.

commit 6d7d4acaf61d5de473b187b38dd0f2e36f524a5f
Author: Thomas Sibley <tsibley@fredhutch.org>
Date:   Mon Aug 6 10:57:59 2018 -0700

    Update package-lock.json after a fresh `npm install`
    
    …so that I have a known baseline for subsequent dep upgrades driven by
    security vulnerabilities.
    
    I believe changes (except for own our version bump) are due to new
    upstream versions compatible with our declared semver ranges.  This is
    the seemingly-stable file content after running `npm install` three
    times starting from no node_modules/.  It produced this content after
    the second run and it remained unchanged after the third.

commit 1878f22dd6aaa7c1fcdd2e45b01cf358418692a0
Author: Emma Hodcroft <emmahodcroft@gmail.com>
Date:   Mon Aug 6 19:02:24 2018 +0200

    change zoom params slightly

commit a1c66ac7edcb182db79e4ff22a9fd44f89fed837
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Mon Aug 6 08:53:12 2018 -0700

    missing lat/longs display a notification & don't draw those demes

commit 723fd53a6ab1bab7795b03db0c3028ab3c8678b9
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Sun Aug 5 13:11:10 2018 -0700

    version bump to 1.24.0 for release

commit 3524169ade8f9c7f9a201cf3adcef9ca5f9fbaa6
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Sun Aug 5 13:10:44 2018 -0700

    changelog

commit 1ae3e305bf31f7fdc9de682d8e230714d16ed0d2
Merge: e8721ae6 79a37997
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Sun Aug 5 12:49:26 2018 -0700

    Merge pull request #613 from nextstrain/611
    
    Fix bugs when changing datasets with URL queries defined

commit e8721ae649d8f3a0aacd4e94fa71ee961a2bc9a7
Merge: 60809899 e27fdae0
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Sun Aug 5 12:48:11 2018 -0700

    Merge pull request #615 from nextstrain/github-sidebar
    
    Show github links as dataset (in sidebar) for community URLs

commit e27fdae026ff43d33e6694ee7856cd5429a5a8bc
Author: Trevor Bedford <trevor@bedford.io>
Date:   Sun Aug 5 10:20:37 2018 -0700

    Minor styling adjustments
    
    Move from text "Data sourced from" text to an icon. I think this conveys the same information while looking cleaner.

commit 79a379973f968460d03b7fcc9d184569e7af26b6
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Sat Aug 4 18:49:54 2018 -0700

    ensure filters are valid upon dataset load

commit 2cc26d5799e7a000ef9e2d947ccef24c4544ba06
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Sat Aug 4 18:27:06 2018 -0700

    fall back to default colorBy / geo resolutions when valid
    
    
    fallbacks for invalid colorBys / geo resolutions are now
    1. JSON defined default
    2. hardcoded default
    3. any available value

commit 608098996f0170dd58887219d6367249441f6cce
Merge: 71761345 74fb1250
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Sat Aug 4 18:12:50 2018 -0700

    Merge pull request #614 from nextstrain/607
    
    fix bug in dataset dropdown options

commit f25b1433af3b4111bc9df8c74d1705a6d8077cda
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Sat Aug 4 18:10:25 2018 -0700

    Show github links as dataset (in sidebar) for community URLs

commit 74fb1250de94eaba22631e605712f1dbec1fcdc9
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Sat Aug 4 17:57:46 2018 -0700

    fix bug in available dataset parsing
    
    dataset matching now considers all previous entries in the hierarchy, not just the parent

commit 71761345622dae2cd073c7224428d40914a1412e
Merge: 78f737a7 71d4644e
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Sat Aug 4 17:38:51 2018 -0700

    Merge pull request #612 from nextstrain/tree-render-order
    
    Tree render order

commit 71d4644e016cb129a017ed22b84fe464f100c3b4
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Sat Aug 4 17:21:26 2018 -0700

    immediately remove CIs onBranchLeave to prevent d3 transition bugs
    
    Problem: D3 selection, with transitions, seems to be lazily evaluated such at it would grab the newly displayed CI as well and remove it. Evaluating .selection() prior to setTimeout didn't fix this. This wasn't a problem before as we just added CIs in different DOM groups.
    
    Solution: instantaneously remove the CIs on branch leave.

commit a706d9a63fc5cdbb87a649bb1a7d44b53defe55f
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Sat Aug 4 15:52:45 2018 -0700

    Don't draw branch-T elements for unrooted / clock tree layouts
    
    Reduces the number of elements in the DOM

commit 14f7d25ef1d97d84fbfa8bb9ae9385fedd3c9823
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Sat Aug 4 15:48:40 2018 -0700

    remove (unused) dotted vaccine line from DOM

commit d48f21bf9f05d1ad405983fcdccdb8c49e19e487
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Sat Aug 4 15:37:55 2018 -0700

    Collect remaining tree SVG elements into named groups
    
    See previous commit for "why"

commit 0d2af5f1eb284039ec9375659d8e8268cfdcfe33
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Sat Aug 4 15:08:16 2018 -0700

    Store & reuse <g> elements for the tree grid
    
    By storing references to <g> elements, we don't have to create new ones upon updates. This also preserves the initial ordering of groups, avoiding bugs such as https://github.com/nextstrain/auspice/pull/610#issuecomment-410477963

commit aee2daadc0ad3c3c05a22d521409abbfc7e34409
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Sat Aug 4 16:49:58 2018 -0700

    fix URL bug when changing datasets with a genotype selected
    
    Now falls back to the default colorBy
    URL colorBy query is cleared

commit fd1fea49422c9d9def1efcec42b3ef355ecde390
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Sat Aug 4 16:31:43 2018 -0700

    fix URL bug where region didn't exist in new dataset

commit 7170ca8e3eb154f9cc43ba084c312466d8978d16
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Sat Aug 4 15:04:17 2018 -0700

    allow variable indentation for method chaining (e.g. D3)

commit 78f737a790a63b27053028e36bbbeee86f182573
Merge: 25df23a8 289add41
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Sat Aug 4 14:27:16 2018 -0700

    Merge pull request #610 from nextstrain/fix_grid
    
    allow negative dates, y labels, better spacing

commit 289add4184d32efd295c26ed5e765c80463e9c05
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Sat Aug 4 13:50:27 2018 -0700

    add horizontal grid lines for clock layouts

commit c7393ea82ddf98c11668e348e2f407aecde2b9e0
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Sat Aug 4 13:33:50 2018 -0700

    linting, add comments & improve readability

commit f6810cb49875f9815666ab818f2aca38ab1e3a0a
Author: Richard Neher <richard.neher@unibas.ch>
Date:   Fri Aug 3 19:40:25 2018 +0200

    allow negative dates, y labels, better spacing

commit 8e6efe1b348d6c7738080d30bc5ccc2ebbfa5df9
Author: Emma Hodcroft <emmahodcroft@gmail.com>
Date:   Fri Aug 3 09:47:59 2018 +0200

    comments & cleanup

commit 750e268d451afc3fa74f95f0d988811527ca2aea
Author: Emma Hodcroft <emmahodcroft@gmail.com>
Date:   Thu Aug 2 16:10:24 2018 +0200

    prevent zoomin too far, make nuc bars bigger to click

commit 75bf2c57942294eb7521f33e89027258fef1c223
Author: Emma Hodcroft <emmahodcroft@gmail.com>
Date:   Thu Aug 2 13:03:11 2018 +0200

    nucleotide zoom improvements

commit f840652ab14d548e3cc93ac4649c88f7a3df34ca
Author: Emma Hodcroft <emmahodcroft@gmail.com>
Date:   Tue Jul 31 18:32:51 2018 +0200

    cleanup

commit 51bb543098c327c5ebdb5d41bcd2ba69aa73d823
Author: Emma Hodcroft <emmahodcroft@gmail.com>
Date:   Tue Jul 31 18:28:43 2018 +0200

    scroll wheel zoom works - hold shift

commit bd1460225f0f4beef06b4787cee93a218f7bde12
Author: Emma Hodcroft <emmahodcroft@gmail.com>
Date:   Tue Jul 31 14:32:20 2018 +0200

    better positioning if single reading frame

commit 0f0b420bbb244da5e8a1fb201f4c1dd9927b99b4
Author: Emma Hodcroft <emmahodcroft@gmail.com>
Date:   Tue Jul 31 14:02:10 2018 +0200

    coloring more consistant

commit af3e136b54ae7d4b717c975a0e0ca23dcd09addd
Author: Emma Hodcroft <emmahodcroft@gmail.com>
Date:   Tue Jul 31 13:52:09 2018 +0200

    remove debug

commit bd75b6fed94ff0597360f3e49f20b3cfeca42ca2
Merge: 41ae3ccc 25df23a8
Author: Emma Hodcroft <emmahodcroft@gmail.com>
Date:   Tue Jul 31 13:44:10 2018 +0200

    Merge remote-tracking branch 'origin/master' into gene_zoom

commit 41ae3ccc92d0792c2f18c651299b4f28fc42d3b1
Author: Emma Hodcroft <emmahodcroft@gmail.com>
Date:   Tue Jul 31 11:33:39 2018 +0200

    cleaning up zoom by gene url

commit 89ab1515e1b9da254d68164d7040da23e0ffcdde
Author: Emma Hodcroft <emmahodcroft@gmail.com>
Date:   Tue Jul 31 11:16:47 2018 +0200

    zoom with gene url

commit 25df23a8c339d0a0402a9b835dca3d21bdea7994
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Mon Jul 30 15:41:54 2018 -0700

    version bump to 1.23.2 for release

commit 96abfd2a0a01292e71f0f0cf69e8f5986e06a72e
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Mon Jul 30 15:41:27 2018 -0700

    increase two-panel-padding. Resolves #574

commit d89171f19e491f6af8a45a908d9e053d366fd133
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Mon Jul 30 10:17:18 2018 -0700

    version bump to 1.23.1 for release

commit c8a28cded62ed0982990708d6bb359ec852ccece
Merge: 32a5ce0a 67453f76
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Mon Jul 30 10:14:56 2018 -0700

    Merge pull request #606 from nextstrain/fix_tt_aa_labels
    
    align branch labels according to tree orientation:

commit db503cc3e70c209b9bb4687bff44607d4fdc8268
Author: Richard Neher <richard.neher@unibas.ch>
Date:   Mon Jul 30 18:05:40 2018 +0200

    this fixes (papers over) issue #547. The issue was missing coordinates, which remove transmissions from the index, which later results in 'type undefined' errors.

commit 67453f76e6b28f0f6b793e76a0c0d188e41cc563
Author: Richard Neher <richard.neher@unibas.ch>
Date:   Mon Jul 30 17:15:27 2018 +0200

    align branch labels according to tree orientation:

commit 32a5ce0a8b068bc620f8aab43451468d60f59af4
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Sat Jul 28 10:25:11 2018 -0700

    version bump to 1.23.0 for release

commit 938ed4c385f5f6c3fb7e2d52786321ad1f973ff1
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Sat Jul 28 10:22:55 2018 -0700

    changelog

commit 09240248599f84ca3b271437dc94e76009b88a96
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Sat Jul 28 09:52:49 2018 -0700

    only rebuild docker image for release branch

commit 6d2c2686a3cd106e9d80cf3f4daccaa6d95d6137
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Sat Jul 28 09:51:57 2018 -0700

    add warnings for npm scripts

commit 704f091431dfe586a3052b6003ee6ad0f6ffc754
Merge: f28c3fc7 51baf599
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Sat Jul 28 09:18:33 2018 -0700

    Merge pull request #604 from nextstrain/server-side-json
    
    Move logic to server

commit 51baf59929f2b644da7a3a1e37f1fd0000169d57
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Fri Jul 27 09:50:19 2018 -0700

    comment out unified JSON fetch (until auspice can process v2.0 JSONs)

commit 10ae97f4f272c61746b45a1f647a37a577a89aef
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Fri Jul 27 09:47:26 2018 -0700

    accept deprecated tt=... URLs & correct to new syntax

commit 4b616991b909cc9a33d95d1754401b7f40cfe627
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Fri Jul 27 09:22:16 2018 -0700

    URLs & paths are case sensitive

commit b174c26bf822985b2d9f8b954587a000d033a701
Author: Emma Hodcroft <emmahodcroft@gmail.com>
Date:   Fri Jul 27 17:56:43 2018 +0200

    zoom by click working and bug fix

commit 40a3c500207b049975386102ad465b3ae154da2f
Author: Thomas Sibley <tsibley@fredhutch.org>
Date:   Thu Jul 26 12:57:10 2018 -0700

    Remove second tree designation from download filenames
    
    We only export information about the first tree.

commit 04b126211a1ea6649acd6b159ca44486da3b60e1
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Thu Jul 26 12:08:58 2018 -0700

    restore frequencies updating in createStateFromQueryOrJSONs

commit 12fc868d6898805bd9eb834386432aecb8157e36
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Thu Jul 26 11:59:47 2018 -0700

    restore status page functionality

commit f28c3fc73a569b95fc371b62ee2cbcccae5314da
Author: Thomas Sibley <tsibley@fredhutch.org>
Date:   Thu Jul 26 12:16:20 2018 -0700

    Add shebang line to scripts/get-data.sh
    
    This shell script is written using Bash syntax (e.g. array variables)
    and will not run under the default shell (sh) on some systems.  Best to
    declare the shell required.

commit 722d46f6954a2c6afc05580b1d63065a64e241d5
Author: Thomas Sibley <tsibley@fredhutch.org>
Date:   Thu Jul 26 11:53:47 2018 -0700

    Correct screenshot download button label: SGV → SVG

commit 3d0b2d7127bebe7bc039c4c6d4c15c03ced27277
Author: Thomas Sibley <tsibley@fredhutch.org>
Date:   Thu Jul 26 10:03:40 2018 -0700

    server.js: Small wording tweak in startup message to read more naturally

commit 2a81eb2ac5c4ec41cc613efe1bb6b5483a93228e
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Wed Jul 25 16:51:46 2018 -0700

    bugfix for nextstrain.org server integration

commit dab1be091a69e92fae3976cd24eed171554f9670
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Wed Jul 25 14:06:13 2018 -0700

    change second tree URL from ha-na to ha:na

commit 6e7daf318e6eb318ef09a6ceeaed44d9acf50e90
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Wed Jul 25 13:23:03 2018 -0700

    Server logs content-encoding of fetched JSONs

commit 72a61a363bda8522ab8af72fc0e0fd24cc3aef7a
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Wed Jul 25 11:44:52 2018 -0700

    serve zipped JSONs

commit a3901d9b2b726fcd0e39d9353255079f71cbeb0d
Author: Emma Hodcroft <emmahodcroft@gmail.com>
Date:   Wed Jul 25 18:41:39 2018 +0200

    create zoom function, make genes searchable

commit 2481a8ac10ee09853e5205ed4995a5cb06cfa5f7
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Tue Jul 24 22:09:32 2018 -0700

    add second tree options for partial datapaths (if applicable)

commit 372fca023f62520d8e85470cf7cfaf2dfa0ac1bf
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Tue Jul 24 21:51:30 2018 -0700

    two column splash pages

commit 5be41a64856db09d99eba637ffb3d2ea88c24446
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Tue Jul 24 21:00:42 2018 -0700

    Allow local data directory command line override
    
    npm run server -- local:PATH or node server.js local:PATH
    where PATH is relative to the auspice directory

commit 175afa12c98d4dabe4d71fc53ed3d95a1c794705
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Tue Jul 24 20:39:09 2018 -0700

    add warning notification for deprecated ?tt=X syntax

commit 05d36ae541c57bbdf73999114a6d9f4dfd9796f4
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Tue Jul 24 19:35:57 2018 -0700

    Improve narrative UI & URL sync

commit afa7c89b9f93c645dda644db772d51f851f0c06e
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Tue Jul 24 17:42:55 2018 -0700

    narratives working

commit 4e71317481db5e0d44ae7ce2551adb04b993eee2
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Tue Jul 24 13:45:12 2018 -0700

    second tree working

commit 1c526a1dce8cbeca7f061de28658183ed25e9e66
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Tue Jul 24 11:32:32 2018 -0700

    server combines meta&tree JSONs

commit dc3d582a9f00818dc42f10565c5de539a5a1bf05
Author: Emma Hodcroft <emmahodcroft@gmail.com>
Date:   Tue Jul 24 17:16:13 2018 +0200

    only print labels large genes

commit e14db713b397598fe908c5445535906938c6d44a
Author: Emma Hodcroft <emmahodcroft@gmail.com>
Date:   Tue Jul 24 17:00:00 2018 +0200

    strand plot, adjust spacing

commit a8f4b87dbb13bf964aa7c480b1cb12446fd84cc0
Author: Emma Hodcroft <emmahodcroft@gmail.com>
Date:   Tue Jul 24 15:44:07 2018 +0200

    start strand, smooth partial gene plotting

commit d24f7a909c652dd3876bd34879997214619e1676
Author: Emma Hodcroft <emmahodcroft@gmail.com>
Date:   Tue Jul 24 12:17:57 2018 +0200

    actually get strand from json

commit 99dbb99b613fbb162ebfef056f6d5f0e94b35102
Author: Emma Hodcroft <emmahodcroft@gmail.com>
Date:   Tue Jul 24 12:10:10 2018 +0200

    improve axes numbering

commit a6de311f2cab651ea22f2684461219b5037dfc1a
Author: Emma Hodcroft <emmahodcroft@gmail.com>
Date:   Tue Jul 24 11:48:14 2018 +0200

    experimental gene zoom

commit 57b6017c9fe9e231071d971ec7174966e0f9e333
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Mon Jul 23 22:58:50 2018 -0700

    various bugfixes

commit a7bfd624a6b302f348b828eae5c533a00c6dc160
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Mon Jul 23 17:55:26 2018 -0700

    remove manifest, s3bucket etc from client
    
    remove entire datasets reducer

commit 7329458b2367bfab441a65ad68d52315ac0ef3a9
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Mon Jul 23 15:29:19 2018 -0700

    choose dataset dropdowns uses server provided datasets

commit 1905c4e62f5ff349bcc833ef8e1ad9ffe4c9be45
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Mon Jul 23 13:14:28 2018 -0700

    inject available datasets (etc) into meta.JSON

commit a2fb3f559c6ac2bb1cf7b78f0cae21455ac34e96
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Mon Jul 23 12:27:40 2018 -0700

    improve splash error message display

commit cc9fa628e26406fa95426682406e38b0b999b87b
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Mon Jul 23 11:56:25 2018 -0700

    keep splash & staging datasets out of redux

commit c3232fae311130e788472746df5d7c6434d499ac
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Sun Jul 22 12:46:17 2018 -0700

    splash pages working with server-fetched datasets

commit dfbee4fa88904f143c96af56873c33bd5f35efab
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Sun Jul 22 11:23:32 2018 -0700

    status pages working with server-fetched available datasets

commit 17bdf239b63deac3b0a0a78bafe26db4a8df2a48
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Sat Jul 21 15:23:18 2018 -0700

    Frequencies fetched only if needed

commit 601367551039edf09220b6939f4025d5e2180c30
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Fri Jul 20 17:01:09 2018 -0700

    add manifests & expand partial URLs

commit 13a20dcc04c979758bef57056b5481d0ec46973c
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Fri Jul 20 09:37:40 2018 -0700

    server gets URL, sends JSON (only exact matches)

commit 592e8c443c44507b6bbd9c91496c34489f8bfd07
Merge: 9d999ff3 5a57c88b
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Fri Jul 20 09:30:02 2018 -0700

    Merge pull request #603 from nextstrain/simplify-server
    
    simplify server

commit 5a57c88bac89fe517e2c2a72be13e5338c9aed17
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Thu Jul 19 17:48:41 2018 -0700

    server.js no longer needs to be transpiled

commit 9d999ff3baacc29b77887f4bb9b7f7b07985e309
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Thu Jul 19 17:11:11 2018 -0700

    version bump to 1.22.3 for release

commit c34cdb262648f8686fa0b83274d66d1498f65481
Merge: 4e1e7032 0ed5acf7
Author: Trevor Bedford <trevor@bedford.io>
Date:   Thu Jul 19 16:16:00 2018 -0700

    Merge pull request #599 from nextstrain/clean-up
    
    Improve README & remove electron

commit 4e1e703298417c6e2b3ebf9738d0628b95a5003f
Merge: 1651d835 e2bebe39
Author: Trevor Bedford <trevor@bedford.io>
Date:   Thu Jul 19 12:41:24 2018 -0700

    Merge pull request #600 from nextstrain/travis-deploy
    
    Add safety check to Travis deploy

commit e2bebe39e7d6a99ab7cb18b203eeea856efe0bf0
Author: Trevor Bedford <trevor@bedford.io>
Date:   Thu Jul 19 12:30:45 2018 -0700

    Add safety check to Travis deploy

commit 0ed5acf7539aed818bd59550d9ed75e8a7f3ce96
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Thu Jul 19 11:19:07 2018 -0700

    remove electron
    
    Electron has been broken for a long time. I'll make an issue about restoring it, as it would be nice functionality to have.

commit f3df284df30765f52809cc02417fc7d00c174241
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Thu Jul 19 11:07:02 2018 -0700

    Update README and tweak npm script names

commit 1651d835572483d0f9d42fd3852c7519a54b0600
Merge: f581e280 cdca0891
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Thu Jul 19 10:34:53 2018 -0700

    Merge pull request #589 from nextstrain/local-data-sans-dev-server
    
    Local data sans dev server

commit cdca08911cf62a109ac2474c43a0e0abe8360b56
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Thu Jul 19 10:29:39 2018 -0700

    add `npm run server:local` command

commit f581e2801843dbcba0e5099adccb5e6005ab9f5f
Merge: 81b50db0 7ddd0e5f
Author: Trevor Bedford <trevor@bedford.io>
Date:   Wed Jul 18 17:17:51 2018 -0700

    Merge pull request #597 from nextstrain/596
    
    Simplify counting of traits across tree

commit 7ddd0e5f3589fd7528bd147dd519502e22df9617
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Wed Jul 18 17:14:26 2018 -0700

    Simplify counting of traits across tree. Closes #596

commit 1a4bc81da555e64461e069ad12f4c97f186ae41d
Author: Thomas Sibley <tsibley@fredhutch.org>
Date:   Mon Jul 2 16:27:26 2018 -0700

    Restore ability to run the non-dev server with local data
    
    `npm run server localData` (which is `node server.dist.js localData`)
    was not working because during the webpack build process the __dirname
    reference came to refer to the repo root instead of src/server/.  This
    meant the server looked for a data dir two levels up.  In dev mode, the
    webpack hot-reloading managed to keep __dirname correct.
    
    This change adjusts the webpack configuration to preserve the __dirname
    of the *original* file (src/server/globals.js) instead of using the
    dirname of the *packed output* file (server.dist.js).
    
    That config change alone fixes the non-dev server with local data, but
    breaks the dev server with local data since the LOCAL_DATA_PATH became
    relative instead of absolute.  This necessitated resolving the path to
    an absolute one.
    
    __filename is also treated the same way for good measure, although it is
    not referred to in our own code.
    
    For more details on the webpack config in play here, refer to:
    
       https://webpack.js.org/configuration/node/#node-__dirname

commit 81b50db043ad0f09e945a85f98a0367c56eafa0f
Author: Trevor Bedford <trevor@bedford.io>
Date:   Sun Jul 15 15:43:01 2018 -0700

    Ping Travis CI rather than Docker Hub for image builds

commit 468c4bccd9d63af9da1e769b9ffdc61462c9c097
Author: Trevor Bedford <trevor@bedford.io>
Date:   Sat Jul 14 12:34:14 2018 -0700

    Automatic Docker image rebuild
    
    * Trigger Docker Hub automated build to rebuild via Travis CI when "release" branch is pushed and tests are successful

commit fa02b91ec9d303a1b1a6020f03d720483c7a0b29
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Tue Jul 10 19:32:36 2018 -0700

    version bump to 1.22.2 for release

commit 6e8edad6c53e521e7adf1cda5ed9ac6f1c76ed00
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Tue Jul 10 19:27:24 2018 -0700

    fix bug in node.attr parsing & counting

commit 538269f88164ed39d3345938484d58a7c4b53dab
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Mon Jul 9 11:47:59 2018 -0700

    version bump to 1.22.1 for release

commit 47e98c32b2e7db15540b637cfeadec74a94d8f9d
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Mon Jul 9 11:46:16 2018 -0700

    changelog

commit ea46761d17c40b68bcae98f0bcfc58d60081640b
Merge: d8242fcf 1a4b1ec1
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Mon Jul 9 11:43:00 2018 -0700

    Merge branch '593'
    
    * 593:
      Scan internal nodes for attr values. Closes #593

commit 1a4b1ec1957e14783923c9c373653481ea4b2b51
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Mon Jul 9 11:41:16 2018 -0700

    Scan internal nodes for attr values. Closes #593

commit d8242fcf7b0c0af51f2c7a08ae6683718d90dc9f
Merge: 493f9584 b21121d9
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Mon Jul 9 07:54:55 2018 -0700

    Merge pull request #592 from nextstrain/legend
    
    Removing legend duplicates, Add some month labels

commit b21121d951a3459d9abf048f6a2c0ed2386c4450
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Mon Jul 9 07:52:58 2018 -0700

    rename variables & comment

commit 331bd07962f9925cc4996bbe5056a8600bd7b4e8
Author: Emma Hodcroft <emmahodcroft@gmail.com>
Date:   Fri Jul 6 11:34:30 2018 +0200

    removing legend duplicates, add some month labels

commit 493f95845d1317d14ae8c29eb1264608980d9250
Author: Trevor Bedford <trevor@bedford.io>
Date:   Tue Jul 3 12:36:34 2018 -0700

    Upgrade request dependency

commit eaedcf0ac10ae7edce4674c03d43ec14d8d3f8af
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Tue Jul 3 10:39:08 2018 -0700

    version bump to 1.22.0 for release

commit 6f4f89bf99e9ebcdd31c28eb9241e2b4118c2e23
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Tue Jul 3 10:36:54 2018 -0700

    changelog

commit 96de098085ac66930ce42d64cde5888485fae0c3
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Tue Jul 3 10:22:51 2018 -0700

    Fix WNV footer colorBy link. Closes #590

commit c12342ca27d10e656e4829b40970a79ecafc92fc
Merge: fff4d0c7 99f7673b
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Tue Jul 3 10:20:02 2018 -0700

    Merge PR562: reinstate download modal
    
    * 562:
      Move to consistent modal styles
      Save newick as .nwk
      switch from CSV to TSV
      change entropy fonts
      remove console logs
      notifications for SVG save
      Add summary text to exported SVG
      add padding to panels & center entropy/freqs
      account for which panels are displayed & grid vs full layouts
      add map pan offsets to svg demes & transmissions
      change nested svg transforms to x, y offsets
      map tiles saved in SVG (including panning)
      working for frequencies & entropy
      save all panels to a single SVG (incomplete)
      Add Mousetrap to allow downloading via key-press
      Update citations in download modal
      Fix error when opening the download modal
      reinstate download data button & add citation to footer

commit 399e6ee0e88d065d7f5376f5096681b9a4b0b117
Author: Thomas Sibley <tsibley@fredhutch.org>
Date:   Mon Jul 2 16:22:46 2018 -0700

    Log the actual local data path in use in the server
    
    This is a more useful value to see than the placeholder /data.

commit fff4d0c70fd21a126b81ddf8407036f208bfcadd
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Mon Jul 2 14:20:43 2018 -0700

    changelog

commit 6f816a15e1a7bf453b519715a429aee63206ff2e
Merge: e6d7079e 46f5bcc5
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Mon Jul 2 14:08:54 2018 -0700

    Merge pull request #586 from nextstrain/meta-safety-checks
    
    Meta safety checks

commit 99f7673be7986130613d3ddd3e61eea36185583a
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Mon Jul 2 12:32:50 2018 -0700

    Move to consistent modal styles
    
    We need to centralize the styles better

commit 0eb47ff91602cb55847ae7aabb1890765ee3533f
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Mon Jul 2 12:02:46 2018 -0700

    Save newick as .nwk

commit c5e51888db0ba780ff8adf320d2785e46de847e6
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Mon Jul 2 12:01:54 2018 -0700

    switch from CSV to TSV

commit 08952cfb0383e0c1c6b4f14f1f5b8813b2f9ee19
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Thu Jun 28 14:19:15 2018 -0700

    change entropy fonts

commit bfcb4143bf6449097f3c4333c88d2f521bc42bea
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Thu Jun 28 14:00:42 2018 -0700

    remove console logs

commit 1c1f302f13e33aae79f76c64b00086a9b900af7f
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Thu Jun 28 13:47:59 2018 -0700

    notifications for SVG save

commit 53f01771448c3a2c566bb74e5f26305e3890410b
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Thu Jun 28 12:41:51 2018 -0700

    Add summary text to exported SVG
    
    fix bug regarding "&" character in SVG

commit 45711ff2c1e4520f3c356f4406f9b1db6a860820
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Thu Jun 28 10:33:02 2018 -0700

    add padding to panels & center entropy/freqs

commit 07b593db3c7f93180d7e38a80db5ae37a6827891
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Thu Jun 28 09:55:18 2018 -0700

    account for which panels are displayed & grid vs full layouts

commit 46f5bcc50fef76e3f8379ecc52b2e51be708eaac
Author: Trevor Bedford <trevor@bedford.io>
Date:   Wed Jun 27 18:08:32 2018 -0700

    Safety checks for meta json absence
    
    App now works without meta.json!

commit c18a499cfb4cbac6f68746573495c768d6e03bcc
Author: Trevor Bedford <trevor@bedford.io>
Date:   Wed Jun 27 17:53:28 2018 -0700

    Safety checks for meta.color_options
    
    Default to colorBy="none" when color_options is absent. When colorBy = "none", fall back to simple grayscale colorScale.

commit 3dac72a7182fe4ff2b7b3688792abd275feaa826
Author: Trevor Bedford <trevor@bedford.io>
Date:   Wed Jun 27 17:00:16 2018 -0700

    Safety checks for meta.panels
    
    If meta.panels absent default to just displaying tree

commit 4b9ac1af1b7a140285a5e1c7d95fe7637c5ddc6d
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Wed Jun 27 16:54:08 2018 -0700

    add map pan offsets to svg demes & transmissions

commit dd4c665348e25722cb4f9f1a24bb15ef192a8cd0
Author: Trevor Bedford <trevor@bedford.io>
Date:   Wed Jun 27 16:22:09 2018 -0700

    Safety checks for meta.geo
    
    Drop map panel if geo is absent

commit e1bd6082e6452d0723b1de162de86d42b4fefa93
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Wed Jun 27 16:11:53 2018 -0700

    change nested svg transforms to x, y offsets

commit b527b00b2226ff2594553f055fa2e2ecfd53d85f
Author: Trevor Bedford <trevor@bedford.io>
Date:   Wed Jun 27 16:08:20 2018 -0700

    Safety checks for meta.annotations
    
    App now works when meta.annotations is absent. Almost completely functional. Color by genotype doesn't do anything, but this is better than the previous crash behavior.

commit efdd07d7152b46c1ff36f806a79a5ba312f62512
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Wed Jun 27 15:48:49 2018 -0700

    map tiles saved in SVG (including panning)

commit 6d0ec4c4a40dfe7981448df20a189da89edbd38c
Author: Trevor Bedford <trevor@bedford.io>
Date:   Wed Jun 27 15:16:32 2018 -0700

    Allow dropping of entropy from panels
    
    Previously, entropy was always drawn even if panels did not specify it.

commit d873c5be57e722088e9bbe8efda1d76f6931e0ff
Author: Trevor Bedford <trevor@bedford.io>
Date:   Wed Jun 27 14:17:40 2018 -0700

    Safety checks for lack of meta.author_info
    
    App now works without meta.author_info. The tip info box just doesn't display these fields.

commit e6d7079e026ff7ced907cd0e5df5d2cf78d227c9
Author: Trevor Bedford <trevor@bedford.io>
Date:   Wed Jun 27 13:42:35 2018 -0700

    version bump to 1.21.3 for release

commit f250ba41cc67f618ed8a8f9bcb52a9fa93432f7e
Merge: b8a7b3ad d8111115
Author: Trevor Bedford <trevor@bedford.io>
Date:   Wed Jun 27 13:41:29 2018 -0700

    Merge pull request #585 from nextstrain/575
    
    Expand dataset pathnames appropriately. Closes #575

commit 506187f296dbeef7ca84f7dd107481ec00f2f53d
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Wed Jun 27 12:09:45 2018 -0700

    working for frequencies & entropy

commit 7c9a72778ee7ecc46a74b011511170a87685dbf0
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Wed Jun 27 11:48:50 2018 -0700

    save all panels to a single SVG (incomplete)

commit 0cbabb6996cc167be6174d3df0355217af42a750
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Wed Jun 27 09:33:43 2018 -0700

    Add Mousetrap to allow downloading via key-press

commit c6bc6b3cbe9128685c3b3a227aa71a2f31e68162
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Tue Jun 26 16:53:44 2018 -0700

    Update citations in download modal

commit 4946c822255b48e6d5dd1a0592e7a03ae5efe77d
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Tue Jun 26 16:38:45 2018 -0700

    Fix error when opening the download modal

commit 9fe77fc799271cc61f77d2d98472ba73aaa374c8
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Tue Jun 26 16:29:52 2018 -0700

    reinstate download data button & add citation to footer

commit b8a7b3ad9d5f81f9bcf6cf50e7acb34e24cc6178
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Tue Jun 26 13:58:53 2018 -0700

    Fix mismatched domain & range in temporal colour scale. Closes #580

commit d81111151a57445e6305500fe8285ef13706edd1
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Tue Jun 26 12:12:08 2018 -0700

    Expand dataset pathnames appropriately. Closes #575

commit d5cfa3d8898919c337ab456db02f4276abecb240
Merge: e6c224c1 48628b0d
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Tue Jun 26 11:58:41 2018 -0700

    Merge pull request #584 from nextstrain/security
    
    Upgrade compression-webpack-plugin, electron, mocha

commit 48628b0da940b92943f5f54e82eb9d01f212d382
Author: Trevor Bedford <trevor@bedford.io>
Date:   Tue Jun 26 09:18:44 2018 -0700

    Upgrade compression-webpack-plugin, electron, mocha

commit e6c224c136e54c80e2ecd4ae29763d44264fb03f
Merge: 96f93972 f00781f1
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Mon Jun 25 12:27:06 2018 -0700

    Merge pull request #583 from nextstrain/sans-manifest
    
    Improvements for running sans manifest

commit f00781f1a18978cd3f736f87ec9b6c2a224acf71
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Mon Jun 25 12:25:37 2018 -0700

    remove linting errors for spaces in comments

commit 33df4e748939b0811d3534f884f00285a5e43dd1
Author: Thomas Sibley <tsibley@fredhutch.org>
Date:   Fri Jun 22 16:08:11 2018 -0700

    Show the dataset path in the sidebar when running sans-manifest
    
    …instead of showing nothing where the normal dataset selection controls
    would be.  Showing the dataset path helps the user know what local files
    they're looking at.
    
    This also handles the case when we have a loaded manifest, but are
    showing a dataset path that's not in the manifest.

commit f6e2315778cd819866e2ff07ad87af07b425000e
Author: Thomas Sibley <tsibley@fredhutch.org>
Date:   Fri Jun 22 15:42:47 2018 -0700

    Fix error message when data can't be loaded for a nested dataset
    
    All underscores should be replaced, otherwise datasets like
    "flu/seasonal/h3n2/ha/3y" end up looking like "flu/seasonal_h3n2_ha_3y"
    in the error message.
    
    This is a minor thing, but I noticed it while auditing all the
    pathname/datapath replacement operations when making the previous fixes.

commit 546bf4d3e860aefbd48e95f6d64131d270b7fbc4
Author: Thomas Sibley <tsibley@fredhutch.org>
Date:   Fri Jun 22 14:56:25 2018 -0700

    Guard against multiple slashes in the URL dataset path
    
    …by replacing consecutive strings of them instead of just single
    instances.
    
    This allows URLs like //zika or /flu/seasonal//h3n2/ha/3y to still
    function, running both with and without a manifest.

commit c56c6a1bdf85ecf2dce9f539de6a41f88bb8414a
Author: Thomas Sibley <tsibley@fredhutch.org>
Date:   Fri Jun 22 15:46:14 2018 -0700

    Refactor URL pathname → datapath conversion
    
    …so that the with and without manifest states use the same logic and
    don't drift apart again.  An example of such drift was noticed and
    corrected in the previous commit.

commit 01b6cb852f24495a63d905b3e17087156cb78cae
Author: Thomas Sibley <tsibley@fredhutch.org>
Date:   Fri Jun 22 14:47:29 2018 -0700

    Allow direct browsing to "nested" datasets sans-manifest
    
    All of the intervening slashes in the dataset path need to be converted
    to underscores, not just the first, otherwise the /charon endpoint looks
    for file with the wrong name.
    
    This fixes browsing to datasets like /flu/seasonal/h3n2/ha/3y when
    running without a manifest.
    
    The same issue was recently fixed for the case when there _is_ a
    manifest loaded in commit "Replace all slashes with underscores when
    getting dataset path" (952e214).

commit ebcc0ea1f21c66fdaf417b07514b0444ab159fde
Author: Thomas Sibley <tsibley@fredhutch.org>
Date:   Fri Jun 22 14:42:32 2018 -0700

    Guard getSegmentName() against missing state when running without a manifest
    
    Restores the ability to, sans manifest, browse directly to a dataset
    like /zika, as documented in the quick start guide.
    
    This sort of guard on availableDatasets and datapath is found in several
    other places.

commit 96f93972b0385f3b81a47ebee1cda8378bc7383c
Merge: 901404de 265ca127
Author: Trevor Bedford <trevor@bedford.io>
Date:   Wed Jun 20 19:21:01 2018 +0100

    Merge pull request #582 from nextstrain/mut-rate
    
    It's "subs per site per year" and not "subs per year"

commit 265ca1270f9892679b4d9582347c339fa79f1ddb
Author: Trevor Bedford <trevor@bedford.io>
Date:   Mon Jun 18 08:47:47 2018 +0100

    It's "subs per site per year" and not "subs per year"
    
    Current display is inaccurate.

commit 901404defeb1cde344d8155f8ba644c9c8b514b5
Merge: b77755ff bebbd065
Author: Thomas Sibley <tsibley@fredhutch.org>
Date:   Tue Jun 12 09:28:12 2018 -0700

    Merge branch 'pr/581'

commit b77755ff0c6fa32f54d2dbd8b565a8b0d4565249
Merge: c17e77a9 53633e65
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Tue Jun 12 09:48:17 2018 +0200

    Merge branch 'second-tree-title'
    
    * second-tree-title:
      Second tree title is now correct after change. Closes #579

commit 53633e652aa8c29fcd46f5b46e0c4f39519ed72d
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Tue Jun 12 09:46:48 2018 +0200

    Second tree title is now correct after change. Closes #579

commit bebbd0656bea305a49b021b6c0aacc99fa14845b
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Tue Jun 12 09:12:13 2018 +0200

    don't attempt to load twitter script if not available

commit c17e77a9dd814d4dd34d5b09dcbb078e9c05375b
Author: Trevor Bedford <trevor@bedford.io>
Date:   Thu Jun 7 11:45:15 2018 -0700

    version bump to 1.21.2 for release

commit 63ea0ae4d748bccee7a21946ce4b70aa7dbd172d
Merge: 2a5c98b3 0624db93
Author: Trevor Bedford <trevor@bedford.io>
Date:   Thu Jun 7 11:44:33 2018 -0700

    Merge pull request #577 from nextstrain/detangle-flag
    
    Add untangle flag and set to false

commit 0624db93e6efd8cedde2538d6e5a4e431a56df9d
Author: Trevor Bedford <trevor@bedford.io>
Date:   Tue Jun 5 16:23:14 2018 -0700

    Add untangle flag and set to false

commit 2a5c98b39d490acf61fa3b0fd6e0a233eeff38fd
Merge: 49cff946 952e2144
Author: Trevor Bedford <trevor@bedford.io>
Date:   Tue Jun 5 16:18:10 2018 -0700

    Merge pull request #576 from nextstrain/multi-part
    
    Replace all slashes with underscores when getting dataset path

commit 952e2144b67340ae5f0f15d6fcc39075f5cf74fa
Author: Trevor Bedford <trevor@bedford.io>
Date:   Tue Jun 5 15:38:11 2018 -0700

    Replace all slashes with underscores when getting dataset path

commit 49cff946438ba37f57f56503f5ed7a739254b30c
Author: Barney Potter <barney.potter.24@gmail.com>
Date:   Tue Jun 5 15:11:15 2018 -0700

    Revert "Add global replacement of slashes with underscores to fix #538"
    
    This reverts commit 0ac4ca12b919c2492f3a25cd7f2aa51c6adf78e0.

commit 0ac4ca12b919c2492f3a25cd7f2aa51c6adf78e0
Author: Barney Potter <barney.potter.24@gmail.com>
Date:   Tue Jun 5 15:11:15 2018 -0700

    Add global replacement of slashes with underscores to fix #538

commit e489c409f773757d62e5fa1ff9b871b49a39f90e
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Mon Jun 4 13:07:27 2018 -0700

    version bump to 1.21.1 for release

commit f2502adfb9f1a25c8d7b25edee261f070f54c96b
Merge: 10a0abab 271685b0
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Mon Jun 4 13:06:55 2018 -0700

    Merge branch 'fix-narrative-bug'
    
    * fix-narrative-bug:
      change server static gitrepo address to nextstrain/static
      bugfix during narrative local

commit 271685b01dce52becef62c53010b1fe6b6f905de
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Mon Jun 4 13:05:31 2018 -0700

    change server static gitrepo address to nextstrain/static

commit 1ad54912bb9287ef4d522e96ccd8c2633721a22f
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Mon Jun 4 13:01:20 2018 -0700

    bugfix during narrative local

commit 10a0abab74efcc5be01d5e13070a2baba809b26a
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Fri Jun 1 16:03:59 2018 -0700

    version bump to 1.21.0 for release

commit 0556c3e08beb82285d70793c0a7583a1cedc5b5a
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Fri Jun 1 16:02:53 2018 -0700

    changelog

commit 6cb28a7408ab9aaa03b5291b0965b3f043201aa5
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Fri Jun 1 15:38:28 2018 -0700

    Fix hover date off-by-one bug. Closes #572

commit 7863ff07842c6b4a8b2065b349a1737676d2dec5
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Fri Jun 1 15:21:22 2018 -0700

    add segment names to tree panel

commit c0f8d71c3c9c6729e4b2abebf1a17989db37c3b4
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Fri Jun 1 14:12:00 2018 -0700

    fix untangling bug

commit 537899398ffe0c806ff2b8fe3cebf9d4777a6f27
Merge: 77925910 72e6e882
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Fri Jun 1 14:21:26 2018 -0700

    Merge pull request #573 from nextstrain/untangle
    
    Untangle

commit 72e6e882c1f05c7f0f575be1bbbc7c91848f48e8
Merge: 8f34811e 77925910
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Fri Jun 1 13:36:07 2018 -0700

    Merge branch 'master' into untangle
    
    * master: (111 commits)
      version bump to 1.20.3 for release
      allow app to function without a manifest file
      remove initial (unnecessary) data invalidation
      rename datasets.page to displayComponent to reduce confusion
      remove clientAPIInterface file. Simplify initial load logic.
      remove PageSelect component
      update server load message
      don't show sidebar until data is loaded
      narratives sourced from "/narratives/..." URLs
      version bump to 1.20.2 for release
      Base freq label threshold on maxY
      version bump to 1.20.1 for release
      Remove 0.0002 threshold from frequencies
      restore narratives. Scroll not perfect.
      add travis badges to readme
      Further cleanup of release script
      version bump to 1.20.0 for release
      Deploy from Travis CI on "release" branch
      Update release script to work with Travis CI
      Add lower-level links to navbar to prevent splash page flash
      ...

commit 8f34811e8c7a9eba213a9eb72b7fca352b4c296c
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Fri Jun 1 13:26:20 2018 -0700

    clean up

commit cfbaaa46b564d0308f4cf4d039fb486593ab8810
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Fri Jun 1 11:24:24 2018 -0700

    only recalc yvalues downstream of flipped node

commit 121be9ef4e9cf18dce9ec39233ce3e755905604c
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Thu May 31 15:29:48 2018 -0700

    untangling v1 by reversing children (postorder)

commit 77925910ea7aece7f1e1c1676bdafc90a01c3bc1
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Wed May 30 17:04:16 2018 -0700

    version bump to 1.20.3 for release

commit 9bf3b8f266184c461b46bf43d24f976cc71ec06c
Merge: 261acb7b 9f38f60c
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Wed May 30 16:59:40 2018 -0700

    Merge branch 'slash-narrative'
    
    * slash-narrative:
      allow app to function without a manifest file
      remove initial (unnecessary) data invalidation
      rename datasets.page to displayComponent to reduce confusion
      remove clientAPIInterface file. Simplify initial load logic.
      remove PageSelect component
      update server load message
      don't show sidebar until data is loaded
      narratives sourced from "/narratives/..." URLs

commit a4f682932524527aa7ef9076c799799b39238c3b
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Wed May 30 16:58:25 2018 -0700

    clean up 2nd tree calls. No untangling.

commit 9f38f60c5ce5656d5dc6230cbaea14dc57160c2a
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Fri May 25 16:40:03 2018 -0700

    allow app to function without a manifest file

commit c5adf1fe829f411f0454bf8c8c8f5225d9dcf357
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Thu May 24 14:57:02 2018 -0700

    remove initial (unnecessary) data invalidation

commit 1a7dbcf0479153e3b94b25b331b4bef32f05eab2
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Thu May 24 14:39:42 2018 -0700

    rename datasets.page to displayComponent to reduce confusion

commit 15d6c42b3df8bb789813ad3afd0e13bb275b42b9
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Thu May 24 14:31:49 2018 -0700

    remove clientAPIInterface file. Simplify initial load logic.

commit 94bdd9c4afd9a4c50009d7a51f74ce50d09f5dcc
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Thu May 24 14:15:22 2018 -0700

    remove PageSelect component

commit b77c6d316d3d5f2a7202dc49be0059ad101050bd
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Thu May 24 09:23:36 2018 -0700

    update server load message

commit 00793fbf80ec7cb669812c5f1578d44c8d3456c7
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Wed May 23 18:24:45 2018 -0700

    don't show sidebar until data is loaded

commit 9a5d0e92c37b7f7fa8f2d4c31a7f76020fd64cc5
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Wed May 23 18:04:42 2018 -0700

    narratives sourced from "/narratives/..." URLs
    
    * narrative markdown syntax changed - needs dataset defined as well
    * incomplete

commit 261acb7b5136f67e2e35f1d6506392c06ec9c507
Author: Trevor Bedford <trevor@bedford.io>
Date:   Mon May 21 08:57:30 2018 -0700

    version bump to 1.20.2 for release

commit f711e0415065bfa3bbe5ad740a88064528ed3aeb
Author: Trevor Bedford <trevor@bedford.io>
Date:   Mon May 21 08:21:12 2018 -0700

    Base freq label threshold on maxY

commit 2859f019bbadb0afeb42232c83400bc69fd77a85
Author: Trevor Bedford <trevor@bedford.io>
Date:   Mon May 21 08:01:49 2018 -0700

    version bump to 1.20.1 for release

commit 6909901967c19567263a461cbc1bab9c73b2eb60
Author: Trevor Bedford <trevor@bedford.io>
Date:   Mon May 21 08:00:30 2018 -0700

    Remove 0.0002 threshold from frequencies
    
    Was causing bugs with rounding and display of small clades.

commit 9bbca47a3a14e6475b7a36677c1f5137663cf7fe
Merge: f6e699c6 adf4bc48
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Sat May 19 15:23:03 2018 -0700

    Merge branch 'fix-narrative'
    
    * fix-narrative:
      restore narratives. Scroll not perfect.

commit adf4bc48125bb0ac4f6e1e4feae8c611c84d76b7
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Sat May 19 15:22:23 2018 -0700

    restore narratives. Scroll not perfect.

commit f6e699c634bdeff95625bec97e6967e2f79e6b76
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Tue May 15 11:36:12 2018 -0700

    add travis badges to readme

commit 909a3a3e5c308d8931a3b29648ff47f2a477c534
Author: Trevor Bedford <trevor@bedford.io>
Date:   Tue May 15 09:12:56 2018 -0700

    Further cleanup of release script

commit 88630b00d8d624a33815d8b9b1729705107b9a8a
Author: Trevor Bedford <trevor@bedford.io>
Date:   Tue May 15 09:10:01 2018 -0700

    version bump to 1.20.0 for release

commit cdb01971bb3d9426b56a2367e214f4fc500b3828
Author: Trevor Bedford <trevor@bedford.io>
Date:   Tue May 15 09:04:39 2018 -0700

    Deploy from Travis CI on "release" branch

commit af011fcdde464d8a303525eb49aa7efa132754cb
Author: Trevor Bedford <trevor@bedford.io>
Date:   Tue May 15 09:03:24 2018 -0700

    Update release script to work with Travis CI

commit e03d5f18fa6406036efd707dc2e6ad8c7382f634
Merge: 7723f10e acc4ccdc
Author: Trevor Bedford <trevor@bedford.io>
Date:   Tue May 15 08:56:49 2018 -0700

    Merge branch 'prerelease'

commit acc4ccdc8da9ab4e35db91d1c47240a768aff9d9
Author: Trevor Bedford <trevor@bedford.io>
Date:   Mon May 14 21:20:44 2018 -0700

    Add lower-level links to navbar to prevent splash page flash

commit 13f8920e9032345610d422f8bd40a88707268105
Author: Trevor Bedford <trevor@bedford.io>
Date:   Mon May 14 21:15:52 2018 -0700

    Add Travis CI badges to status page

commit 5c78f124885e5147e0084d28c8239525f5ed3d12
Author: Trevor Bedford <trevor@bedford.io>
Date:   Sun May 13 08:56:33 2018 -0700

    Small fix to get-data script

commit 5f3619463576b4d628147d14e753c69ff8f4b282
Merge: 8cc03efc 4627ec18
Author: Trevor Bedford <trevor@bedford.io>
Date:   Sun May 13 08:50:49 2018 -0700

    Merge branch 'cleanup' into prerelease

commit 8cc03efcd162c2464b2c265debe57e9a9d185eec
Merge: c99139e0 531bbf9b
Author: Trevor Bedford <trevor@bedford.io>
Date:   Sun May 13 08:49:32 2018 -0700

    Merge branch 'tree-adjustments' into prerelease

commit 4627ec181a2700209c564028abd1336aac788ebb
Author: Trevor Bedford <trevor@bedford.io>
Date:   Sat May 12 20:52:48 2018 -0700

    Cleanup repo / readme
    
    * Update readme
    * Add postinstall empty data directory script
    * Move npm scripts to scripts/ directory

commit 531bbf9bbfb5e61ab1de988e73a5d3a17f12f3d0
Author: Trevor Bedford <trevor@bedford.io>
Date:   Sat May 12 16:33:41 2018 -0700

    Update tips on initial render and slightly increase y margins

commit c99139e0e4898e95d97f37e0a7c4e9700806fd59
Author: Trevor Bedford <trevor@bedford.io>
Date:   Sat May 12 10:59:45 2018 -0700

    Temporarily remove help / tutorial navbar link

commit 447a704eb1236e011af621108cad084f04a07676
Merge: 68030940 a151803b
Author: Trevor Bedford <trevor@bedford.io>
Date:   Sat May 12 10:47:18 2018 -0700

    Merge branch 'getdata' into prerelease

commit 7723f10eea411324e9a2d381670bc6f5d8f20a9a
Merge: df392c0b a151803b
Author: Trevor Bedford <trevor@bedford.io>
Date:   Sat May 12 10:46:44 2018 -0700

    Merge branch 'getdata'

commit a151803b542f2fbe025b078eec71f5949c6d4f7b
Author: Trevor Bedford <trevor@bedford.io>
Date:   Sat May 12 10:46:25 2018 -0700

    Update getdata script

commit 68030940aafcfca494bdbcbde2a352232d7b63df
Merge: d06b79ce 11241ad6
Author: Trevor Bedford <trevor@bedford.io>
Date:   Fri May 11 19:24:34 2018 -0700

    Merge branch 's3-upload' into prerelease

commit 11241ad6f2e43054d3b160004684f2ea69f1a193
Author: Trevor Bedford <trevor@bedford.io>
Date:   Fri May 11 19:24:06 2018 -0700

    Only push to S3 on prerelease branch

commit 0a23652bdc6beb489d67f58f304c52e2009753cb
Author: Trevor Bedford <trevor@bedford.io>
Date:   Fri May 11 18:11:14 2018 -0700

    Gzip and upload to S3

commit d06b79ce6cd51d145ee438dbc48ae1632553fe1d
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Fri May 11 16:41:05 2018 -0700

    add navbar to splash

commit 3f99595d28db645ae51d24a005331da6bdaff546
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Fri May 11 16:39:31 2018 -0700

    change nav-bar names & links

commit 4e9fbc2398d673006a3002ba279d10504e2ed859
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Fri May 11 16:31:44 2018 -0700

    add version to footer. remove download link (currently broken)

commit 6239f1ff32eb1223789c46f712863cfa69de6ef1
Merge: 5d636821 df392c0b
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Fri May 11 10:36:53 2018 -0700

    Merge branch 'master' into no-static
    
    * master:
      Update package lock
      Update Travis CI script with deploy

commit 5d636821da1b72490df96aade0d2a6649e2d35d3
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Fri May 11 10:33:25 2018 -0700

    remove /src/static

commit 70220ec43f370441f30c12ef72a0bb9f9a3c3ae8
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Fri May 11 10:17:15 2018 -0700

    add manifest error handling

commit 7e5944a968ff322e0af2a47c12fb32d82b2352a7
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Fri May 11 10:11:11 2018 -0700

    add error messages to splash page

commit df392c0b5b7768acc9849e4bc66eefdbacf74870
Author: Trevor Bedford <trevor@bedford.io>
Date:   Thu May 10 21:53:48 2018 -0700

    Update package lock

commit e2464bfbbbefe270ed46223c9df52339dfa4685c
Author: Trevor Bedford <trevor@bedford.io>
Date:   Thu May 10 21:45:09 2018 -0700

    Update Travis CI script with deploy

commit 261898bdaf8785511da3075d94133543473e7eae
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Thu May 10 17:00:50 2018 -0700

    tidy up page navigation within auspice app

commit 57049f8fe11d4ec77ea4fe955198d9ae78e45679
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Thu May 10 16:53:22 2018 -0700

    replace splash page with a list of available datasets

commit 505e232fb451018a2ece5247a6da356cf58844d6
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Thu May 10 12:25:53 2018 -0700

    fix server bug when serving local files

commit 6f1b34e57317ae0d8ce181bd2a7b95520c92feb8
Merge: ceb7bf4d 27ba14f3
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Thu May 10 11:45:41 2018 -0700

    Merge branch 'server-tidyup'
    
    * server-tidyup:
      Swap postinstall for heroku-postbuild
      minor bugfix
      more tweaks
      remove loader token
      move more server logic to functions

commit 27ba14f3c30cdc0e774a7ce7123708d61d0c598e
Author: Trevor Bedford <trevor@bedford.io>
Date:   Wed May 9 22:57:13 2018 -0700

    Swap postinstall for heroku-postbuild

commit 5a46ea63c7292fd920e32c40f363100d1d9cdec7
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Wed May 9 15:44:32 2018 -0700

    minor bugfix

commit cab39c1b65ecdbdf1a22b6e7529fab23862f6e32
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Wed May 9 14:57:27 2018 -0700

    more tweaks

commit 3760b0b1c9bf5e9bcbc956e67b9f70134fa48e7b
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Wed May 9 14:52:51 2018 -0700

    remove loader token

commit 7cbea359779ce8de115f84480cfab748f48bf7bf
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Wed May 9 14:52:25 2018 -0700

    move more server logic to functions

commit ceb7bf4dea395706c5eb9c398405b4d3a7f3c5f4
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Wed May 9 10:18:21 2018 -0700

    version bump to 1.19.1 for release

commit 62f73096115ecc61a092c2548d69f8d2a8145de4
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Wed May 9 10:10:59 2018 -0700

    fix bug where proteins starting with a number were assumed to be nuc

commit 2a00b9364005026ddc245a9e2a3a39d795f18146
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Wed May 9 09:47:34 2018 -0700

    update get data script

commit d98302b8b409ce0d4e49a636635a44eda7076d4c
Author: Trevor Bedford <trevor@bedford.io>
Date:   Wed May 9 09:12:11 2018 -0700

    version bump to 1.19.0 for release

commit e103a040f4804b98ebf9569b4f883f3012b55704
Author: Trevor Bedford <trevor@bedford.io>
Date:   Wed May 9 09:07:43 2018 -0700

    Remove link to posting

commit 950547133a6041a9f7ee7e23f57c52b939874154
Merge: ea314359 aa0644cc
Author: Trevor Bedford <trevor@bedford.io>
Date:   Wed May 9 07:32:54 2018 -0700

    Merge pull request #559 from nextstrain/styles
    
    Restore sidebar chevron and make inline

commit ea31435901318730171065e2f6f9b82d5bbd6907
Author: Trevor Bedford <trevor@bedford.io>
Date:   Wed May 9 00:22:05 2018 -0700

    More appropriate significant digits in rate estimate

commit aa0644cc7c4a0d04b05c4f821ff4b7f955c7ab8b
Author: Trevor Bedford <trevor@bedford.io>
Date:   Wed May 9 00:04:32 2018 -0700

    Hide chevron with full width navbar

commit aa5eaaec59929c6eaf6f0062d9f31e4512179540
Author: Trevor Bedford <trevor@bedford.io>
Date:   Tue May 8 23:58:09 2018 -0700

    Add inline SidebarChevron component

commit f808ab0b27e4246f1c8c6e3b9398a2d5e4feaa9f
Author: Trevor Bedford <trevor@bedford.io>
Date:   Tue May 8 22:50:54 2018 -0700

    Pad controls and card surrounds
    
    Makes sidebar tab feel less squeezed and fixes mobile sidebar horizontal scroll bug

commit bb72789deebbdab80eaca18d7eb230afdc60300b
Author: Trevor Bedford <trevor@bedford.io>
Date:   Tue May 8 20:40:24 2018 -0700

    Fix sticky iOS scrolling

commit c81dbd576b102af489de4abbb7a847af2064dd06
Author: Trevor Bedford <trevor@bedford.io>
Date:   Tue May 8 19:31:28 2018 -0700

    Upgrade package-lock

commit 82352b0c1ae224cbc2e21d6c10840bb53fc288e1
Merge: c933d370 84e669ea
Author: Trevor Bedford <trevor@bedford.io>
Date:   Tue May 8 19:30:11 2018 -0700

    Merge branch 'styling'

commit 84e669ea322879ced972ae38611d5332cf1c167b
Author: Trevor Bedford <trevor@bedford.io>
Date:   Tue May 8 18:03:23 2018 -0700

    Restore sidebar toggle on desktop

commit c933d3709dd8a6906808f4820855ff7bdaeac886
Merge: 70abf1ec 5d21b9db
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Tue May 8 16:47:53 2018 -0700

    Merge pull request #558 from nextstrain/remove-svg-pan-zoom
    
    Remove svg pan zoom

commit 5d21b9db55c39ab4781bbf73522a7490cca44c99
Author: Trevor Bedford <trevor@bedford.io>
Date:   Tue May 8 16:38:05 2018 -0700

    Fix bug with branch hovers

commit 56fbb8a1f2648bb80e5110a083de247aa2d3130d
Author: Trevor Bedford <trevor@bedford.io>
Date:   Tue May 8 14:37:09 2018 -0700

    Excise react-svg-pan-zoom

commit 70abf1ecc00e8cf780654137a2cd5e2f022b3488
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Tue May 8 16:18:57 2018 -0700

    tweak clade view padding. Fixes bug with divergence metric.

commit 6784ea473ad50a7a9625a9c963d743517b587e73
Merge: a72ceb60 ebf24583
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Tue May 8 16:10:29 2018 -0700

    Merge branch '554'
    
    * 554:
      reinstate branch thickness changes. Closes #544

commit ebf24583de23a3c5a2f02441e00dfb47b53aba01
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Tue May 8 15:53:15 2018 -0700

    reinstate branch thickness changes. Closes #544

commit a72ceb605553a2bcd050083fd8f884062e4827a3
Merge: 21e6117f 5bf19624
Author: Trevor Bedford <trevor@bedford.io>
Date:   Tue May 8 15:35:49 2018 -0700

    Merge pull request #557 from nextstrain/tip-labels
    
    Small improvements to tip labels

commit 5bf196242148e7057f80211f5d01d10d71beee03
Author: Trevor Bedford <trevor@bedford.io>
Date:   Tue May 8 15:29:51 2018 -0700

    Move tip label sizing to PhyloTree params

commit d23807c5ca41abae678498c5fb2a5705977a2fd2
Author: Trevor Bedford <trevor@bedford.io>
Date:   Tue May 8 15:06:57 2018 -0700

    Improve tip sizing and padding
    
    Three breaks at <25 (large text), <50 (medium text), <75 (small text) and >75 (no labels)

commit 21e6117f0b12f042e6d8ea3059b407f0d35047b3
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Tue May 8 14:17:00 2018 -0700

    update WNV footer

commit 6a90d1862f558082c32ab804b1df3bd983c69620
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Tue May 8 12:17:33 2018 -0700

    show tips for up to 100 sequences

commit 420d6117d1f3c9ae55dc378892609d366f120129
Merge: 171c7528 8a0233fa
Author: Trevor Bedford <trevor@bedford.io>
Date:   Tue May 8 13:36:39 2018 -0700

    Merge pull request #556 from nextstrain/clade-zoom-behavior
    
    Clade zoom behavior

commit 8a0233fa498f51cb440bee6b22bb7ee447326b00
Author: Trevor Bedford <trevor@bedford.io>
Date:   Mon May 7 18:50:15 2018 -0700

    Pad based on character count

commit 19a797236fd1b236b3c89cd101e16145dd5d1f14
Author: Trevor Bedford <trevor@bedford.io>
Date:   Mon May 7 18:38:32 2018 -0700

    Pads x range by fixed amount if tip labels visible

commit a728c60824b50d4f99f5d49e60d8854258b98b9c
Author: Trevor Bedford <trevor@bedford.io>
Date:   Mon May 7 17:16:18 2018 -0700

    Tapping overlay closes sidebar rather than toggling

commit a0c46bfe463ba840b8513d678eb6fe1ca4cac89d
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Mon May 7 11:00:34 2018 -0700

    calculate y-values in auspice

commit 171c7528f1cb8fc1444fcda57888fe2f874ab7d5
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Mon May 7 10:28:15 2018 -0700

    version bump to 1.18.10 for release

commit e860e5fc6fceb8f84f28a70f2ebc2438a8df9d87
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Mon May 7 10:27:03 2018 -0700

    changelog

commit 4f6d2595167caee6c0135ba36ef4c7adcea85136
Merge: 4a72792a dd8b6060
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Mon May 7 10:18:52 2018 -0700

    Merge pull request #549 from nextstrain/frequencies-y-max
    
    Change to simple y max for frequencies

commit 4a72792ac5209df515412a698100cd21fff0ee62
Merge: 97a4e94c 554017ec
Author: Trevor Bedford <trevor@bedford.io>
Date:   Mon May 7 08:38:48 2018 -0700

    Merge pull request #552 from nextstrain/sort_N_infopanel
    
    Separate Nucleotide and Gap/N Mutations in Hover infoPanel

commit 554017ecfa184ce12d4cfec655a52f30bdf85714
Author: Trevor Bedford <trevor@bedford.io>
Date:   Mon May 7 08:25:16 2018 -0700

    Linting pass

commit 0e0af86d74a0868116cb50a4d2486e02a17898f3
Author: Emma Hodcroft <emmahodcroft@gmail.com>
Date:   Mon May 7 14:04:28 2018 +0200

    Set tab to spaces in infoPanel edit code

commit 31141ef945a3c676d805ef8edbf4907bed49719b
Author: Emma Hodcroft <emmahodcroft@gmail.com>
Date:   Mon May 7 13:02:54 2018 +0200

    Separate nuc/gap muts in hover infoPanel

commit 97a4e94c728da09c93251ad54b6587308ee37b2e
Merge: 4e83af79 d6085384
Author: Trevor Bedford <trevor@bedford.io>
Date:   Sun May 6 19:10:32 2018 -0700

    Merge pull request #551 from nextstrain/tweets-fix
    
    Switch to react plugin for twitter embed

commit d60853843ad39065de9acf3f6b4aab3e9569578c
Author: Trevor Bedford <trevor@bedford.io>
Date:   Sun May 6 19:04:20 2018 -0700

    Switch to react plugin for twitter embed

commit 74449aa99e70a8b0973283b864430004d6f46329
Author: Trevor Bedford <trevor@bedford.io>
Date:   Sun May 6 17:39:50 2018 -0700

    Remove titlebarHeight global parameter
    
    Only used in one place

commit 39dec0eae9fa949f1e6c934311404592e2e05be4
Author: Trevor Bedford <trevor@bedford.io>
Date:   Sun May 6 16:33:34 2018 -0700

    Rename TitleBar to NavBar

commit bd58a1d65e0074a552e5e3b153540eb324933517
Author: Trevor Bedford <trevor@bedford.io>
Date:   Sun May 6 13:42:30 2018 -0700

    Remove search from Select fields
    
    Search is janky on mobile

commit 97d54b054588b48a1bef299be56b6a29b319f355
Author: Trevor Bedford <trevor@bedford.io>
Date:   Sun May 6 12:04:22 2018 -0700

    Improve controls spacing

commit feb472ced3a1100f4d0cc782d59f6a3f6964420a
Author: Trevor Bedford <trevor@bedford.io>
Date:   Sun May 6 11:48:50 2018 -0700

    Debug overlay on mobile

commit eb01deb2f583e74cb5a49c19a9fe8325a07a3085
Author: Trevor Bedford <trevor@bedford.io>
Date:   Sun May 6 11:38:22 2018 -0700

    Improve touch interactions

commit 1f022fff72b5b598896e56a03925ad3830bcdc8f
Author: Trevor Bedford <trevor@bedford.io>
Date:   Sun May 6 11:01:18 2018 -0700

    Rename sidebar toggle

commit c8a4793ce111544c116235206007587d4ff34b6d
Author: Trevor Bedford <trevor@bedford.io>
Date:   Sun May 6 10:58:58 2018 -0700

    Only display sidebar toggle on mobile

commit b034d323e565171e175a571efc9de391966dc9b9
Author: Trevor Bedford <trevor@bedford.io>
Date:   Sun May 6 10:44:46 2018 -0700

    Make titlebar inline with controls

commit 0a63cf6b2421b3f36b0cf5b4282a72388be84f50
Author: Trevor Bedford <trevor@bedford.io>
Date:   Sun May 6 10:21:49 2018 -0700

    Convert sidebar toggle to button

commit 5ccad95009baed9c00261404b7c1adb0bcf94c8d
Author: Trevor Bedford <trevor@bedford.io>
Date:   Sun May 6 01:55:35 2018 -0700

    Add overlay to cover panels in mobile

commit dd8b6060c16a0a03b5c115acc506752bf7b5644a
Author: Trevor Bedford <trevor@bedford.io>
Date:   Sat May 5 23:58:17 2018 -0700

    Change to simple y max for frequencies

commit 69281d4c67e93fa9a8fbfe30394d2fc13f3a9b55
Author: Trevor Bedford <trevor@bedford.io>
Date:   Sat May 5 18:31:08 2018 -0700

    Slightly pad y domain to account for small clades

commit 8803567cc509a5c638be0028ebe259e2199838d5
Author: Trevor Bedford <trevor@bedford.io>
Date:   Sat May 5 18:09:09 2018 -0700

    Deactivate reset layout button when zoomed out

commit 3a8734b6cdfa7889303eabb72cc682c73595113b
Author: Trevor Bedford <trevor@bedford.io>
Date:   Sat May 5 17:44:49 2018 -0700

    Adjust reset layout
    
    * Make button just reset layout, this seems to be less buggy
    * Remove "View entire tree" from info panel, I think "reset layout" is more obvious

commit 92211f82c551f34e308fa842b658fb2c46684842
Author: Trevor Bedford <trevor@bedford.io>
Date:   Sat May 5 16:53:22 2018 -0700

    Improve sidebar open/close behavior
    
    * Properly animate slide in and slide out
    * Switch to floating circle for toggle

commit 18b8a71e0ae25ff144e3dd6ef6588a10ff1f6515
Author: Trevor Bedford <trevor@bedford.io>
Date:   Sat May 5 14:08:35 2018 -0700

    Make buttons consistent
    
    * Implement "tabs" to make buttons in panels more obviously clickable, use for tree reset layout and entropy switches
    * Make uppercasing of buttons more consistent
    * Embolden page title
    * Adjust card margins

commit e93d3ecee77c25f6bb96848b115aa2a4014ce023
Author: Trevor Bedford <trevor@bedford.io>
Date:   Fri May 4 20:34:17 2018 -0700

    Styling adjustments
    
    * Bold titles
    * Bigger touch target for sidebar toggle
    * Thinner drop shadow

commit 4e83af793309c27a30c7710698c26222417d758c
Author: Trevor Bedford <trevor@bedford.io>
Date:   Thu May 3 18:05:11 2018 -0700

    version bump to 1.18.9 for release

commit eb8a377252ba0a50a0ed94e500ca9229450d0e79
Merge: ffff9327 60d5c47f
Author: Trevor Bedford <trevor@bedford.io>
Date:   Thu May 3 18:03:41 2018 -0700

    Merge pull request #548 from nextstrain/ci
    
    Continuous integration through Travis CI

commit 60d5c47fb9247194df8d0bfcf384e2102fef1f70
Author: Trevor Bedford <trevor@bedford.io>
Date:   Thu May 3 17:49:20 2018 -0700

    Start versioning package-lock

commit c9d4c8f32c49f8b97f3ae1dfabebdd05005bb25f
Author: Trevor Bedford <trevor@bedford.io>
Date:   Thu May 3 17:48:11 2018 -0700

    Include Travis CI config

commit ffff9327eb6aec87c559cc744da5082972dd9e07
Author: Trevor Bedford <trevor@bedford.io>
Date:   Thu May 3 17:43:14 2018 -0700

    Update flu acknowledgements

commit 1e7301c72acf36ba31e70c174e8fdc85e9126840
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Wed May 2 16:40:17 2018 -0700

    version bump to 1.18.8 for release

commit ee4bca6a58a8175f7fdd1cfaf60dd1796fc818b4
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Wed May 2 16:39:51 2018 -0700

    temporary fix for map transmissionIndices errors

commit 2ada55aa5012653d444a3fd18e9d4de151edc9c1
Author: Trevor Bedford <trevor@bedford.io>
Date:   Wed May 2 10:00:41 2018 -0700

    version bump to 1.18.7 for release

commit 8827ec95f86745457ee5b22b591f10f9c37489bf
Merge: 6b782335 8f9bd18e
Author: Trevor Bedford <trevor@bedford.io>
Date:   Wed May 2 09:56:17 2018 -0700

    Merge pull request #545 from nextstrain/fix-toggle
    
    Fix toggle position and remove extraneous whitespace

commit 6b782335e50921ca448e8f20e491cc53b4d6d67d
Merge: ad4bd7f2 6f0d6dde
Author: Trevor Bedford <trevor@bedford.io>
Date:   Wed May 2 09:55:45 2018 -0700

    Merge pull request #546 from nextstrain/fix-freq-x-range
    
    Fix frequencies x range

commit 6f0d6ddec6b2d7bedaf6c198112fb8afd7b4ea20
Author: Trevor Bedford <trevor@bedford.io>
Date:   Tue May 1 17:04:20 2018 -0700

    Fix frequencies x range

commit 8f9bd18e97c1ae245b189ffab5ea395c7d12ec28
Author: Trevor Bedford <trevor@bedford.io>
Date:   Tue May 1 16:47:35 2018 -0700

    Fix toggle position and remove extraneous whitespace

commit ad4bd7f2e6bc04701deabfdd4bf666d68619f514
Merge: 970abb78 f19d9b50
Author: Trevor Bedford <trevor@bedford.io>
Date:   Tue May 1 16:31:05 2018 -0700

    Merge pull request #539 from nextstrain/linting
    
    Linting pass

commit f19d9b5051caa9fec9e138bc2fda30f650cc6709
Author: Trevor Bedford <trevor@bedford.io>
Date:   Tue May 1 16:27:01 2018 -0700

    Relint footer

commit 7e1932b8145d27915a27b0dbe3efe405ecd5301f
Author: Trevor Bedford <trevor@bedford.io>
Date:   Tue May 1 16:25:37 2018 -0700

    Import footer from master

commit 970abb78e53816171c2bc22d6915039c6bf735f6
Merge: 54e73de8 b7e1760e
Author: Trevor Bedford <trevor@bedford.io>
Date:   Tue May 1 15:49:12 2018 -0700

    Merge pull request #544 from nextstrain/temporal-colour-scale
    
    modify temporal color scale & legend to focus on tip dates

commit 54e73de8baf51c500b90ad70ffa1f77cd57cdc85
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Mon Apr 30 16:07:38 2018 -0700

    version bump to 1.18.6 for release

commit 8c304bdf4728eb102d279ceba16a3894f421b016
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Mon Apr 30 16:07:18 2018 -0700

    update WNV footer

commit c83a40785fd4d615f9e1b86e8305246610c6f5f1
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Fri Apr 27 16:44:33 2018 -0700

    version bump to 1.18.5 for release

commit 83692e79b179cd8b369b484bc5a7a776d56fdc2c
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Fri Apr 27 15:48:19 2018 -0700

    update WNV footer

commit 55e76dc123647cbf3742d82c74abb46fa26052b8
Author: Richard Neher <richard.neher@unibas.ch>
Date:   Fri Apr 27 17:43:04 2018 +0200

    gradient ascent for rank correlation

commit fe056f4002bd941789ab676f1e13dc8f19a954d0
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Thu Apr 26 15:36:16 2018 -0700

    version bump to 1.18.4 for release

commit f5ca47225deb2f9662a346ba06c6ee58f9aa83a6
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Thu Apr 26 15:04:10 2018 -0700

    use exponential format for clock rate

commit 16990aeecc91de3397cb7b27903f43eda39e42d3
Author: Richard Neher <richard.neher@unibas.ch>
Date:   Thu Apr 26 23:31:18 2018 +0200

    remove log statements

commit bf1920446f0733dce71521f3950ce291343a5b78
Author: Richard Neher <richard.neher@unibas.ch>
Date:   Thu Apr 26 23:18:11 2018 +0200

    untangle by average tip y-value

commit 7884b55ff41bff7d1696b98321df4bc2f0f29fd2
Author: Richard Neher <richard.neher@unibas.ch>
Date:   Thu Apr 26 21:13:59 2018 +0200

    rudimentary untangling, only works for slightly tangled things

commit 0e7e5a08ca90c2b8ca26c0681bd3f7746056a386
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Mon Apr 23 15:30:09 2018 -0700

    version bump to 1.18.3 for release

commit 78d6d3f7f48e45e7a409b6739e7fe9572aab2074
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Mon Apr 23 15:29:10 2018 -0700

    changelog

commit 44bc833892cf157709f6ae0b554137b1c92407a4
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Mon Apr 23 15:24:54 2018 -0700

    update LASV footer

commit f35df43fbcf46e1134b35878eab253df121b1581
Merge: eb8f3e68 f44e5f3b
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Mon Apr 23 15:01:58 2018 -0700

    Merge branch 'WNV'
    
    * WNV:
      updated footers
      Add genotype links to WNV footer

commit b7e1760e3179a9c42b9b276217c41e6b5adb0727
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Mon Apr 23 13:52:24 2018 -0700

    space colorScale according to tip sampling

commit 4899ef47029603f37acb64296e06d0491219cbeb
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Mon Apr 23 11:58:21 2018 -0700

    modify temporal color scale & legend to focus on tip dates

commit eb8f3e686e0bd74ba0562ab074dcb1776a0a0334
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Mon Apr 16 14:57:25 2018 -0700

    changelog

commit 708945a4cbd205fffe7173d3c3af6c229d6bdbd9
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Mon Apr 16 14:54:10 2018 -0700

    version bump to 1.18.2 for release

commit c5059455ee4107e9a25469c3a610221a5eddb7f9
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Mon Apr 16 14:46:55 2018 -0700

    fix frequencies category matching bug. Closes #540

commit c19fff61e23b10d07fb569559fbd6ee8094a6bd4
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Mon Apr 16 14:31:39 2018 -0700

    legend hover now affects tips if value is zero

commit 8c8b349bbe942a07833b0d831b909a379208f10e
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Mon Apr 16 14:09:35 2018 -0700

    custom color scale domain for LBI. Closes #541

commit 92752bdcd9026f2881fbf68125e0913a0f8ae1d4
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Mon Apr 16 13:59:35 2018 -0700

    remove lassa manifest from get_files script

commit 5dfb9d16d82e5df52db09026ec9ea55f0de414ef
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Mon Apr 16 13:36:40 2018 -0700

    changelog

commit f2b44f708acc3d16825f91326832c426b45b7d05
Merge: be456788 94536959
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Mon Apr 16 13:28:22 2018 -0700

    Merge branch 'minimal-JSON'
    
    * minimal-JSON:
      remove node.attr.strain usage
      remove seq_author_map usage

commit be456788f6773e531d4bdb721aebd8db9fb847f9
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Mon Apr 16 13:23:44 2018 -0700

    color unknown values on discrete scale gray

commit 7784265833cc6b8590578c350d988072bf2ea418
Author: Trevor Bedford <trevor@bedford.io>
Date:   Sun Apr 15 21:08:17 2018 -0700

    version bump to 1.18.1 for release

commit 70f3f35ab572e8772dcfe5a8444e0f3565ee18e4
Author: Trevor Bedford <trevor@bedford.io>
Date:   Sun Apr 15 20:57:29 2018 -0700

    Linting pass

commit cc74327a8027917dbfc265ac81c613ac60ca89f5
Author: Trevor Bedford <trevor@bedford.io>
Date:   Sun Apr 15 20:30:52 2018 -0700

    Make date slider spacing consistent between animation and drag

commit f7c5f49f21846039bdd3e75bc3fcdc62aaf16f0c
Author: Trevor Bedford <trevor@bedford.io>
Date:   Sat Apr 14 11:39:06 2018 -0700

    version bump to 1.18.0 for release

commit b4ef08abe8731fd442b9516034b4e5f897916ce1
Merge: dbe8b42f 93a0c3c7
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Fri Apr 13 10:34:06 2018 -0700

    Merge branch 'status-page'
    
    * status-page:
      header & allow staging server
      align columns
      basic stats
      skeleton status page & load logic

commit 93a0c3c780778bc01066097b4348446aa84f9eba
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Thu Apr 12 19:12:39 2018 -0700

    header & allow staging server

commit a38994665fdcb6f060aa0a7f403fe84ae12acdb7
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Thu Apr 12 19:00:04 2018 -0700

    align columns

commit d9f366a3ad84c5ff507cfd7148eb584422de8876
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Thu Apr 12 18:50:35 2018 -0700

    basic stats

commit 427f387546405a31481c62f3aa50c9684c7ee5cb
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Thu Apr 12 17:17:43 2018 -0700

    skeleton status page & load logic

commit 94536959cecc68f5d4b55b8dc88ddc910ad3a796
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Thu Apr 12 15:04:03 2018 -0700

    remove node.attr.strain usage

commit 27ba1929fea90be305f05c6fdadaed45ffa2d490
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Thu Apr 12 14:49:09 2018 -0700

    remove seq_author_map usage

commit dbe8b42f44d47529efaa96d21c080434cf874c6b
Merge: 498b5692 a2753d55
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Thu Apr 12 10:08:44 2018 -0700

    Merge branch 'tangle'
    
    * tangle:
      remove pan ability from tanglegrams via timout -> reset
      remove pan ability for tanglegrams
      CIs fade out on second tree (bugfix)
      Move 2nd tree selector to Tree Options
      fix CIs on second tree
      Branch clicks (zoom) work for both trees & tangle
      progressive tangle line thickness
      bugfix: minDate sometimes incorrect when loading 2nd tree
      dont allow multiple overlapping trees!
      disable entropy & frequencies upon tree2 load
      improve legend labels. Closes #506.
      Improve calcColorScale. Fixes for tree2. Closes #503.
      reinstate sidebar tree2 loading & simplify tree lifecycle methods

commit 498b56922b76e8d18d58aa06d49357328a1ac135
Merge: 4db3ccf7 5ad69b9b
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Thu Apr 12 10:08:17 2018 -0700

    Merge branch 'narrative-source'
    
    * narrative-source:
      Source narrative md files from nextstrain.org repo

commit 5ad69b9b2e3d7f02d9e8d2be1035a7ce733025ea
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Wed Apr 11 19:57:04 2018 -0700

    Source narrative md files from nextstrain.org repo

commit a2753d55f0aacbdd8ffbde206f4646d4a6e4820d
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Wed Apr 11 13:56:12 2018 -0700

    remove pan ability from tanglegrams via timout -> reset
    
    Update react-svg-pan-zoom
    Note: Cannot use tool="none" to remove pan ability, as you (for an unknown reason) lose the ability to click on branches!

commit 4db3ccf778be4b3d0aa98998b143c57083d1169f
Author: Trevor Bedford <trevor@bedford.io>
Date:   Tue Apr 10 17:30:19 2018 -0700

    version bump to 1.17.4 for release

commit 7c107fa4fa22f6044e1a61991e88c50c6950ee9f
Author: Trevor Bedford <trevor@bedford.io>
Date:   Tue Apr 10 17:30:02 2018 -0700

    Update Lassa footer

commit b9f4b39adf6c2a0aa572cc8d845dbc1b42e33800
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Tue Apr 10 15:50:01 2018 -0700

    remove pan ability for tanglegrams

commit 068006a1fc4426ebefae0f9fac933d7f96e43160
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Tue Apr 10 15:45:18 2018 -0700

    CIs fade out on second tree (bugfix)

commit ac1d88b33d653d1406bc14396997045a471552a6
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Tue Apr 10 15:43:47 2018 -0700

    Move 2nd tree selector to Tree Options

commit f44e5f3bf68cb02e92bd4653b7b0deadb4426200
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Mon Apr 9 11:54:56 2018 -0700

    updated footers

commit b2fbfa0c4d9c5f5d769f694531f3c4bc17c41402
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Sun Apr 8 20:09:39 2018 -0700

    fix CIs on second tree

commit c44db93dbaef0fb0877a80550f7683b6ba4fb816
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Sun Apr 8 19:38:47 2018 -0700

    Branch clicks (zoom) work for both trees & tangle

commit b5dd1cd9d8c997e291f0a3c87b3c46022b9f847b
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Sun Apr 8 19:21:30 2018 -0700

    progressive tangle line thickness

commit 6e5d85f7dd704ed15c91c47f3136706cbbb9b783
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Sun Apr 8 19:14:51 2018 -0700

    bugfix: minDate sometimes incorrect when loading 2nd tree

commit 41f0973ced40a7c73b659fb179835e5ddcbdd54f
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Sun Apr 8 19:12:08 2018 -0700

    dont allow multiple overlapping trees!

commit 9294ac5f4fc2da279b7c696421d587634f24cf98
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Sun Apr 8 19:01:48 2018 -0700

    disable entropy & frequencies upon tree2 load

commit 0cde1317fc61f5d2fe8913f6d0480da75d92537c
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Sun Apr 8 18:46:27 2018 -0700

    improve legend labels. Closes #506.

commit d5866a2a12a0e99281e1956a762598df9378f8c9
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Sun Apr 8 18:20:13 2018 -0700

    Improve calcColorScale. Fixes for tree2. Closes #503.

commit 7e503e12dd67b86b7f5ef95b47063b7b5108e809
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Sun Apr 8 15:10:57 2018 -0700

    reinstate sidebar tree2 loading & simplify tree lifecycle methods

commit a2318ef7f804f07f1c409051c2efc494f056476f
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Fri Apr 6 15:58:19 2018 -0700

    Add genotype links to WNV footer

commit 9a53b1694c19b013116026e23763b12f6ff657f2
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Wed Apr 4 15:43:37 2018 -0700

    version bump to 1.17.3 for release

commit 0e6c613d95b6c2b85e1ab60db9a0ddbed3c6b93c
Merge: fef2522b 32a29deb
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Wed Apr 4 15:42:44 2018 -0700

    Merge branch 'lassa'
    
    * lassa:
      changelog
      lassa footer
      update get_data script
      update tangle imperatively when trees update
      allow any user for manifest (server)
      remove posts from auspice

commit 32a29deb02dd50adb59e21cadb3d51f4564f5a60
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Wed Apr 4 15:41:34 2018 -0700

    changelog

commit 5a4b5ec1075e5571afd9d67707dee149d6611fac
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Wed Apr 4 15:41:29 2018 -0700

    lassa footer

commit 6de7f1ed0575713e2a6f1be150d12c751d7166b1
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Wed Apr 4 15:25:44 2018 -0700

    update get_data script

commit f0e7b4c2b694adb2dc7c203cb8883b9e0667f035
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Wed Apr 4 14:34:57 2018 -0700

    update tangle imperatively when trees update

commit 4e85aad8e3702d32b10137009587f8a1ec860da9
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Wed Apr 4 13:02:35 2018 -0700

    allow any user for manifest (server)

commit a8b1fb48296bbfe64a9ace5bf5523506f97c7dd1
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Tue Apr 3 14:34:21 2018 -0700

    remove posts from auspice

commit fef2522b627fde010ee549878e82ccf15cd0eb35
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Mon Apr 2 13:28:35 2018 -0700

    version bump to 1.17.2 for release

commit 8255ce16197fe97ea00ac18952dcdb375abce3a8
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Mon Apr 2 13:26:34 2018 -0700

    job posting on splash page

commit b4a8cc244947423f249bc75cd958f77c5ce14537
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Wed Mar 28 14:20:58 2018 -0700

    version bump to 1.17.1 for release

commit 0bf7e6cd7738114f5316f9d03db66fee9f3adf8a
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Wed Mar 28 14:19:34 2018 -0700

    Restore tree SVG functionality. Closes #535

commit a1da4b7f2c500f2c6e5aa69360120fa050c95136
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Mon Mar 26 17:03:05 2018 -0700

    version bump to 1.17.0 for release

commit d422bba69ce474a41f69fd446a6f5896b4ab8f0a
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Mon Mar 26 16:43:06 2018 -0700

    changelog

commit 40165906bea4581752d438c394757c82c288c8e2
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Mon Mar 26 16:34:29 2018 -0700

    fix second tree load bugs from merge

commit ff4980669e8bfc63f497a245a7093c4761531ebe
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Mon Mar 26 16:10:19 2018 -0700

    fix narratives bugs resulting from merge

commit 11feba33f4d28c0405862724b498003aa9416965
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Mon Mar 26 13:44:02 2018 -0700

    fix frequencies merge bug

commit f737484cce1c376d804a3583234938a55d5571e2
Merge: 17335ff0 2cbe9dc6
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Mon Mar 26 13:36:48 2018 -0700

    Merge branch 'tree-too' (bugs exist)
    
    * tree-too: (37 commits)
      fix tip-selected reload bug & remove console logs
      hide second tree dropdown
      fix LBI bug for first tree
      combine second tree load logic
      restore map & new panel logic
      branch click (not working)
      tip radii work on both trees
      remove handleIconClickHOF
      tip selected for tree 1 affects tree 2 (and vice versa)
      restore tip-selected thicknesses
      fix bug in discrete color scales after switching segments
      no onClick event on second tree's branches
      force side-by-side trees to be rectangular
      tangle position
      tanglegram toggle
      Controls sidebar shows tree layout / map only when applicable
      fix discrete scale & initial load colours
      fix hover callbacks
      partial callback fix
      controls dropdown is responsive & can remove second tree
      ...

commit 17335ff0c2c69e10a109f5d8f27914a7485f3cb8
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Mon Mar 26 12:11:31 2018 -0700

    changelog

commit 979ed3bb06b2e7468c032076b83b5e991fbd6d8f
Merge: 0cffb56e aa882aaf
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Mon Mar 26 11:55:19 2018 -0700

    Merge branch 'narrative'
    
    * narrative:
      use block index in narrative URL
      narrative initial URL state used
      frequencies loaded via initial action
      narrative set via URL
      group all JSON fetches (narrative via query.n)
      move phylotree call to CDU
      allow frequencies in narrative view
      update frequency panel via URL

commit 0cffb56e38add8d4aff29fb55757459400ecd066
Author: Trevor Bedford <trevor@bedford.io>
Date:   Mon Mar 26 08:01:43 2018 -0700

    version bump to 1.16.5 for release

commit 2cbe9dc699bc84c3f0b1728a91b6c6d06ad722e6
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Sun Mar 25 22:50:18 2018 -0700

    fix tip-selected reload bug & remove console logs

commit 27866bc02774fd53726361eebd6dca81d26151db
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Sun Mar 25 21:55:35 2018 -0700

    hide second tree dropdown

commit 3669f81f66f7d9b1d5053ff6042680a8e0dcc33d
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Sun Mar 25 21:53:28 2018 -0700

    fix LBI bug for first tree

commit aa882aaff22052aed7bc6de09db6111e2bea646c
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Sun Mar 25 21:30:37 2018 -0700

    use block index in narrative URL

commit 46926934e90ce7dceacd127393961f8f92294de1
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Sun Mar 25 20:47:34 2018 -0700

    narrative initial URL state used

commit d46795adda798d75e3794a6830fb6f3a0f191c1c
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Sun Mar 25 20:23:58 2018 -0700

    frequencies loaded via initial action

commit 19aaf68f5b65f63a632e8bc7b1669c0f831ae750
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Sun Mar 25 19:43:43 2018 -0700

    narrative set via URL

commit f6b682341abf4ab8750bd73840bddfc8d1071b2e
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Sun Mar 25 19:04:59 2018 -0700

    group all JSON fetches (narrative via query.n)

commit 2f5acc4da5431a87eb895bc3a36b66f738c9a5ad
Merge: c7c33013 e4eca656
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Sun Mar 25 14:19:15 2018 -0700

    Merge pull request #532 from nextstrain/authors-filter
    
    Make authors filter an explicit setting in auspice_filters

commit e4eca656a14b3f4bfc74bec41a3c1761b5754c22
Author: Trevor Bedford <trevor@bedford.io>
Date:   Sat Mar 24 11:03:44 2018 -0700

    Make authors filter an explicit setting in auspice_filters

commit c7c330130dfc08bfc50a5093899c3b0c31acf9ad
Author: Trevor Bedford <trevor@bedford.io>
Date:   Thu Mar 22 11:00:56 2018 -0700

    version bump to 1.16.4 for release

commit 024775d97a47518b8391ef44a7550208892c9f79
Author: Trevor Bedford <trevor@bedford.io>
Date:   Thu Mar 22 10:58:15 2018 -0700

    Small revision to flu footer

commit 929494b32ff074efda8ec5c56449a98398d15912
Merge: 7bb86d8e 879f2c9a
Author: Trevor Bedford <trevor@bedford.io>
Date:   Thu Mar 22 10:51:53 2018 -0700

    Merge pull request #529 from nextstrain/styling
    
    Adjust branch label and vaccine cross styling

commit 7bb86d8e8c64642673e03c58e54ffaf46733c164
Merge: 98b39b8c 5b467de3
Author: Trevor Bedford <trevor@bedford.io>
Date:   Thu Mar 22 10:51:36 2018 -0700

    Merge pull request #531 from nextstrain/fix_gt_assignment
    
    Avoid overwriting node state in child clades

commit 5b467de3ad6dff14dd423f7ac9cc074bc0006533
Author: Richard Neher <richard.neher@unibas.ch>
Date:   Thu Mar 22 18:16:20 2018 +0100

    avoid overwriting node state in child clades

commit 879f2c9a814cdc37d793d6a8f62572027315038f
Author: Trevor Bedford <trevor@bedford.io>
Date:   Wed Mar 21 16:02:46 2018 -0700

    Adjust styling of vaccine crosses
    
    Remove the extra dashed branch.

commit 639b067034519b7541da21fb5b00e2c941d5488d
Author: Trevor Bedford <trevor@bedford.io>
Date:   Wed Mar 21 15:45:57 2018 -0700

    Adjust styling of branch labels
    
    Add weight and lighten clade labels, shrink mutation labels

commit 98b39b8c25045b8ad24697af8e015a5d544073d7
Author: Trevor Bedford <trevor@bedford.io>
Date:   Wed Mar 21 14:16:21 2018 -0700

    version bump to 1.16.3 for release

commit ee57c182928ac2d7a347ff6c126bdbf2d828fb0b
Author: Trevor Bedford <trevor@bedford.io>
Date:   Wed Mar 21 14:12:01 2018 -0700

    Small revision to flu footer

commit 14fb57c193a41dc534fe47da931cd5e1f93ff7b2
Author: Trevor Bedford <trevor@bedford.io>
Date:   Wed Mar 21 08:34:23 2018 -0700

    Update changelog and modify release script
    
    Moved local release branch checking to top of script so it will
    exist before creating cruft on GitHub

commit 677456db21ef3ad24120a1973859f668c1d23137
Author: Trevor Bedford <trevor@bedford.io>
Date:   Wed Mar 21 08:21:47 2018 -0700

    version bump to 1.16.2 for release

commit 2e184f936e61f2d6ccf8bb6f96cde859cd169ada
Merge: 4408de01 71058968
Author: Trevor Bedford <trevor@bedford.io>
Date:   Wed Mar 21 08:19:48 2018 -0700

    Merge pull request #528 from nextstrain/www-redirect
    
    Add www to apex redirect via express middleware

commit 71058968956ba5827b9d9b887cdce2b5d870bfa8
Author: Trevor Bedford <trevor@bedford.io>
Date:   Wed Mar 21 08:03:26 2018 -0700

    Add www to apex redirect via express middleware

commit a44f05db7797d347b55d95c27d05423a529fc783
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Tue Mar 20 17:08:49 2018 -0700

    move phylotree call to CDU
    
    This stops errors when a change call was made in both CWRP and CDU

commit 2abbf72a13096ee5d8b4982bf514b49c578c5dbf
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Tue Mar 20 16:26:45 2018 -0700

    allow frequencies in narrative view

commit 211352661c920d2b5fdc009d0e10374824195d90
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Tue Mar 20 16:26:30 2018 -0700

    update frequency panel via URL

commit 4d88d5ad9118b6912907e8d7ebe5f37f218ab4fd
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Sun Mar 18 18:00:31 2018 -0700

    combine second tree load logic

commit d9cced4b8691909573836aeebadd071110c04c5d
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Sat Mar 17 20:35:43 2018 -0700

    restore map & new panel logic

commit 0bbba2bb18dd3e7f2dbac9e7b1262c0a3f71bf41
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Sat Mar 17 20:09:20 2018 -0700

    branch click (not working)

commit 8c253196c22b2e6e5b85bb73be33ece1d5fab989
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Sat Mar 17 15:56:23 2018 -0700

    tip radii work on both trees

commit e216503e2e21d32152694d9668c1063dc5206215
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Fri Mar 16 22:13:48 2018 -0700

    remove handleIconClickHOF

commit 687bcdfa27ec571bd671fef344468d1d60a7953e
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Fri Mar 16 14:45:59 2018 -0700

    tip selected for tree 1 affects tree 2 (and vice versa)

commit 5b7022dab5d3f0c277320edc99c3e01801a7f0e2
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Fri Mar 16 14:22:33 2018 -0700

    restore tip-selected thicknesses

commit 4408de01d5f9b442574d94c05e8872166c1cd4c5
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Fri Mar 16 13:43:49 2018 -0700

    version bump to 1.16.1 for release

commit eb87b59220b167ef678c4111de843a6d785a0e51
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Fri Mar 16 13:43:34 2018 -0700

    fix bug in discrete color scales after switching segments

commit d2ac4f5e0737be4bd77a03d8a7580546f94276c3
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Fri Mar 16 13:36:52 2018 -0700

    fix bug in discrete color scales after switching segments

commit a0813f754f3bcdbad6f53c03571ea22880b8f310
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Fri Mar 16 12:58:33 2018 -0700

    version bump to 1.16.0 for release

commit 3e8aa4aecc66895f1a0477556f9f19f641729b58
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Fri Mar 16 12:58:07 2018 -0700

    changelog

commit 434816405c91ec8f5a2829087f54befcaebb2482
Merge: d2133912 66b9585f
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Fri Mar 16 12:54:28 2018 -0700

    Merge branch 'IE'
    
    * IE:
      gisaid iframe
      fix grid stacking on IE, windows/linux firefox
      babel-polyfill
      remove autocomplete script from index.html
      String.startsWith polyfill. Splash page now loads.
      es6-object-assign polyfill

commit 66b9585f1af0b0bed89da10ece1857ec13422458
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Fri Mar 16 12:54:13 2018 -0700

    gisaid iframe

commit cda08ed670980361cdb7dfa880b58e1ee785b8d7
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Fri Mar 16 12:46:29 2018 -0700

    fix grid stacking on IE, windows/linux firefox

commit c5853f9db9fbd8d3159a8850ee45f5a4eb86aa1a
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Thu Mar 15 13:41:46 2018 -0700

    no onClick event on second tree's branches

commit 45a19b66b3d4ab713b35b2edbec4914bc3e5049d
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Thu Mar 15 13:39:21 2018 -0700

    force side-by-side trees to be rectangular

commit 15db56e071e4f3f883531f51706f37fa2a80c37d
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Thu Mar 15 13:18:49 2018 -0700

    tangle position

commit 4b749d16c4ad8c3983eda41836611d54976acd0b
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Thu Mar 15 12:27:58 2018 -0700

    tanglegram toggle

commit f0c8a64d881c453036bcdd963aa227ad4ab50aaf
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Thu Mar 15 11:58:53 2018 -0700

    Controls sidebar shows tree layout / map only when applicable

commit 51a2770a100921ad6b9c79c434259c086e6e817a
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Thu Mar 15 11:13:35 2018 -0700

    fix discrete scale & initial load colours

commit 0400831ba04a50fb9bade17c4f11e26c421eca40
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Thu Mar 15 09:37:06 2018 -0700

    babel-polyfill

commit c8f998dae68876bebafcc93ec7f769908c795a1a
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Thu Mar 15 09:20:22 2018 -0700

    remove autocomplete script from index.html

commit 484ce01410bcf9f320e99008e2f614cf8da3bb8b
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Thu Mar 15 09:00:47 2018 -0700

    String.startsWith polyfill. Splash page now loads.

commit fed88fdafe2ee77a9d0a251f8fd42d64b4eb483d
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Thu Mar 15 08:51:43 2018 -0700

    es6-object-assign polyfill

commit 8f966c26d97d624c138301446e72d5bb04deb756
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Thu Mar 15 08:26:04 2018 -0700

    fix hover callbacks

commit aac6f298ec2850d188126f61e9393dcfd544080d
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Wed Mar 14 15:12:26 2018 -0700

    partial callback fix

commit d21339121beb7f302d276b74f4990cdeefa60dff
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Wed Mar 14 13:12:13 2018 -0700

    version bump to 1.15.1 for release

commit e6ae508616a072397bbb8b98dae4f2301c88c636
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Wed Mar 14 13:10:46 2018 -0700

    Fix firefox event bugs. Closes #525

commit f062e69fcab0e0a59dd89db92c2ef44162d9acf0
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Mon Mar 12 13:23:37 2018 -0700

    version bump to 1.15.0 for release

commit ce2bcf7640731e42ddde222d4b74a868e961b8b6
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Mon Mar 12 13:22:19 2018 -0700

    changelog

commit 3ebd1a18d4e50acbb612d8d5f48baae3ca087989
Merge: 45a7543c 625ac383
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Mon Mar 12 13:18:17 2018 -0700

    Merge pull request #523 from nextstrain/multi-gt
    
    Multiple genotype color-by

commit d030ca49fccc4ed1c57089af86af264a495c219f
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Mon Mar 12 12:18:07 2018 -0700

    controls dropdown is responsive & can remove second tree

commit 075c3747325aabfae2070893fb9bc07329a9a96d
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Fri Mar 9 16:32:35 2018 -0800

    color changes for tree too

commit 095adb83d07c3d16df3350b6baaf32f2bbf4cd71
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Fri Mar 9 15:04:43 2018 -0800

    visibility for tree too

commit dda6e4bc5504b9ad83eb926e2d4ad98a9b715185
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Fri Mar 9 14:30:32 2018 -0800

    tangle updates with visibility

commit 0f37b1ac2bff354115e47e14719e7fef4cb282fb
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Mon Mar 5 20:14:25 2018 -0800

    rearrange utils

commit 45a7543c2ee19194fd644bcf1a9e138ecd061b94
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Mon Mar 5 12:55:56 2018 -0800

    version bump to 1.14.4 for release

commit 1816d0ba6321251a9015e2c46f9199f9451e825f
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Mon Mar 5 12:55:32 2018 -0800

    restore staging server toggle. Closes #514.

commit f443822b5147bc4cd0cd7529a5ad5762ac6e2e87
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Sun Mar 4 14:55:56 2018 -0800

    changePhyloTreeViaPropsComparison bug

commit 596232396ca989ed199ea3eafcc41a3dc4379ab5
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Sun Mar 4 14:46:32 2018 -0800

    tangle responds to tree metric changes

commit 04b9976021eff5e6147e0731ef1f275644a256e5
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Sun Mar 4 14:23:48 2018 -0800

    modifyStateViaTree uses both trees

commit 25e7e2237bafa15b4d7ccbb49ee77889ea83a802
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Sun Mar 4 12:42:25 2018 -0800

    load second tree via URL query

commit 067bfa655f134a793b956e4fae7bba7cc51d0c6e
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Sun Mar 4 11:18:40 2018 -0800

    remove old / deprecated code

commit 929cfa717fc52a731e4c231b25d2edd5046727b2
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Sun Mar 4 11:15:26 2018 -0800

    tree JSON to State function

commit 8f582a66d5cd27b18709323737d08dc03eba5752
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Sat Mar 3 23:03:33 2018 -0800

    tangle lines are Z shaped

commit cad8dce6951072994b6afb27332ffa41ff055d18
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Sat Mar 3 22:42:23 2018 -0800

    bring back <Tangle>

commit 9fcec48299381105e1468d430681f1f05164c38f
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Sat Mar 3 20:45:19 2018 -0800

    all within <Tree>

commit 92418ff849fa4b2d6719efe68838b89d531f6bc2
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Sat Mar 3 13:32:41 2018 -0800

    tangle (heaps of bugs)

commit 83c5020d63d862e0b02e6189fb288f7617d8311f
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Sat Mar 3 11:19:13 2018 -0800

    Second tree displayed

commit a02639c46e5ecaa72686caf19979c63a0137519b
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Sat Mar 3 10:59:37 2018 -0800

    second tree data -> redux

commit 0f20b872b276f1367ca668f6d3b2cf56c3e5b66d
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Sat Mar 3 10:24:21 2018 -0800

    selector to load 2nd tree

commit 625ac3834e62fd4a7e89e4ebaa84fbb39b449003
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Sun Mar 4 21:22:39 2018 -0800

    fix race bug where entropy updated before new mut type was set

commit 61f11a3d3b5725dedae0af9ef40ea1ee77583c54
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Fri Mar 2 15:41:47 2018 -0800

    fix nucleotide GT bugs

commit 6f2d7103002d2f375d89c9d9a254ca6aba058dee
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Fri Mar 2 15:18:41 2018 -0800

    multiple highlighted bars in entropy panel

commit 6459f166ce76f50771a530ce2d3f9d46775890d1
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Fri Mar 2 14:04:41 2018 -0800

    unified changeColorBy

commit 46c6345f2e2dad3251eb64900959e4868668e3d3
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Fri Mar 2 12:16:22 2018 -0800

    a unified parseEncodedGenotype function

commit e71ef9d96356e5925c423774baf931f86844e331
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Fri Mar 2 11:59:37 2018 -0800

    setGenotype: single recursion, multiple positions.

commit 773b36bc5eef91baf77f5d142e1a23a2eb91fc55
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Fri Mar 2 00:07:49 2018 -0800

    multiple geneotypes (same gene, experimental code)

commit 174bb064d99f04997c038fe0d6d37d6d2f31152f
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Thu Mar 1 16:44:01 2018 -0800

    version bump to 1.14.3 for release

commit 10cdf9d4e2a410f47da12e4e92e8acaa9d81d99b
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Thu Mar 1 16:43:18 2018 -0800

    changelog

commit d3a083404ff89a74d4efd4517ae2546a2936fc92
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Thu Mar 1 16:39:37 2018 -0800

    Fix tip fill bug. Closes #519

commit cdb486dbb0801c7f9eb6680ce0d228953d1c532c
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Wed Feb 28 14:58:13 2018 -0800

    version bump to 1.14.2 for release

commit 2e5ada77e539896edf7c934eda287324b0c9109b
Merge: 252448d0 7eb8dd11
Author: Trevor Bedford <trevor@bedford.io>
Date:   Wed Feb 28 11:35:41 2018 -0800

    Merge pull request #518 from nextstrain/505
    
    Dynamic y-axis for frequencies

commit 7eb8dd1139de5069cc08b3fc7f9f236a4d3b6179
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Wed Feb 28 10:06:30 2018 -0800

    remove frequency normalisation

commit fea5793695afe0945566bf71e31ed27b81dce57c
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Wed Feb 28 09:59:47 2018 -0800

    Increase font size in frequency info-box

commit bb7891ae419e90cb0dca485130d95540d96c384b
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Wed Feb 28 09:47:05 2018 -0800

    dynamic frequencies y-axis & scale
    
    
    tmp

commit 252448d08fc66ccc4755a73d3762bc84e127c621
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Tue Feb 27 13:53:04 2018 -0800

    version bump to 1.14.1 for release

commit f4ffef9fbc20f9edaa983005dedb72c511116ed5
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Tue Feb 27 13:51:33 2018 -0800

    changelog

commit 89d0d804fbb1012d8065271f56bcebfaebdc6278
Merge: 8c50cb6a b911c897
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Tue Feb 27 13:49:38 2018 -0800

    Merge pull request #517 from nextstrain/tip-styles
    
    Style tip stroke separately from branch stroke

commit b911c89701dda59910595fdece015fcc89f669ea
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Tue Feb 27 13:40:04 2018 -0800

    use branch/tip stroke for confidences, change(), and mouseleave

commit d27d4019d106742821a8ea4b25f26ea349af2200
Author: Trevor Bedford <trevor@bedford.io>
Date:   Tue Feb 27 13:11:52 2018 -0800

    Small update to branch opacity logic

commit 9b44c42e4bfc3d607a74de5956125c57dcd22bb2
Author: Trevor Bedford <trevor@bedford.io>
Date:   Tue Feb 27 12:29:01 2018 -0800

    Style tip stroke separately from branch stroke
    
    Currently lacking phyloTree.change methods

commit 8c50cb6a39679c861b7a5170b6e34541a283d1d0
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Tue Feb 27 12:00:44 2018 -0800

    version bump to 1.14.0 for release

commit 0f4b670bbc3661191924f20587d306eec55dfcd5
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Tue Feb 27 11:59:22 2018 -0800

    changelog

commit e68d63ff33529ce4b6ac42dac7800e117d22d7e5
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Tue Feb 27 11:56:41 2018 -0800

    don't attempt to update frequencies data if not loaded. Closes #516

commit a890ba7dd5b17fe8db7d912b84e15c594f164f82
Author: Trevor Bedford <trevor@bedford.io>
Date:   Tue Feb 27 11:10:50 2018 -0800

    Include all flu files in getData script

commit 69db3aa64c05836617074fbb3dc255e55c001a06
Author: Trevor Bedford <trevor@bedford.io>
Date:   Tue Feb 27 10:43:43 2018 -0800

    Reorder colorBy ordering

commit 672e957722b135fc7774a1f3716d1f2de1cfff6e
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Tue Feb 27 08:01:10 2018 -0800

    add preferred colorBy ordering in globals

commit f98c1bc080cc0b3f9046108ede4717932477bc5e
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Mon Feb 26 22:50:50 2018 -0800

    fix frequencies bug
    
    bug was when the colorscale added categories not present in the frequency matrix

commit df4c24e23f62400d17a55fa283fe9ffa8cfa4376
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Mon Feb 26 22:20:54 2018 -0800

    changelog

commit 04514e342673e5e6cc240903bf70477ce994348f
Merge: da782ea1 5bafa41a
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Mon Feb 26 22:09:03 2018 -0800

    Merge branch 'nextflu-features'
    
    * nextflu-features: (22 commits)
      default geneotype gene to HA1 if available
      disable logging middleware
      tip radius change on single strain selection
      fix aa mutation text for branch labels
      fix branch label sizes
      right align branch labels
      clean up processNodes & processBranchLabels
      branch label vis & size
      rename cladeLabels -> branchLabels
      begin branch label visibility functions
      edge cases around selected strain
      clean things up II
      clean things up
      set dynamic defaults for branch labels
      initialise frequencies in a single action
      loadData in action not reducer
      styling & search functionality
      search only considers visible tips
      search changes tree & URL
      search basics (no action dispatch, no styling)
      ...

commit 5bafa41ac325e033dd20890079453827132ecce6
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Mon Feb 26 21:58:21 2018 -0800

    default geneotype gene to HA1 if available

commit 4d87332f56a4d67231e25c56c23ff3994e145aeb
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Mon Feb 26 21:52:25 2018 -0800

    disable logging middleware

commit 26fcb3e9470578a0e0090519591b180dde358a40
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Mon Feb 26 21:26:26 2018 -0800

    tip radius change on single strain selection

commit 610c0f9827a02280c2e9e570ae39cef90b5d0503
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Mon Feb 26 20:46:04 2018 -0800

    fix aa mutation text for branch labels

commit 006879b0b74128641ef70654d321a7297bbc7245
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Mon Feb 26 20:45:31 2018 -0800

    fix branch label sizes

commit 7ba11e29b8800e92e36711f8a48de00f67418a1a
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Mon Feb 26 20:34:29 2018 -0800

    right align branch labels

commit da782ea1dca0ec0782c262e0e556fe095a350e09
Author: Trevor Bedford <trevor@bedford.io>
Date:   Mon Feb 26 17:53:37 2018 -0800

    version bump to 1.13.2 for release

commit 7222b0077fce1aaccee81b71e6bcd59f410ab761
Author: Trevor Bedford <trevor@bedford.io>
Date:   Mon Feb 26 17:50:37 2018 -0800

    Small fix for clade coloring

commit 97e124b1c530ad30d6182e5d7165031e733d12a4
Author: Trevor Bedford <trevor@bedford.io>
Date:   Mon Feb 26 11:59:54 2018 -0800

    Improve consistency of panel controls
    
    * Change name to "panel options" in line with "tree options" and "map options"
    * Change toggles to "show tree", etc... in line with other toggles which all use verbs

commit ea3cd2b8f2cc273acd6a5a35bdcacccddb7ce16b
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Mon Feb 26 11:50:09 2018 -0800

    version bump to 1.13.1 for release

commit 625d24d1298de3f5a0d87bbd6524bd712bc5afeb
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Mon Feb 26 11:47:29 2018 -0800

    Tree button "reset layout" now at top right

commit b23b9e1b72c2916f49e971f72a7a6f4eaa9d6a1c
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Mon Feb 26 11:17:02 2018 -0800

    release script edits

commit 3c88b92d19109f7ea32bc415d9c5100187a4fe78
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Mon Feb 26 11:15:08 2018 -0800

    version bump to 1.13.0 for release

commit 376b401aed288caf8249c7c1b955f2168eb59593
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Mon Feb 26 11:04:23 2018 -0800

    changelog

commit d96b810d7ad90bfcac6d5d33fac810594b8fdccc
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Mon Feb 26 10:52:01 2018 -0800

    tweak "reset tree" button styles

commit cb256f156d9d302b2255d997cdb8700785666f3f
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Mon Feb 26 10:34:00 2018 -0800

    clean up processNodes & processBranchLabels

commit d76b98501742b7ff0de0d4c647d3758da83fbaaf
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Mon Feb 26 10:06:36 2018 -0800

    branch label vis & size

commit dc64c2b30c5d12ff976c42ad02aa0f41e45fde68
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Mon Feb 26 09:14:00 2018 -0800

    rename cladeLabels -> branchLabels

commit 5915c8dfdf576fb4aecf0389a86115624ee987f8
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Sun Feb 25 23:13:52 2018 -0800

    begin branch label visibility functions

commit 08476360cc31a7657da8b09112152fbc87fb72d7
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Sun Feb 25 22:09:15 2018 -0800

    edge cases around selected strain

commit 5506c5da2e04d1e989eaaa34aeaa6915a0eaafb4
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Sun Feb 25 19:41:58 2018 -0800

    clean things up II

commit 26a7a8e6ad4641f01e7c7541c640a3c276836dc9
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Sun Feb 25 18:10:58 2018 -0800

    clean things up

commit 80350353f3a890b627f368fce6c78aaa0cfb5a72
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Sun Feb 25 13:00:30 2018 -0800

    set dynamic defaults for branch labels

commit dda0826657b1851089d59439b50e94ceef9f08fc
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Sun Feb 25 12:07:46 2018 -0800

    initialise frequencies in a single action

commit f21739cacdb8e77837dd6db50f04c73c983040fb
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Sun Feb 25 11:27:23 2018 -0800

    loadData in action not reducer

commit d8431763ff64f73eb140030901ad80945d396298
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Sat Feb 24 23:42:51 2018 -0800

    styling & search functionality

commit 09dde3621cab3984b16c26efb97ea2854bc51988
Merge: ada77839 bb19ed8a
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Sat Feb 24 20:54:11 2018 -0800

    Merge branch 'branch-labels' into nextflu-features
    
    * branch-labels:
      draw branch labels
      process branch labels on tree load

commit ada7783918f94400320584468b57635ce83168e8
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Sat Feb 24 20:52:41 2018 -0800

    search only considers visible tips

commit eb4aa0fe4457056f5856d9518a3bb321164f39b4
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Sat Feb 24 20:20:08 2018 -0800

    search changes tree & URL
    
    URL is cleared on page refresh (TODO)

commit 7b28519abd779f5301a333738a85bb9b5d8a08d8
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Sat Feb 24 15:44:06 2018 -0800

    search basics (no action dispatch, no styling)

commit bb19ed8a25528080dde19fbc889c6cf0054a82ae
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Sat Feb 24 13:38:29 2018 -0800

    draw branch labels

commit c83d7d1cb2c1c669b63c3c6b647f5d34b338aec1
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Sat Feb 24 13:05:26 2018 -0800

    process branch labels on tree load

commit 1292c628bd3d2fb486c2d2db99e35675334bfa44
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Sat Feb 24 11:37:10 2018 -0800

    fix frequencies bug for unknown values in continuous colour scales

commit e38e72bfc0083dd475db9eb1480edcd093714dec
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Fri Feb 23 22:42:51 2018 -0800

    replace tree +/- buttons with reset button

commit c2f872f460ab6fc9348c68aa65ba9fa8df53d1ec
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Fri Feb 23 21:40:29 2018 -0800

    fix frequencies bug for genotypes

commit d0c6c1f6bde85bf87eb8a6e6d312be0de4c18a4d
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Fri Feb 23 16:46:19 2018 -0800

    Frequencies bugs & tweaks

commit 4ce26cfc6e3f481246c95e14c582bf9d3e3ee569
Merge: d7c25014 d9099aa2
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Fri Feb 23 15:17:32 2018 -0800

    Merge branch 'narrative'
    
    * narrative: (52 commits)
      disable narrative panel for merge
      fix bug in phylotree axis where it would sometimes fail to redraw
      narrative img styles
      display tweets properly
      remove <g> elements not in SVG (no more react warnings)
      narrative preamble & block heights
      fix narrative scroll
      tweak sidebar styling & inheritance
      remove react-sidebar and <Background>
      fix positioning issue (requires sidebar update)
      set sidebar width & height in <App>
      narrative panel sizing logic
      update automatic changing of panel layout
      lift computeResponsive to <Content>
      fix bug where panels didn't come back via URL
      Contents component. Don't show header / footer in narrative.
      show an empty URL query when narrative displayed
      title bar navigation
      scrolling changes URL
      fix server URL parser regex
      ...

commit d9099aa21d9164df6fdc9e5f71717713f2c02d51
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Fri Feb 23 15:00:05 2018 -0800

    disable narrative panel for merge

commit d7c25014dbfc3a6cab6dfed438bd5086d59fa2e4
Merge: ed32d67c 4fb549e1
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Fri Feb 23 14:55:07 2018 -0800

    Merge branch 'frequencies'
    
    * frequencies: (27 commits)
      add colorBy labels inside streams
      frequencies normalisation
      left/right position of frequencies info box
      allow undefined tip colours in frequencies
      update JSON parser (strain.frequences, strain.weight)
      update JSON parser
      fix typo in get_data script
      frequencies json load - change filename & look at panels in meta JSON
      stacking order same as tree legend
      improve styles (axis positions, text)
      remove temporary "convert frequencies" script
      use augur tipfrequences json
      order categories based on rise
      genotype works
      reverse categories (new streams rise from the bottom)
      tidy up frequencies -> pivots scripts
      tooltip / pivot line
      clean up
      normalise vs raw data toggle
      continuous colorBy works
      ...

commit 4fb549e1503afc7cb9bf7982ab80bb640cd6564e
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Fri Feb 23 14:51:08 2018 -0800

    add colorBy labels inside streams

commit bc1663fd23026312726ccac8e64a0ded05a33a46
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Fri Feb 23 14:01:09 2018 -0800

    frequencies normalisation

commit 1cb6b405ab228bbf3fb4986b7343ece337ade4ab
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Fri Feb 23 09:27:06 2018 -0800

    left/right position of frequencies info box

commit 733cd6d6f79a870f309256dfb809e2ead078fe69
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Fri Feb 23 08:51:14 2018 -0800

    allow undefined tip colours in frequencies

commit 257e51edcce516d42a234be13c67627cfb4e15eb
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Thu Feb 22 17:13:12 2018 -0800

    fix bug in phylotree axis where it would sometimes fail to redraw

commit 0d4e662fa5bbd383762c6e478b6695afe0818ca6
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Thu Feb 22 16:59:38 2018 -0800

    narrative img styles

commit d1e521cfd34c1aad8ad8fd34e9ce47f87368ab52
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Thu Feb 22 16:49:20 2018 -0800

    display tweets properly

commit 3b3e55084c3e185f4f2c24a9501422c13560da71
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Thu Feb 22 12:06:53 2018 -0800

    remove <g> elements not in SVG (no more react warnings)

commit e38948fa8424d3a4221ae642be7232882b30154e
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Thu Feb 22 10:22:48 2018 -0800

    narrative preamble & block heights

commit 439081835e9100e572d9938599d7c09fdd677f4c
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Thu Feb 22 09:34:26 2018 -0800

    fix narrative scroll

commit 0bab8294637981b66cf6a3077799b0828f4986e7
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Thu Feb 22 09:10:41 2018 -0800

    tweak sidebar styling & inheritance

commit 01310312c7ba29fda8ef8e40bb54edf62ebcaba2
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Thu Feb 22 08:50:36 2018 -0800

    remove react-sidebar and <Background>

commit 2212f104c1b0c906c3c1b71df440218c74b79d78
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Wed Feb 21 23:51:14 2018 -0800

    fix positioning issue (requires sidebar update)

commit d502663b142ba65fee91b441eebd4708db5bb69b
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Wed Feb 21 23:17:17 2018 -0800

    set sidebar width & height in <App>

commit 7a667b1e7c644e3fe7ad97818f0144d4f0593425
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Wed Feb 21 22:56:28 2018 -0800

    narrative panel sizing logic

commit 55350dafbca152819ca938844c3ac1fb3a765a8c
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Wed Feb 21 22:52:19 2018 -0800

    update automatic changing of panel layout

commit 3ab1af7fdb61266b27de6870297c8500d064fd2a
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Wed Feb 21 21:49:22 2018 -0800

    lift computeResponsive to <Content>

commit da39687a7800fb00a6ec34e9f6ca0420f816075f
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Wed Feb 21 16:07:59 2018 -0800

    fix bug where panels didn't come back via URL

commit 3f319adef77cf1e2706f0cfa83d06ea0dbaf18f4
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Wed Feb 21 15:55:19 2018 -0800

    Contents component. Don't show header / footer in narrative.

commit 0104c68aa7188e905d2887e6f9ac5309ee16e476
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Wed Feb 21 15:42:31 2018 -0800

    show an empty URL query when narrative displayed

commit 424caabf118d671486bec8a93c67d53995437e50
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Wed Feb 21 15:26:51 2018 -0800

    title bar navigation

commit b61da437afbd8e7c89cc48eda438acc85d80ab97
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Wed Feb 21 15:00:45 2018 -0800

    scrolling changes URL

commit d6566be514151958913f84d5076c8c9565ebb71c
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Wed Feb 21 14:47:48 2018 -0800

    fix server URL parser regex

commit bc0ecaf3792bb9e778ece8e0e67fea75253efadb
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Wed Feb 21 14:43:33 2018 -0800

    styles

commit d310c04062e5ce679411887e229eb4528dd58fa0
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Wed Feb 21 14:27:18 2018 -0800

    scrolling detects paragraph in view

commit 30544fe584f22cc0782448bcd5487c6d592ca106
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Wed Feb 21 14:00:23 2018 -0800

    narrative / controls scroll while title-bar stays at top

commit 2702a336b1f568b0d7d42d728b0c0f12820e2e31
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Wed Feb 21 13:28:17 2018 -0800

    parse new narrative blocks from server

commit 8c075ef710887f773111e1488d2a411716eafdcf
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Wed Feb 21 13:10:22 2018 -0800

    server narrative parsing

commit 7c91ad2ee6635cbc15cc6d8a8e25a5cccbaaf6e1
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Wed Feb 21 12:29:33 2018 -0800

    pannel toggles in URLs (set & restore)

commit 08bd27a1f4e8a37aab9c6aaf2d889d43c20a1cc9
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Wed Feb 21 12:17:17 2018 -0800

    panel toggles in sidebar

commit a7bda1e763dd739ff5b2036a3e737e1c1c933c08
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Wed Feb 21 10:45:47 2018 -0800

    update JSON parser (strain.frequences, strain.weight)

commit 2893bce2a20cd92151fc8df33ab1d866dc73e4fe
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Wed Feb 21 09:59:24 2018 -0800

    update JSON parser

commit df9a4d29e70d3e7455a157e5a3a2732a1fe59862
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Wed Feb 21 09:49:37 2018 -0800

    fix typo in get_data script

commit 195eace111b00ada4c1e0e2704555962ee64117a
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Wed Feb 21 09:48:44 2018 -0800

    frequencies json load - change filename & look at panels in meta JSON

commit 9b551f81d828052eeec07dbaf0343ba191697197
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Wed Feb 21 09:18:43 2018 -0800

    stacking order same as tree legend

commit 82ac962e0453e897ea556cee27936f9cb8f640e3
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Tue Feb 20 17:41:25 2018 -0800

    improve styles (axis positions, text)

commit a554d0fe512b30883184e47b86067fb8443dab9a
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Tue Feb 20 17:09:53 2018 -0800

    remove temporary "convert frequencies" script

commit 60d2625f96ce05c2f6832e8f49287cbb39c513cc
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Tue Feb 20 17:01:13 2018 -0800

    use augur tipfrequences json

commit e7069e191597be44a394b27cfe57dfafe722ecde
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Tue Feb 20 15:44:42 2018 -0800

    Improve speed of compute responsive. Closes #499.

commit 85d993c3b379af62ead6a9d753e1d6d71b2afe2c
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Tue Feb 20 15:34:05 2018 -0800

    remove quickdraw (no performance effect)

commit f95eac36306291de1039ef23b3f0c73f0324e581
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Tue Feb 20 15:24:15 2018 -0800

    remove console logs. disable action logging middleware.

commit 446e7a57a2563662f72ac06f3d3477daf3170348
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Tue Feb 20 15:05:06 2018 -0800

    restore 3-part transitions

commit 88c3d96798f24571ee82c5380f66dd48c8402022
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Tue Feb 20 13:55:42 2018 -0800

    don't use transitions for CI entry / exit (too slow)

commit f3ebb3ae696c03488f6f20f67d3b19dd29a2fc10
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Tue Feb 20 12:52:54 2018 -0800

    sync CIs between redux & phylotree

commit 5eccf9111702866031cbf0d7f055e9258e93609a
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Tue Feb 20 12:26:19 2018 -0800

    improve initial render()

commit 7b6c29dc01f53201c692c2b17ffa72cd42f971ac
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Tue Feb 20 11:41:29 2018 -0800

    clean up clade labelling functions

commit 970568268dd823b0b737be83549bf660e72256e7
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Tue Feb 20 11:15:10 2018 -0800

    implement zoomToParent within phylotree.changes

commit ea3517395e8e35f8c3075c213361d0f965bd827c
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Tue Feb 20 10:29:04 2018 -0800

    deprecate code

commit 35bda6b9286edfe455d9641282de2f7e0cc66745
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Tue Feb 20 10:13:01 2018 -0800

    changePageQuery is now a single action

commit b070bfc088b89518e3c8c83c5324a5755cdb6994
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Fri Feb 16 14:35:34 2018 -0800

    partial implementation of changePageQuery

commit 8f3d6c1b5be5e0ed2e2c36362e0db74cba2127e3
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Fri Feb 16 09:29:06 2018 -0800

    add comments & improve bits of the code

commit a0d889d6068a297e8a18a4012ed32d34be242d9c
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Fri Feb 16 08:46:37 2018 -0800

    svg size changes handled

commit 583086cb3f8daabf801d8da04bb973c51b4acaa4
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Fri Feb 16 08:23:22 2018 -0800

    use timerflush for zero-time transitions

commit 1cdc192955c160bbda49998c26ca0c1a2e3d2e26
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Thu Feb 15 19:42:51 2018 -0800

    remove updateStylesAndAttrs and salientPropChanges

commit 2ee1b3d110e9e7ecc0584843a3d7afd8006f9f5f
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Thu Feb 15 19:39:05 2018 -0800

    layout changes (all transitions at once)

commit b68cea670439f01c52e5d2ec621566e07944db50
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Thu Feb 15 19:23:06 2018 -0800

    branch thicknesses change during zoom to clade

commit 20e472e2c22e479278904149c3a4a264a0d32bab
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Thu Feb 15 18:37:42 2018 -0800

    zooom into clade (without branch thicknesses)

commit e0938da85e22d690f62989a73c2c327b77a939df
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Thu Feb 15 18:02:12 2018 -0800

    confidence intervals (buggy)

commit ad2ce97d5b20adb6745f54fa563c6a38f1c20040
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Thu Feb 15 17:08:31 2018 -0800

    updateDistance

commit 7e87e5ba6b2bd5ce4788f2b73f7701dc0bc3658c
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Wed Feb 14 16:14:24 2018 -0800

    branch thickness & transition logic

commit b2883c7e46a70fe1527d24d94448c674a7045f8e
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Wed Feb 14 15:57:12 2018 -0800

    visibility & tipRadii

commit b2c541a86842b7932bf3e1ca8d29f63f11c43a82
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Wed Feb 14 15:50:18 2018 -0800

    initial render displays colours without extra phylotree call

commit 3b2ebb648d8d7df7406de98ef8df3af5f9c2cf5b
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Wed Feb 14 15:10:36 2018 -0800

    basic idea of new react-phylotree interface

commit ed32d67c07e0a54cf013a523982c0f9c486525b7
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Wed Feb 14 09:40:35 2018 -0800

    version bump to 1.12.0 for release

commit d3390e4615b6f7e7878ea68ad2a641357bc77af3
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Wed Feb 14 09:40:08 2018 -0800

    changelog

commit 4d432a62c81f7fe928832a666c3e6ffb3104fbe7
Merge: 7a8fd3ad 91fb4d38
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Wed Feb 14 09:32:53 2018 -0800

    Merge pull request #498 from nextstrain/vaccine-cross-date
    
    Vaccine cross date

commit 91fb4d38f6015e2bed6943ebd12836a9761a8581
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Mon Feb 12 17:28:50 2018 -0800

    vaccine positions correct for all layouts

commit 46d48e53314ca61a3a515aaf67da55d61c295666
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Mon Feb 12 16:51:25 2018 -0800

    use transition counters rather than setTimeout in updateGeometryFade

commit 6e986e7564f3d9673c430c687d81df8cad514349
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Mon Feb 12 16:25:34 2018 -0800

    updateGeometryFade works for vaccines

commit 232f8b9aeceeb4257888f213dceeef6784f09230
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Mon Feb 12 16:00:32 2018 -0800

    vaccine cross is now SVG shape with onHover, onClick etc

commit 3c362e62e7653327848f05a7f24cffd16e3ece4b
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Mon Feb 12 15:35:36 2018 -0800

    dotted line between tip date & vaccine date

commit a6b37ef8a0e448169bf5584d818d7f31412f9ccc
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Mon Feb 12 14:52:08 2018 -0800

    timer functions

commit a860135fffaa70faf80c58fa635437a346f089ed
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Mon Feb 12 13:36:24 2018 -0800

    tweak mapToScreen (30ms -> 20ms)

commit 03c8dce26bf1df6f65e70657416ea76b90242748
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Fri Feb 9 14:56:05 2018 -0800

    Specify n.crossDepth, n.Cross and n.xTipCross for vaccine cross

commit b327dc8e2e42c980d9c53b0d89ea8b3d8903fdef
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Fri Feb 9 12:37:52 2018 -0800

    order categories based on rise

commit 1d92c7cf54567412255af1d2e87279094e9f6e1f
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Fri Feb 9 12:13:23 2018 -0800

    genotype works

commit 6acacd3eb9234657659832b3b0c03554893c637e
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Fri Feb 9 09:58:19 2018 -0800

    reverse categories (new streams rise from the bottom)

commit fdb7ee4d87cd50466df6b2edf20b1cbd3671a7fd
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Thu Feb 8 18:51:25 2018 -0800

    tidy up frequencies -> pivots scripts

commit b434b88920f923f474d50c9e6bc30cdb726b96ae
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Thu Feb 8 18:25:58 2018 -0800

    tooltip / pivot line

commit d9f9873d6971e8b154aaae47a6aae3c4e4ad53c9
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Thu Feb 8 16:46:04 2018 -0800

    clean up

commit cfd5eb4c35eb0ac5cb1e0721c6dfabfc1f7b5262
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Thu Feb 8 16:40:58 2018 -0800

    normalise vs raw data toggle

commit d7e848966d9a48311aefa7f60d5d318928662649
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Thu Feb 8 16:12:39 2018 -0800

    continuous colorBy works

commit 2fd96eaeeb8555487028bec750fd99c4c1cdf3e4
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Thu Feb 8 15:48:52 2018 -0800

    working on visibility change

commit 101404d9748454c20b36574e1aca5eb012939ab8
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Thu Feb 8 15:07:26 2018 -0800

    working on initial load

commit 217c2dcb9d4171504382a644a195681e64a53895
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Thu Feb 8 14:31:58 2018 -0800

    kinda working

commit 514473f4e8ed684afaea2392da58ba152832cc25
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Thu Feb 8 12:21:27 2018 -0800

    debounced updateFrequencyData action

commit 2f69ecf7472d79cb3f3e50a293722285f6b24cf3
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Thu Feb 8 10:11:59 2018 -0800

    Frequencies JSON to pivots JSON & parse in reducer

commit e5d0991d417e85e0fb52de722c40f28b657aae65
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Tue Feb 6 18:18:39 2018 -0800

    scales + axes

commit 30df72cfa09a451edb11bb914678da6d28d253f8
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Tue Feb 6 17:36:29 2018 -0800

    frequencies fetch JSONs, empty panel

commit 7a8fd3ad4b07cd9764359358945605da7d3ad976
Merge: c7272357 fd3d0a58
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Wed Feb 7 11:58:51 2018 -0800

    Merge pull request #495 from nextstrain/perf
    
    Performance timing

commit c7272357fb1b60faf475680e1343de07ce5eec8d
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Tue Feb 6 16:47:59 2018 -0800

    upgrade babel-eslint to prevent errors

commit fd3d0a58d54fc0ae6dabb3b5698232cef80e2274
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Tue Feb 6 13:47:48 2018 -0800

    add timing function to map, entropy, animation

commit 3f8afa2893a448d8a7234b3a6a6ea7cd6e5f95dd
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Tue Feb 6 11:30:09 2018 -0800

    strip timing functions according to BABEL_ENV

commit c110adb5606144236199b893ddd1b2547b6cea56
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Tue Feb 6 11:16:30 2018 -0800

    add "perf" comand line flag for dev server to enable timing

commit 2a41b6b14fce095ffea81023f878c9dab83f26a6
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Tue Feb 6 10:27:19 2018 -0800

    proof of principle

commit 157fd4561accfbcda0f6495266cbb03426e4621d
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Mon Feb 5 16:19:55 2018 -0800

    version bump to 1.11.0 for release

commit 0ed1433ad41f4e553fc7eedc55ccc707aa7fa35c
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Mon Feb 5 16:19:34 2018 -0800

    changelog

commit 2a50cd0886b108d02f268be8d04d281270a54c77
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Mon Feb 5 15:15:06 2018 -0800

    fix <p> inside of <p> react error in tree hover info panel

commit 4609579a3140dd61925e6c16618457fa8821162c
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Mon Feb 5 15:12:47 2018 -0800

    export branchOpacityFunction

commit e2579556eb391d3904b9806a85689dd5e9bb02ae
Merge: 006935c2 eeb5d662
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Mon Feb 5 15:09:13 2018 -0800

    Merge pull request #493 from nextstrain/phylotree-cleanup
    
    PhyloTree cleanup

commit 006935c2043f06161940484f13e7de50fd29d545
Merge: 3fea6e43 77938013
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Mon Feb 5 15:09:02 2018 -0800

    Merge pull request #494 from nextstrain/react-16
    
    React 16

commit 779380131b2566fe17b1e4342744c83434942e14
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Mon Feb 5 15:05:21 2018 -0800

    update redux. Remove unused packages.

commit 7fe51f81317154e94edb6a3384832f42a31b4e70
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Mon Feb 5 14:40:22 2018 -0800

    react 16
    
    * required updates to "react-svg-pan-zoom" and "react-tap-event-plugin"
    * removed performance addon

commit eeb5d662a84f67c1b748c456b0f1fea2bfe19530
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Mon Feb 5 14:00:32 2018 -0800

    tree linting / syntax

commit f8be36e7c4cf11f96eb0c08d57e1145436bed893
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Mon Feb 5 13:42:45 2018 -0800

    optimise phyloTree constructor (c. 10ms -> 6ms)

commit ad2cbfb85c427f12c476449bb0ebd0e150347a84
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Mon Feb 5 11:30:55 2018 -0800

    break phylotree into files IV

commit c97640df628a789703c8ca2c350e08f1d407f8c6
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Mon Feb 5 09:43:56 2018 -0800

    break phyloTree into files III

commit b7fb9ebde46770e54420c8245143a00cadcf8a55
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Fri Feb 2 17:26:35 2018 -0800

    break phyloTree into files II

commit ad5d0cd98dbc27ab22f70b172c9a81c431d773a8
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Fri Feb 2 16:42:24 2018 -0800

    break phyloTree into files I

commit e22c0887359a9350bf4f983d393f2121274a502e
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Fri Feb 2 16:31:09 2018 -0800

    create folders, rename files

commit 3233167b5bb2a787f73442f65dd9a94a50023b4c
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Fri Feb 2 15:40:24 2018 -0800

    move & clean functions from treeViewFunctions.js

commit 0a2ac5aae8426e7603f3bb84badbdffb470dbd7d
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Fri Feb 2 15:12:25 2018 -0800

    remove processNodes.js

commit 2b7c04fce1c5f3429b1fbc7cf5dd19e7d8074499
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Fri Feb 2 14:26:36 2018 -0800

    clean up treeHelpers.js (eslint, remove unused functions etc)

commit 3fea6e43044ca1b091c979b84fbb01645758de93
Merge: db975e10 c5b08e5a
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Mon Feb 5 13:09:00 2018 -0800

    Merge pull request #490 from nextstrain/vaccines
    
    Vaccines crosses

commit db975e1065f2377f9b9f945e9f9604ebfa5a7e73
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Mon Feb 5 09:11:52 2018 -0800

    version bump to 1.10.0 for release

commit 20140b62b80a47ec2bd187e555607851b9edd2ad
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Mon Feb 5 09:10:18 2018 -0800

    changelog

commit bfe964a69f5188e326606e6a7eb05ddb1a171ca4
Merge: dc1f0cb5 62436830
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Mon Feb 5 09:06:58 2018 -0800

    Merge pull request #491 from nextstrain/LBI
    
    Local Branching Index

commit 62436830bf22b346b02c0f969458c09fd3088786
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Fri Feb 2 14:04:16 2018 -0800

    remove console.logs

commit 0a69eec52712c896e6e6fdddd9b2f5f14e42a7ae
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Fri Feb 2 13:53:49 2018 -0800

    LBI colour ramp over [0, 0.7] like nextflu

commit 79d5ed656839fdd3c375e92201f449eed462a40e
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Fri Feb 2 10:22:07 2018 -0800

    LBI color scale (results differ wrt nextflu)

commit 321c21a0e03071ab80f054a3efca22b671917bab
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Thu Feb 1 16:05:42 2018 -0800

    make dummy LBI scale

commit c5b08e5a78aca548119850b92e92739da94bf498
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Thu Feb 1 15:26:24 2018 -0800

    style crosses like nextflu

commit be5fa92687cb5ae4ebdf01d12023de73a3325f25
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Thu Feb 1 15:00:02 2018 -0800

    add vaccine date to tip hover / click panels

commit 8900342016ff3ac3960974115db418a3cdfb4f3c
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Thu Feb 1 14:44:09 2018 -0800

    vaccine X marks

commit dc1f0cb56e051cc2bfca61bcdb31c472bfc22a89
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Thu Feb 1 13:20:08 2018 -0800

    improve error message

commit 18afd9a018416fb04d9bec7e838614a91ae8462c
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Thu Feb 1 13:19:58 2018 -0800

    update get_data script (removes entropy & sequences JSONs)

commit 8843851e40412059180ae5fdffe132ef40bba7f0
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Wed Jan 31 11:43:08 2018 -0800

    add action logging middleware for development

commit 28e125c31504d76a65c8992bf4e10454fc82d2c6
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Tue Jan 30 18:01:01 2018 -0800

    version bump to 1.9.0 for release

commit bf62de56fc5fead38e23ee2d310de4395da5ca47
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Tue Jan 30 17:59:28 2018 -0800

    changelog

commit 5a71f8c7f314b61e3d9dc00b9dd15eee2214b827
Merge: f6659126 7a155994
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Tue Jan 30 17:36:24 2018 -0800

    Merge branch 'narrative'
    
    * narrative: (25 commits)
      fix URL during animation. Remove console logs.
      move animation code into seperate <AnimationController> component
      Bug fix / clean up how animation is started & stopped
      Move narrative into sidebar & disable for merge into master
      fix animation + narrative bugs
      reduce minimum loop animation window
      narrative block scrolls instead of overflowing
      shift date to numeric calculations to reducer
      narrative timeline
      comment the URL path/query processing
      close controls sidebar if narrative (on page load) (clunky)
      fade out/in narrative block
      improve narrative styling
      animation starts automatically if specified in URL
      save animation params to URL state
      animation resumes (rather than resets) when appropriate
      allow animation looping
      background colours
      clickable titles
      redefine narrative md syntax
      ...

commit 7a15599417dbea989a9f8c6407e49aa38b9ccaba
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Tue Jan 30 17:33:30 2018 -0800

    fix URL during animation. Remove console logs.

commit 99a1d80c3a3870dfad208963f7b928e9b16d6455
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Tue Jan 30 17:17:40 2018 -0800

    move animation code into seperate <AnimationController> component

commit 304939567da3d85065d25906c361138278be8036
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Tue Jan 30 16:02:45 2018 -0800

    Bug fix / clean up how animation is started & stopped
    
    It is now "more react-like" in that it responds to redux state rather than an imperitive-like call.

commit 51958ed9262691db90c63dfa00d47c06e6b877e5
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Tue Jan 30 14:06:06 2018 -0800

    Move narrative into sidebar & disable for merge into master

commit 7433d58f6626e41a95bf55ad9f55e06015585b62
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Thu Jan 25 16:29:19 2018 -0800

    fix animation + narrative bugs

commit 8b9a62f64da95b0eb79422f468961fc0076953b4
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Thu Jan 25 15:01:56 2018 -0800

    reduce minimum loop animation window

commit 5c49baf605b7261f4aa009a4e44ec39cde531fea
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Thu Jan 25 14:51:58 2018 -0800

    narrative block scrolls instead of overflowing

commit 63802861ae2d8ad3fdd2c5b77fdfab68ce96b26b
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Thu Jan 25 14:08:41 2018 -0800

    shift date to numeric calculations to reducer

commit 9d797ad7384b90aaa5bbd31cb6a0c0b87552688c
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Thu Jan 25 13:31:13 2018 -0800

    narrative timeline

commit a33bd936ae894256310d92fa01242723776885b0
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Thu Jan 25 12:03:12 2018 -0800

    comment the URL path/query processing

commit c26ee1f988393f3665baa3aec0c88be65e7b9f77
Merge: 62c32d6e e484428b
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Thu Jan 25 11:01:19 2018 -0800

    Merge branch 'loop' into narrative
    
    * loop:
      animation starts automatically if specified in URL
      save animation params to URL state
      animation resumes (rather than resets) when appropriate
      allow animation looping

commit 62c32d6ee0201b650eaf288f5f1a5115bded8f59
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Thu Jan 25 10:52:55 2018 -0800

    close controls sidebar if narrative (on page load) (clunky)

commit f8348205c73ac8c732846fa181b0df68b9c85bb8
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Thu Jan 25 10:46:50 2018 -0800

    fade out/in narrative block

commit 404094a6cebf9189d47e420fcf3f63a0e34673e4
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Thu Jan 25 10:32:36 2018 -0800

    improve narrative styling

commit e484428b2c0f82a239bdbc62d527cced86562ff7
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Wed Jan 24 18:55:47 2018 -0800

    animation starts automatically if specified in URL

commit e69e2e44087bac413d1390903db92256e964113c
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Wed Jan 24 18:45:19 2018 -0800

    save animation params to URL state

commit 8a5cdf726bccc7ad58ac856681a2aec8823b6f9d
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Wed Jan 24 18:27:35 2018 -0800

    animation resumes (rather than resets) when appropriate

commit e281db2b9f175459315de0fa2f2d0d0540a86516
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Wed Jan 24 17:22:48 2018 -0800

    allow animation looping
    
    animation end point is defined as the currently selected max not absoluteMax

commit 676030953dc39fa8e89ecda4d66c92e601fc8f15
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Sat Jan 20 00:07:32 2018 -0800

    background colours

commit b4f2737a43cfee506144c1d069f5b6af64dcbc01
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Fri Jan 19 23:32:48 2018 -0800

    clickable titles

commit f1a1765ea2c71f78769caf17e6101cbece8bbb99
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Fri Jan 19 23:22:47 2018 -0800

    redefine narrative md syntax

commit 76ebbe04e01a5d58a52bb83b9744f726c1c22d3c
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Fri Jan 19 22:11:47 2018 -0800

    star-wars title text sizing

commit 139fb9bd110d23e109b22b7710d4a00e181f1447
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Fri Jan 19 20:34:02 2018 -0800

    fix margins & padding

commit 3376dbeefc8c551f7a291fc201d6f68abc1fb117
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Fri Jan 19 17:02:34 2018 -0800

    prototype carousel narrative

commit be3e1828103f31fdd5894a7e7f441c567b8fa199
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Fri Jan 19 14:28:33 2018 -0800

    move narrative to LHS. Fix responsive width bugs.

commit ac89c5eeea1e74f056b7388db5c909157e859cfe
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Thu Jan 18 16:53:01 2018 -0800

    enable narratives (flag)

commit f6659126569f1c0d2ecf55ed5776b55f6edc3be5
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Thu Jan 18 11:05:05 2018 -0800

    version bump to 1.8.0 for release

commit 7617f33102863a0fd764b1317020044dbbd5773b
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Thu Jan 18 11:03:46 2018 -0800

    add changelog & modify release script to update changelog

commit 78eb6165227771f265ed2e75ad15bc27b290ac50
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Thu Jan 18 09:58:30 2018 -0800

    remove console.log

commit 678037784463d0432ef684cc34d8e6ee8a89b124
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Fri Jan 12 17:20:06 2018 -0800

    limit num proteins with muts in tree hover info-box. Closes #484

commit bd96e68b58cc086fb8d8a50f11fadf523227a25e
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Thu Jan 18 09:47:43 2018 -0800

    Check author exists in authorInfo before render. Closes #488

commit 645b1253a198bc23b3736588b5ff6067b07151f8
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Thu Jan 18 09:44:37 2018 -0800

    replace router with window.location in footer. Closes #487

commit b33e2c128301890e149ea372a4c6d406d66cc1ae
Merge: 6932b75e 8334e414
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Wed Jan 17 17:41:44 2018 -0800

    Merge pull request #478 from nextstrain/entropy
    
    Reactive entropy data & URLs handled via middleware

commit 8334e414b5e8aec6576a6ec1f7d6a05cb56f2e74
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Wed Jan 17 17:32:30 2018 -0800

    keep redux page state in sync when going back via browser. Closes #485

commit e32a1ddf69c02b2b0f03049a3cea0001b973ce55
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Wed Jan 17 16:43:08 2018 -0800

    move entropy/counts toggle to RHS

commit 04ddea18bfe46594ecc0e9ed8c2a4eb27c49ac58
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Wed Jan 17 16:17:46 2018 -0800

    fix entropy calc denominator bug

commit 781101c27f114dc552dc3ea5ba70597135192388
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Wed Jan 10 10:57:37 2018 -0800

    disable narratives for merge

commit a99feef7a50fe2da1b1d31ce97762c04e380618b
Merge: 12859ac2 f35f2d89
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Wed Jan 10 10:51:58 2018 -0800

    Merge branch 'url-middleware' into entropy
    
    * url-middleware:
      remove console logs
      posts use URL pushState
      use pushState and replaceState
      fix choose-dataset selector & pageChange API
      store dataset name in datasets.datapath
      remove npm history package (window.url)
      post URLs working (and they use redux)
      clean up URL handling
      handle URLs ourselves (remove react router)  (incomplete)
      restore modifyURLquery (now deprecated)
      remove context where no longer needed
      date URL changes in middleware
      panel layour & distance measure URL changes in middleware
      geo resolution URL changes in middleware
      layout URL changes in middleware
      filters now change URL in middleware
      move url state of  colorBy to middleware
      redux middleware prototype working

commit 6932b75ec24555469a9d1d8e8ebcda254c9afda5
Author: Trevor Bedford <trevor@bedford.io>
Date:   Thu Jan 4 13:16:47 2018 -0800

    version bump to 1.7.2 for release

commit d4ed4bfaaa3a975a7e93d6633169f23cf25111ad
Merge: 1d546282 28c2e490
Author: Trevor Bedford <trevor@bedford.io>
Date:   Tue Jan 2 16:31:32 2018 -0800

    Merge pull request #477 from nextstrain/url
    
    add state to URL

commit 12859ac2dfc08cb89adf8fa23cf579b4412d7199
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Tue Dec 19 17:30:23 2017 +1300

    tweak gene length parsing. remove console logs.

commit 8ad327432932bb9b2d6895b79bb6881a1e0d2853
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Tue Dec 19 16:14:10 2017 +1300

    remove sequences & entropy JSONs by adding annotations to meta JSON

commit a0781cd5ecb56a32e5f5cd885059b1cb70cf04f2
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Tue Dec 19 09:51:49 2017 +1300

    remove getGenotype calls

commit 71e122b9df67886c4b198e63949067143a2006ac
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Mon Dec 18 22:48:14 2017 +1300

    set genotype at each node without using sequences.json

commit d6b356b742865a477f7ca85108240e7f44bdcd5f
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Mon Dec 18 19:32:28 2017 +1300

    combine code for aa & nt mut / entropy calcs

commit f35f2d89048ef7471d734c855158dc09feeefc96
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Thu Dec 14 15:07:01 2017 +1300

    remove console logs

commit 5a5f01c35eeb16078efda84c3ff241082f08e5d5
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Thu Dec 14 15:04:42 2017 +1300

    posts use URL pushState

commit 17e387354cd006fc2de1196533a1831a0f267b1f
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Wed Dec 13 21:29:23 2017 +1300

    use pushState and replaceState

commit dff0635c35c653935b21b27a2bfacb3b74d58e8b
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Wed Dec 13 16:21:17 2017 +1300

    fix choose-dataset selector & pageChange API

commit 6b7a5149925bb099f85bef945baadb72ff68c7af
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Wed Dec 13 15:49:09 2017 +1300

    store dataset name in datasets.datapath

commit d171e87c4b36da3633cd518c6e2318aaaa6c7183
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Wed Dec 13 15:08:55 2017 +1300

    remove npm history package (window.url)

commit d74b1dce678c8b20552ac1984b67e51fab0ecff4
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Wed Dec 13 14:44:02 2017 +1300

    post URLs working (and they use redux)

commit 3293369fd83779a56fca6140202c18c1a1c72ae7
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Tue Dec 12 10:38:31 2017 +1300

    clean up URL handling

commit 595e40172c21f4e8c0bfef1bdda49dbf216b7650
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Mon Dec 11 16:29:56 2017 +1300

    handle URLs ourselves (remove react router)  (incomplete)

commit ced55e9c11c61b60196710af668fcc5b74d7f0b0
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Fri Dec 8 14:32:04 2017 +1300

    restore modifyURLquery (now deprecated)

commit 55c75303a903ef5432963b0adf4d9797a863fb2a
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Fri Dec 8 14:20:24 2017 +1300

    remove context where no longer needed

commit 2622216689dbc725cc9f0e99f0c3761f3459b478
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Fri Dec 8 14:15:27 2017 +1300

    date URL changes in middleware

commit 79e4994a420769fd76155518267df21f53215a5c
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Fri Dec 8 13:42:39 2017 +1300

    panel layour & distance measure URL changes in middleware

commit 2d03bba53b205df41dea5912f7dea094f3dabd15
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Fri Dec 8 13:35:28 2017 +1300

    geo resolution URL changes in middleware

commit 851d7ef9196c70e890853f545ebe6bb024784cf8
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Fri Dec 8 13:31:43 2017 +1300

    layout URL changes in middleware

commit 362c224aec08c2d6165fc55d3071894826fab063
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Fri Dec 8 13:25:13 2017 +1300

    filters now change URL in middleware

commit 9fec09ea527c28ad68ac0af550630beba8276595
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Fri Dec 8 13:09:29 2017 +1300

    move url state of  colorBy to middleware

commit e532d6b7b6f1488ffe08409b43f82ccb523e0d45
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Thu Dec 7 14:16:31 2017 +1300

    redux middleware prototype working

commit 1d5462823ba928fbe6bea8bf366c305bde7e3fb6
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Thu Dec 7 12:52:07 2017 +1300

    add (posts) manifest to get_data.sh

commit 9661f6df4900df0417062eb82a82a736fae6942c
Merge: 07d6ee5c 3f9e2fff
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Thu Dec 7 10:29:52 2017 +1300

    Merge pull request #476 from nextstrain/narrative
    
    Narrative machinery

commit 3f9e2ffff439ac93dc1937c0c6d28637fdbc4ebf
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Thu Dec 7 10:27:59 2017 +1300

    enableNarratives = false for merge into master

commit 140ede60426c23aa5de5ed055f59dd26c3193339
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Mon Dec 4 15:10:04 2017 +1300

    race condition bugfix

commit 2c794134207a7f878df2bad524fa7ed034b9d4f5
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Mon Dec 4 14:52:19 2017 +1300

    restrict entropy values to 3dp

commit 1d40923703b0a92f024e91075f0167d8f0bc1fe9
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Mon Dec 4 14:35:40 2017 +1300

    entropy vs counts toggle

commit 3ca2ac93fe8d40c6bd63cf6c46b90786a68d5a2c
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Mon Dec 4 14:12:45 2017 +1300

    aa entropy bugfix
    
    data still look slightly different to the augur computed version.

commit 46190ba68c269fa8bcbd932e0950249508480093
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Mon Dec 4 12:37:26 2017 +1300

    fix selected bar colouring on click

commit 617c2c24e607488bf7212c87b4aae0d12900bd51
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Mon Dec 4 11:25:07 2017 +1300

    aa entropy working - needs testing

commit 0a8f5c60cc9776cb73cb2b7cc3f8c80325c8508b
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Mon Dec 4 09:20:03 2017 +1300

    true nt entropy works with filters

commit afb76a43faae913c45d13e40ff00cc88ce68f554
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Wed Nov 29 18:38:39 2017 -0800

    nt true entropy

commit fd89138897e65e8e6e37a77f09620c4d4b6a98d2
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Wed Nov 29 17:46:25 2017 -0800

    reorganise code, add trueEntropyCalc global flag

commit bf896925973d0423cef23c742915db4a38d849bb
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Tue Nov 28 15:39:15 2017 -0800

    change wording in info panel

commit a314c47ad8fa876c200a2c641be1d7f702c4ec56
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Tue Nov 28 13:56:49 2017 -0800

    reduce debounce time

commit 5f5b0664b3e550bc31d5dc84d3a351687714571b
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Tue Nov 28 13:41:46 2017 -0800

    remove json entropy data from reducer

commit a940569836f68bda39a1cbbb99c0415378c53529
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Tue Nov 28 13:38:00 2017 -0800

    don't calculate entropy during animation

commit 43625d79d0c052924ab3bd2c732faec279c82423
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Mon Nov 27 17:19:08 2017 -0800

    fix race bug on page load

commit 5b5c8c4cf9bf264bd8567bc887b4f15e09e4c8bb
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Mon Nov 27 17:11:31 2017 -0800

    fix colorBy control as redux state has changed

commit dd7b28f7d5417708dfa5cf5e074cf3a0cd697d1f
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Mon Nov 27 16:14:23 2017 -0800

    prevent unnecessary D3 calls

commit 320ee4de3199d616c4aacc6f4464c71f3f7cde22
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Mon Nov 27 15:40:41 2017 -0800

    fix 1-off bugs

commit b04d412f0aeafd160aadb9c976dfe679e7fd4bfa
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Mon Nov 27 14:48:16 2017 -0800

    fix rebase errors

commit b62595497b5253741c8d1f1d00b2118ce96ac492
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Mon Nov 27 14:30:48 2017 -0800

    add race condition error handling

commit 750ffdf91604d47b8dd3fdc41c4fc74603f7f9b1
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Mon Nov 27 14:06:41 2017 -0800

    y axis updates when data changes

commit f9f00a26dd310d809ca085ee67dca560b8d5e15a
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Mon Nov 27 12:57:27 2017 -0800

    reorganise entropy D3 code

commit 8b071bb97bc0380e9df622d53f78d10f5f4d63f9
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Mon Nov 27 11:55:09 2017 -0800

    improve interface between react & D3

commit d184128443b4f46b55c8319b0548c6ebe13824e7
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Mon Nov 27 10:24:43 2017 -0800

    entropy data always derived from tree

commit 8988d9975c3bafd1e571ef3910c4dec4c78ff9e4
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Mon Nov 27 09:50:38 2017 -0800

    entropy aa updates reflect visibility (buggy)

commit c67c27d6cdb98f7f03fdf65972bba0a88f83cd5d
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Sun Nov 26 21:30:26 2017 -0800

    entropy nt updates reflect visibility (buggy)

commit f580ac49f6bd9727e69e97422670b2d90a11ddde
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Sun Nov 26 19:38:58 2017 -0800

    remove entropy.entropy from state

commit 44675356d6d37cd00011c4fcbec92a18fa5cd71c
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Sun Nov 26 19:36:51 2017 -0800

    annotations & geneMap moved to reducer

commit 037badbbcd0975cbf4ac6c951a926d8becef411f
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Sun Nov 26 14:57:42 2017 -0800

    entropy bar data set in reducer

commit dc4fd7b5bc8eba285b448c9dcb3976ca789c6601
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Sun Nov 26 12:31:04 2017 -0800

    debounced update entropy action template working

commit 28c2e4904f4b821ff249d587704d2e3735e42724
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Thu Nov 23 12:01:08 2017 -0800

    add panel layout (full / grid) to URL query

commit 76fcaab2ef143b6fc4fe4a3bc1f06e838ce42ffc
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Thu Nov 23 11:31:25 2017 -0800

    sidebar colorBy updates genotype via URL / entropy panel

commit 7ffa25cf5700794a5d26b563498a95a7a62693d2
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Thu Nov 23 11:11:48 2017 -0800

    loading genotype via URL updates entropy panel

commit b8e97a6768d4c479d1c2215c2e93906cac158357
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Thu Nov 23 10:56:06 2017 -0800

    genotype URL colorBys parsed by reducer

commit 042fa724595c930d53894c3ec81dd2397a6145c3
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Thu Nov 23 10:43:44 2017 -0800

    closing date box in <Info> clears URL query

commit 853c342acf903ff8d80cef1c9e3c9d914ae83b13
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Thu Nov 23 10:33:59 2017 -0800

    avoid unnecessary updateColors() calls

commit 1cf6d5f29064721f50639b3a359fee5300f95273
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Thu Nov 23 10:14:34 2017 -0800

    imporve reassignment of defaults when query URL changes

commit 9f569e619003c475cf90963f616f7bc247f99100
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Wed Nov 22 23:24:25 2017 -0800

    filters in URL state

commit c96adc2aaf271245371bf5e8ac36a9d8a83ce145
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Wed Nov 22 22:21:04 2017 -0800

    reinstate enableNarratives global flag

commit c33d2535a036e48b1e8771e8f9c613921e913be7
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Wed Nov 22 22:20:41 2017 -0800

    fix bug in getNarrative 404 handling

commit 75e9fdfa2503b467f8c7484396ce22769809aa18
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Wed Nov 22 22:11:25 2017 -0800

    app only renders right sidebar when narrative loads

commit 2f3252bf8206cc12a16b20327ee897b3feef901f
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Wed Nov 22 21:50:38 2017 -0800

    move narrative data to redux

commit 9df7ff18b962bfbac7b0f9c538f9963451b5b214
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Wed Nov 22 21:34:08 2017 -0800

    add narratives to get_data script

commit e6b92c49950104a7f54184a7b6c39b057526e4da
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Wed Nov 22 16:43:50 2017 -0800

    fix right sidebar bugs

commit 0cbae6afdec318dae5dc8a27fb17cfa30e5bf994
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Wed Nov 22 15:29:11 2017 -0800

    reduce default hover time to 500ms

commit a76292e35163cb58a4413cfb43af58f330dd1b4d
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Wed Nov 22 15:18:42 2017 -0800

    add [NEXTSTRAIN_NO_ACTION] to markdown parser

commit c75f8393715f365492f61a99276db95c4b67d60b
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Wed Nov 22 15:13:01 2017 -0800

    fix sidebar background overlay

commit 01e3ab2164743e0dd047cfb5e8ed4568e4de4c7f
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Wed Nov 22 14:51:22 2017 -0800

    use right sidebar for narrative

commit 32f41d5a05f44fff03ebc6f8171123451be860d8
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Wed Nov 22 14:01:26 2017 -0800

    css

commit db6c742f7727c64d3605e19f22e2f91440912959
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Wed Nov 22 13:54:37 2017 -0800

    serve narratives from themis

commit 65a081ffcaa1a0f942e1c002de64aaef3e8c8bef
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Wed Nov 22 13:36:26 2017 -0800

    markdown -> (local) server -> client -> components

commit 899e376f520989bc1c685f8f7eddec76f7296d65
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Tue Nov 21 17:37:50 2017 -0800

    add enableNarratives in globals to allow merging into master

commit b337da258079215ace0b4e19da350a2c9b6b3671
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Tue Nov 21 16:53:17 2017 -0800

    update colorBy URL query within action

commit 01feb11bf0d1fbc07cf3e7c22750603f959d4190
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Tue Nov 21 15:07:43 2017 -0800

    bug fixes

commit a8c7237236cf82a3b7992f360322660fbac6cb73
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Tue Nov 21 14:07:08 2017 -0800

    paragraphs change state via URL query (buggy)

commit e25d41bfeb4122ee00911265f743345c1cac6d5e
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Tue Nov 21 13:42:48 2017 -0800

    break apart controls reducer into functions

commit af849b123d915c55886fa2498c6f9d9efde312e3
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Tue Nov 21 12:27:31 2017 -0800

    temporary: narrative toggle in sidebar

commit 50c5dad6928206cc82ea3d3649c62b693b1f2cf1
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Tue Nov 21 11:57:30 2017 -0800

    paragraphs cause url change (no state change yet)

commit 07d6ee5c00761c4095df3bc04d55a270c9799910
Author: Trevor Bedford <trevor@bedford.io>
Date:   Tue Oct 31 07:58:08 2017 -0700

    version bump to 1.7.1 for release

commit 54ab043a704af146e518b3adcf1333dee693bfe0
Author: Trevor Bedford <trevor@bedford.io>
Date:   Tue Oct 31 07:57:45 2017 -0700

    Add acknowledgements to mumps

commit e6e23bad4c5ca9fbdaedab8b75131807ed990695
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Tue Oct 24 11:30:10 2017 -0700

    narrative prototype

commit b052039442dbe2b05eeea868b8355a3d0786fb93
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Tue Oct 17 13:53:20 2017 -0700

    version bump to 1.7.0 for release

commit f22ea37f7db2885e18b92373ef451f7d4d07de08
Merge: eb0752bb 37e2f496
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Tue Oct 17 11:23:32 2017 -0700

    Merge pull request #471 from nextstrain/s3-staging
    
    S3 staging

commit eb0752bb54eb50a9aa326823a4c14a33464b3f05
Merge: fa19815e ab5e113d
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Tue Oct 17 11:23:07 2017 -0700

    Merge pull request #472 from nextstrain/enable-downloads
    
    Enable downloads

commit ab5e113d04b8079ab1793b2b4a6f14f23bb85f33
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Tue Oct 17 11:22:47 2017 -0700

    fix ordering of metadata CSV fields

commit 742aa0f220a7e3da966eeb2abb0c61fec41a36e4
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Tue Oct 17 10:53:15 2017 -0700

    data attribution v2

commit ac2e67416f7e96ea32f95da39759b7db4c74ecd7
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Tue Oct 17 10:53:07 2017 -0700

    strains seperated by spaces not tabs in CSV

commit 83c7b2ec0fbe68fd99eb6e89112621eaf62e2523
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Tue Oct 17 10:34:44 2017 -0700

    tip selected panel uses metadata

commit 18657e06f0c3f1b8d2cc7e6efa0a5553430af6ec
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Tue Oct 17 10:27:49 2017 -0700

    SVG images fixed

commit 7e7b25203ef1b5130de8f5c0505d287b865300ad
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Tue Oct 17 09:49:57 2017 -0700

    fix download filenames

commit b8352e7e392fc0e9116f098ad4ac940b50933738
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Tue Oct 17 09:13:41 2017 -0700

    data usage policy v1

commit c3c995a7f6af993c5bc64a6e45a06d50c3f7c385
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Tue Oct 17 08:53:51 2017 -0700

    content & layout

commit 33ea84f8f356ecdc703f7161791fd28ce9756d40
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Tue Oct 17 08:13:31 2017 -0700

    button styling

commit c283b256a000dfa1e0ba6c38732069b979b007e2
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Mon Oct 16 15:01:10 2017 -0700

    data sources

commit 81cff371dbf7aa279cee24b352425c05eaae10f3
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Mon Oct 16 14:38:40 2017 -0700

    titer model paper citation

commit 762a83ab8fa962ed90eb9acaf16a091446ff583c
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Mon Oct 16 13:27:19 2017 -0700

    button tweaks

commit 50e15579c5695a4bfd15a4884627e9f99101cd48
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Mon Oct 16 12:45:05 2017 -0700

    enable download modal

commit 37e2f496095bb990590280419cc0a2b274590b1d
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Thu Oct 12 13:44:05 2017 -0700

    add message in info panel

commit fa19815e5486b6f059941085a67393901a49b07a
Author: Trevor Bedford <trevor@bedford.io>
Date:   Wed Oct 11 17:08:54 2017 -0700

    version bump to 1.6.2 for release

commit 2292725c9cb35aa0f763c95539a72a16ba03a2b4
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Wed Oct 11 16:09:32 2017 -0700

    paths fixed

commit a4e66c7e238f79866dddf538b64cafce856e7cc0
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Wed Oct 11 14:45:51 2017 -0700

    staging server toggle + machinery
    
    manifest working

commit aeabc17ffc02acb8bc4d0efe66e291d8ea3c9764
Merge: e380fce8 fcd9ea22
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Wed Oct 11 08:43:08 2017 -0700

    Merge branch 'undefined'
    
    * undefined:
      remove blank entries from legend
      remove undefined / "?" from (total) stateCounts

commit e380fce8a9d852712973fa998defc573e2f41dd8
Merge: 8d87dd00 0286f94c
Author: Trevor Bedford <trevor@bedford.io>
Date:   Tue Oct 10 17:21:45 2017 -0700

    Merge intro-paragraph into master

commit 0286f94c47ebb3eb34387c1610aff83ea992fc78
Author: Trevor Bedford <trevor@bedford.io>
Date:   Tue Oct 10 15:50:10 2017 -0700

    Minor wording changes for dates

commit 08eaa34b6c2b927326c0ebf0afde31a925a7443d
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Tue Oct 10 15:43:06 2017 -0700

    total counts in info filters

commit fcd9ea229dae4d394be8c5faedf73b0b6632d4ca
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Tue Oct 10 15:22:02 2017 -0700

    remove blank entries from legend

commit 0c8e7c5d202aca4ba76c839ca202d7eb01dea50a
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Tue Oct 10 14:57:16 2017 -0700

    remove undefined / "?" from (total) stateCounts

commit eb7d8f197e1daeb768ed26d16960f08e35d9fc5f
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Tue Oct 10 13:33:42 2017 -0700

    machinery part III - footer working

commit 58bed68e73d22c982c2f232f9787a9cd29889bb8
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Tue Oct 10 11:11:00 2017 -0700

    machinery part II - info working

commit a5afda6d34d2872d7436316a148fe1170e014189
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Mon Oct 9 16:05:44 2017 -0700

    machinery part I

commit 1b2da6d6aa52b20ca6ff56b2df36de37450a7928
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Mon Oct 9 15:34:26 2017 -0700

    aesthetics

commit 8d87dd00f6fed21550f3e6372a89266424ec0821
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Mon Oct 9 11:39:24 2017 -0700

    bugfix: never switch to grid if there's no map

commit ae321b80dc5b3f416b36abdd2306371f2f858b33
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Mon Oct 9 11:15:14 2017 -0700

    remove grid/full toggle if no map

commit 7495edab47a5da47abd5444e1ef71ac18328d52b
Merge: 00ca57e6 77cef87d
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Mon Oct 9 07:40:58 2017 -0700

    Merge branch '438-static'
    
    * 438-static:
      posts have seperate manifest file
      splash images in data/
      Hide posts navigation link
      Update get_data script with static files
      Rename reports to posts
      Split data and static
      Fix typos in get_data shell script
      update getData.sh (there must be a better way)
      webpack server.js for production
      minor
      server requests working for S3 & locally
      URLs and TOCs
      reports working locally
      display list of reports & API request
      server side rendering of reports (no content yet)
      Reports boilerplate. React Hot Loader 3.

commit 77cef87de4cd52cf26b9bf6c560ddd184c19aaff
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Thu Oct 5 17:35:47 2017 +0100

    posts have seperate manifest file

commit 00ca57e678b7c312e6a19ce774b618fb73c740c1
Merge: 176e7cf3 7939a556
Author: Trevor Bedford <trevor@bedford.io>
Date:   Thu Oct 5 17:30:27 2017 +0100

    Merge pull request #467 from nextstrain/simplify-metadata-reducer
    
    metadata reducer flattened

commit 9f331beaee16b10a0b0dc671ade45eda7ba1bea6
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Thu Oct 5 16:43:36 2017 +0100

    splash images in data/

commit 176e7cf3e665bde9a0a25b0da31ba7c2bf43ee70
Merge: eaa36956 5cab53ef
Author: Trevor Bedford <trevor@bedford.io>
Date:   Thu Oct 5 16:32:17 2017 +0100

    Merge pull request #468 from nextstrain/first-load
    
    don't calculate color scale before data is loaded

commit 5cab53ef9a38f53a63d7a4bf79e9176782ed3796
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Thu Oct 5 16:13:50 2017 +0100

    don't calculate color scale before data is loaded

commit 7939a556dec2ed1bdf2377c061571e22974c64a0
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Thu Oct 5 15:41:31 2017 +0100

    metadata reducer flattened

commit ad3d21e2dff5fc65ea198738d32ad5e7da432154
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Thu Oct 5 15:01:12 2017 +0100

    better summarise non-selected filters

commit 7426d41885ffc6f8dd124adea724e91c052d9eeb
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Thu Oct 5 14:47:18 2017 +0100

    simplified message during map animation

commit eaa369561cfa41f8f1aa0b4e9895a6a32fc683d4
Author: Trevor Bedford <trevor@bedford.io>
Date:   Wed Oct 4 13:31:19 2017 +0100

    version bump to 1.6.1 for release

commit f278dff27577a6018b750f60a7937325fb2af030
Author: Trevor Bedford <trevor@bedford.io>
Date:   Wed Oct 4 00:36:01 2017 +0100

    Tweak panel heights to better fit on initial load

commit 5436cd45f53a011639b788fb3d9e90ff5158e208
Author: Trevor Bedford <trevor@bedford.io>
Date:   Tue Oct 3 17:04:41 2017 +0100

    version bump to 1.6.0 for release

commit a12b59bfca188cdaff6876c743adaef095007ff1
Author: Trevor Bedford <trevor@bedford.io>
Date:   Tue Oct 3 17:04:00 2017 +0100

    Expand select menu when many options

commit 767ed932e8cd6c86fe6430823de346b4938ed65c
Author: Trevor Bedford <trevor@bedford.io>
Date:   Tue Oct 3 15:03:35 2017 +0100

    Improve acknowledgments

commit b57aefd7df73d53a9708f26ce9cca409043b7a4d
Author: Trevor Bedford <trevor@bedford.io>
Date:   Mon Oct 2 17:51:59 2017 +0100

    Fix pills padding, small shading tweaks

commit b8ec62088586ee3634dabb057e1cf488cea2b0b1
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Mon Oct 2 15:14:27 2017 +0100

    reinstate date info with month - year

commit 41a1cd4abca691892e1175e57cfa05c200e16985
Merge: 948dec22 73a3aa6f
Author: Trevor Bedford <trevor@bedford.io>
Date:   Mon Oct 2 14:58:43 2017 +0100

    Merge pull request #464 from nextstrain/styles-v3
    
    Styles update, dark sidebar, minimal cards

commit 73a3aa6f3ebe2e248b0d913bb28279a65658ac64
Author: Trevor Bedford <trevor@bedford.io>
Date:   Mon Oct 2 14:32:17 2017 +0100

    Slight styling adjustments

commit 23b7f4480b303e45da3388fe4b5f50c0391b46fb
Author: Trevor Bedford <trevor@bedford.io>
Date:   Mon Oct 2 08:52:42 2017 +0100

    Swap to light sidebar
    
    Leaves all structural changes intact. Only changes sidebar color, brand color and greys to match.

commit daa49dcb2366a7f684bf4339da3f0832e135def2
Author: Trevor Bedford <trevor@bedford.io>
Date:   Sun Oct 1 19:07:39 2017 +0100

    Bug fixes to gt coloring

commit f619d3fb10c8921079aac709594e8419b8c42097
Author: Trevor Bedford <trevor@bedford.io>
Date:   Sun Oct 1 11:16:49 2017 +0200

    Style and improve colorBy input
    
    Gene now has a dropdown menu. Input is safer and not buggy. Select box is properly styled.

commit d90d9d06964f62b92482b5a21926fa01d3b455d4
Author: Trevor Bedford <trevor@bedford.io>
Date:   Sun Oct 1 10:33:45 2017 +0200

    Fix loading issue with metadata in geoResolution

commit 213bc613f2232f65d224469c9b9904a81511f336
Author: Trevor Bedford <trevor@bedford.io>
Date:   Sun Oct 1 10:03:20 2017 +0200

    Tighten up buttons and swap ordering of panel layout

commit 9888a736ea3d3cebb03da9d887ee8f76e3636007
Author: Trevor Bedford <trevor@bedford.io>
Date:   Sat Sep 30 20:49:11 2017 -0700

    Restyle react-select and update other styles to match

commit 68c38016798a33509a2684b8741011ec465b3e5a
Author: Trevor Bedford <trevor@bedford.io>
Date:   Sat Sep 30 20:11:15 2017 -0700

    Move dataset to react-select and rename from choose virus

commit a88faa9371c36b7decdcc4b2099687227fb81a5f
Author: Trevor Bedford <trevor@bedford.io>
Date:   Sat Sep 30 19:55:20 2017 -0700

    Move geo resolution to react-select

commit 10e33481ee7bc5e58eef5413cafbdffa37cd590f
Author: Trevor Bedford <trevor@bedford.io>
Date:   Sat Sep 30 19:49:34 2017 -0700

    Include react-select css

commit c75403df245c44cdf01adb73ff97c04c30dfe93f
Author: Trevor Bedford <trevor@bedford.io>
Date:   Sat Sep 30 19:46:40 2017 -0700

    Rename "select" class to "boxed" class
    
    Needed to construct react-select styling

commit 788825875a6c31c23a07ba5a050b5c4ffd0597ad
Author: Trevor Bedford <trevor@bedford.io>
Date:   Sat Sep 30 00:17:22 2017 -0700

    Update sidebar toggle styles

commit c3e9495965271c67b2efc539132dd3ca3ecc5e87
Author: Trevor Bedford <trevor@bedford.io>
Date:   Fri Sep 29 23:56:13 2017 -0700

    Include publication title in author pill

commit 575030cee7f5d234d0ed3adfef5bc4fd38c6d71c
Author: Trevor Bedford <trevor@bedford.io>
Date:   Fri Sep 29 19:37:04 2017 -0700

    Rebase styles-dark changes on top of master

commit 948dec228bf22f35a88aadfad4180e117c815c1c
Merge: d984c93d 9b5a5627
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Fri Sep 29 22:20:57 2017 -0700

    Merge branch 'panels'
    
    * panels:
      allow loading of datasets not in manifest if they exist
      entropy JSON only fetched if specified in meta.JSON
      panels defined by meta.json. Spinner before load.

commit 9b5a5627abf39828f743661b90d091ad1ec7d27e
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Fri Sep 29 20:24:04 2017 -0700

    allow loading of datasets not in manifest if they exist

commit d984c93d8206b8295033295847c24d4580aa066d
Merge: bce5b665 90e19994
Author: Trevor Bedford <trevor@bedford.io>
Date:   Fri Sep 29 17:49:58 2017 -0700

    Merge pull request #462 from nextstrain/filters
    
    Dataset title, better filter display & download modal

commit 90e199944212de22733bc18f40a113313f71fbf6
Author: Trevor Bedford <trevor@bedford.io>
Date:   Fri Sep 29 17:45:22 2017 -0700

    Add toggle to enable data download

commit 34209646e376009afff67c7164fb7b695ddf4af2
Author: Trevor Bedford <trevor@bedford.io>
Date:   Fri Sep 29 17:29:53 2017 -0700

    Don't show date filter in info

commit fd6adf794c5e7bdcfe2a32f2ef87895596bbf7f7
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Fri Sep 29 17:28:49 2017 -0700

    entropy JSON only fetched if specified in meta.JSON

commit d179672cc451934f95e9777535469d73f5a75e8f
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Fri Sep 29 16:05:10 2017 -0700

    panels defined by meta.json. Spinner before load.

commit a42eeb84a6174ebdd23a5371bf5b0a305d92d95c
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Fri Sep 29 15:40:47 2017 -0700

    no toggle. info expands iff filters active.

commit b332cbe5999ba24ed6a137625b736f994ecdf4d0
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Fri Sep 29 15:36:16 2017 -0700

    single "reset all filters" button

commit 5f37a7a24ca2f2c4b937b02a9e9fb24004238752
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Fri Sep 29 15:23:01 2017 -0700

    info shows map animation status

commit b958d2f85d7d0612ec8c99fe058d7a5bd093d1c4
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Thu Sep 28 14:51:06 2017 -0700

    reset date filter button

commit 415e08c5e974a6488e8ca3d1a06f19c06dee0a9d
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Thu Sep 28 14:39:38 2017 -0700

    date filter included in info card

commit e8b0b995d6ccc71305aa4b74c7388884e278a9a8
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Thu Sep 28 14:27:08 2017 -0700

    bug fix

commit 9e5640a9fb86bd9bfe679b62aae9a7d37d8011a5
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Thu Sep 28 14:11:31 2017 -0700

    branch selected message in info card

commit 70f8ca572068077dbe0cc408da99ec0c8e30e608
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Thu Sep 28 13:26:08 2017 -0700

    show number of genomes in collapsed header title

commit 71ba5d8ba1a8d1a8c7b930b1a63e443449732833
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Thu Sep 28 13:21:55 2017 -0700

    info starts collapsed, expands when filters selected

commit 09f6f2434b613d4602718c248a663658932544ef
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Thu Sep 28 13:05:06 2017 -0700

    title doesn't overlap toggle

commit dd7015b2be28d1c6d2faf5aa3a2b6fd08c429259
Author: Trevor Bedford <trevor@bedford.io>
Date:   Wed Sep 27 18:32:54 2017 -0700

    Separate preamble from authors filter
    
    Other style tweaks in the footer

commit e7d2c95abd32d50fdb06f663e4e45860124628f1
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Wed Sep 27 15:02:48 2017 -0700

    remove author links from download modal

commit cf914db622a5de03447332774aec6563c83b2fb1
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Wed Sep 27 14:57:17 2017 -0700

    info (header) collapsable via toggle

commit 8a0b1cb63b5ac9b8cc067552d880bf3e56714d41
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Wed Sep 27 14:15:14 2017 -0700

    stylistic improvements

commit 6c4afd3fb4e3405d0eb70719503789ad747d63a1
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Wed Sep 27 12:50:31 2017 -0700

    Paragraph style filters in header

commit a24f27cd2c5589aca7ac5ea036c451c663b49b6f
Author: Trevor Bedford <trevor@bedford.io>
Date:   Wed Sep 27 11:53:41 2017 -0700

    Hide posts navigation link

commit 48f64dc2280205a772401e15d1c07ab08a3d3abf
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Wed Sep 27 11:44:56 2017 -0700

    author filter tweaks

commit 3a15187ce90d08625de9caebe3d953fc1b31540b
Author: Trevor Bedford <trevor@bedford.io>
Date:   Wed Sep 27 11:46:24 2017 -0700

    Update get_data script with static files

commit 7b4d731a4df5ce0011996d40f20362eedff87c9a
Author: Trevor Bedford <trevor@bedford.io>
Date:   Wed Sep 27 11:38:52 2017 -0700

    Rename reports to posts

commit 5afab5eaae8c38136c5d50d43c2e32865a1d6404
Author: Trevor Bedford <trevor@bedford.io>
Date:   Wed Sep 27 11:19:49 2017 -0700

    Split data and static
    
    Allow separate local directories for data/ and static/. Allow separate base URLs for remote content. Running npm run start:local serves both locally

commit 03741a598f93e3d8481316844a61704bafb980de
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Wed Sep 27 10:50:51 2017 -0700

    fix react warning

commit dacfc20f96e2ac4410774b8259598d94d0db9ba9
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Fri Sep 8 14:47:17 2017 -0700

    uses filters

commit 22a829514063417cbf6c3ee093968632065b3960
Author: Trevor Bedford <trevor@bedford.io>
Date:   Tue Sep 5 00:44:01 2017 -0700

    First pass at dataset title card

commit dcd5d83959cc1abc0240fd970405bff219cfdb10
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Wed Sep 27 10:38:48 2017 -0700

    filter button styling (CSS)

commit b406f04a04b978edbc8cdbdb58d8eb16fa540787
Author: Trevor Bedford <trevor@bedford.io>
Date:   Wed Sep 27 08:44:36 2017 -0700

    Fix typos in get_data shell script

commit 872acc6280e93dc9cda94ddafc8dfa6982978065
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Tue Sep 26 17:29:06 2017 -0700

    improve code

commit 45afde8dabc9bb2557bb6602b05dbd6ee4b493e8
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Tue Sep 26 16:43:08 2017 -0700

    filters in footer and taken from metadata->filters

commit 05b55c35c84a71014de4b993326ec66d5bcdd302
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Tue Sep 26 15:17:28 2017 -0700

    remove filters from sidebar

commit bce5b66524a350d4a33eb79e768b6b828d2e6777
Author: Trevor Bedford <trevor@bedford.io>
Date:   Thu Sep 21 18:15:18 2017 -0700

    version bump to 1.5.2 for release

commit 3b307e15d3f840a109b6992d006705f4262171d3
Merge: 02593a63 cf2503fc
Author: Trevor Bedford <trevor@bedford.io>
Date:   Thu Sep 21 18:13:16 2017 -0700

    Merge pull request #455 from nextstrain/98-cherry-picked
    
    98: "grid vs full" panel layout architecture & toggle

commit cf2503fc4ba16f72caab49f0e511872bf820eed0
Author: Trevor Bedford <trevor@bedford.io>
Date:   Thu Sep 21 18:07:59 2017 -0700

    Revise layout logic
    
    Rely on relative fractions rather than minHeight and maxAspectRatio. Needed to make grid fully consistent.

commit 02593a631c4e292496b7bc0a83f232b2923c7710
Merge: dd43b5d6 6b91f203
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Thu Sep 21 14:35:40 2017 -0700

    Merge pull request #461 from matsen/master
    
    "descendAnts" in infopanel

commit 6b91f203d9e38b375693b5d8412b21b6b0b8c10c
Author: Erick Matsen <ematsen@gmail.com>
Date:   Thu Sep 21 14:11:19 2017 -0700

    "descendAnts" in infopanel
    
    Although both are legal, I believe this is the preferred spelling. http://grammarist.com/usage/descendant-descendent/

commit b3ba11b254777742ae546256f35ced8a664b0e51
Author: Trevor Bedford <trevor@bedford.io>
Date:   Thu Sep 21 13:14:43 2017 -0700

    Layout tweaks to controls stack

commit c3a59459aa75a1e79af6a803ebf90d2cc66a9079
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Fri Sep 15 15:02:19 2017 -0700

    entropy height tweak

commit dd43b5d62754766a633fdb3b661498b255a15e34
Merge: ce2b76cb 2c20a5c2
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Fri Sep 15 11:41:36 2017 -0700

    Merge pull request #456 from nextstrain/ci
    
    URL & API tests

commit c67fc2f192f060b3dc91ef7fdb0dc418ed554d53
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Fri Sep 15 11:01:44 2017 -0700

    full/grid switch on browser dim in reducer, not components

commit 20efcb48a6f15a4d958faef2143b960075658cc2
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Fri Sep 15 10:42:19 2017 -0700

    sensible panel layout default

commit a13aa0acc13968158df9745fa61b6792f05a12bc
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Fri Sep 15 10:32:57 2017 -0700

    change "thirds" to "grid"

commit 039f64e47848ba1016b317d7bbee4575d56d7579
Author: Colin Megill <colinmegill@gmail.com>
Date:   Wed Sep 6 22:17:46 2017 -0700

    maybeInvalidateMapSize!

commit 1e876d278aba51d27c37dd102ac13dff7f4b0046
Author: Colin Megill <colinmegill@gmail.com>
Date:   Thu Aug 17 16:29:10 2017 -0700

    tree rerenders

commit eada3c73b8b62ee958d0f68d9af2ffd958827d96
Author: Colin Megill <colinmegill@gmail.com>
Date:   Thu Aug 17 13:06:08 2017 -0700

    trigger relayout map when panelLayout changes

commit 7f06e0c59deee4d12d2662ad5f5337fd4603dbe9
Author: Trevor Bedford <trevor@bedford.io>
Date:   Thu Aug 3 23:04:12 2017 -0700

    Minor layout tweaks
    
    Compress entropy and stretch tree and map

commit 81af18ec4fc7095f3a8f7a905f2dbe4b6a94467d
Author: Colin Megill <colinmegill@gmail.com>
Date:   Thu Aug 3 21:16:43 2017 -0700

    thirds layout

commit ce2b76cb1b1bf8c794abd8044a40bf1a7af05c82
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Fri Sep 15 09:21:59 2017 -0700

    version bump to 1.5.1 for release

commit 9eb93b6511a869c2dd9a85e199bc01a3ff2e157f
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Fri Sep 15 09:20:17 2017 -0700

    hotfix: roll react-svg-pan-zoom back to 2.0.0

commit 217105e8a7ac63844a8037b4578153dcee05b0ae
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Thu Sep 14 14:08:33 2017 -0700

    version bump to 1.5.0 for release

commit 4d267280ffda2dc3d68830e351568226e621e810
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Thu Sep 14 10:21:38 2017 -0700

    reorganise files

commit 0539c2883628d2c88c5b98816a04e92d2c334d25
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Thu Sep 14 10:06:06 2017 -0700

    update gitignore

commit 4dd262fedae20a02f241824125b005b0b4b2093b
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Wed Sep 13 23:05:00 2017 -0700

    update getData.sh (there must be a better way)

commit 77f84536f21e2fb292bf1e9e023fd91b9ab41aa1
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Wed Sep 13 22:51:05 2017 -0700

    webpack server.js for production

commit 26b1e49f8bb71cff386fef534a05909624811b89
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Wed Sep 13 21:29:49 2017 -0700

    minor

commit d68350d0380335c0b9bd611af1cb397e87ad1c39
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Wed Sep 13 20:59:52 2017 -0700

    server requests working for S3 & locally

commit 48e8888d3a6db651596fba46ade76b371d692c1f
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Wed Sep 13 15:55:52 2017 -0700

    URLs and TOCs

commit d23544cee99656ede97f2ca12fa1060507763a9b
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Wed Sep 13 13:37:21 2017 -0700

    reports working locally

commit be640ad0e99e10647d342860fcaa5efaa940567b
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Wed Sep 13 11:20:44 2017 -0700

    display list of reports & API request

commit d0437fdd34ad1a46daf0e75a469c2e0d1b8786e5
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Wed Sep 13 10:19:31 2017 -0700

    server side rendering of reports (no content yet)

commit c5668906ec373739a77e275607bd2c0d7afb8b1e
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Tue Sep 12 21:41:23 2017 -0700

    Reports boilerplate. React Hot Loader 3.

commit 67a712b76ee32e2f89dd6010ea3f1a7cf0a08430
Merge: 784dd90f 0ed2d819
Author: Colin Megill <colinmegill@gmail.com>
Date:   Tue Sep 12 17:09:15 2017 -0700

    Merge pull request #452 from nextstrain/451-async-scripts
    
    async loading of external CSS & react bundle

commit 2c20a5c20bbdefe762a730903783f01c795dd2b4
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Tue Sep 12 16:17:42 2017 -0700

    URL & API tests

commit 0ed2d8199ae0b1c6349ea2a2414f1eb72e8527d7
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Tue Sep 12 14:07:17 2017 -0700

    async loading of external CSS & react bundle

commit 784dd90f8687dddc9009939d751e5261140ab094
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Tue Sep 12 13:33:58 2017 -0700

    remove console logs

commit 3d5713a53a708b06e0f62fe22dbd461846a615da
Merge: 46826564 854312b4
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Tue Sep 12 13:22:23 2017 -0700

    Merge branch 'charon'
    
    * charon:
      auspice-dev loader.io token
      renaming
      local data prefix bug fix
      fix API address, heroku port & S3 calls
      access mumps datasets via user=mumps
      Implement API server. Most data is now accessed through API calls

commit 854312b45b55845a65002ec5b9ec5fa077741af8
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Tue Sep 12 09:37:50 2017 -0700

    auspice-dev loader.io token

commit fe72ed34d219a9de11889f1a4cb4807e918786ca
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Mon Sep 11 15:28:00 2017 -0700

    renaming

commit 468265646eae2fb37c6b2f1f830857ce15ea7563
Author: Trevor Bedford <trevor@bedford.io>
Date:   Mon Sep 11 11:44:26 2017 -0700

    Fix flu defaults

commit 19384df7766d41a3e441300b35d58e62937cd030
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Mon Sep 11 09:59:32 2017 -0700

    fix ebola genome number

commit 303a0d63cd7298e4107d10258b17eaf38e22d0f1
Author: Trevor Bedford <trevor@bedford.io>
Date:   Sat Sep 9 16:17:03 2017 -0700

    version bump to 1.4.2 for release

commit 724ad60dc4e81cff0f5f8c9337b01f9c8ad4fdc0
Author: Trevor Bedford <trevor@bedford.io>
Date:   Sat Sep 9 13:18:38 2017 -0700

    Update EBOV curation citation.

commit f4531cc3e48b0f544503785981cf8d656fdd271b
Author: Trevor Bedford <trevor@bedford.io>
Date:   Sat Sep 9 12:07:08 2017 -0700

    version bump to 1.4.1 for release

commit f929e585a8efe8b89f90f18d2755374544d158b0
Author: Trevor Bedford <trevor@bedford.io>
Date:   Sat Sep 9 12:06:14 2017 -0700

    Add citation to Dudas et al's curation of EBOV dataset

commit e29ed96c299d5a42f0a6dd6d4d936fc445bd3f99
Merge: 829724c3 58c2d0e3
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Fri Sep 8 15:41:30 2017 -0700

    Merge pull request #449 from nextstrain/finish-props-types-fix
    
    Finish migration from React.propTypes to propTypes

commit 58c2d0e3330cadb5fee6a208124bdc2a62c9dbdd
Author: Trevor Bedford <trevor@bedford.io>
Date:   Fri Sep 8 15:37:42 2017 -0700

    Upgrade our version of react-sidebar

commit ba3f79940cf646367402f4b79ebd5fd42c880c50
Author: Trevor Bedford <trevor@bedford.io>
Date:   Fri Sep 8 15:29:04 2017 -0700

    Finish migration from React.propTypes to propTypes

commit 829724c3931711bef3aa8c9a544d9b20910d0285
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Fri Sep 8 15:28:53 2017 -0700

    hotfix to remove single author filter in footer

commit 5fec310923507a26927c67df10d960e89e07c595
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Fri Sep 8 12:30:43 2017 -0700

    local data prefix bug fix

commit 2460795530c4facc236875043bda83c944f744ae
Merge: 6f4289d6 391fd7f7
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Fri Sep 8 12:11:05 2017 -0700

    Merge branch 'master' into charon
    
    * master:
      babel 6
      linting & comments
      version bump to 1.4.0 for release
      Enable animation display
      Update gitignore
      Upgrade to webpack v3
      Upgrade to webpack v2

commit 391fd7f72a8e001b006443b70c4f0de7a67a612d
Merge: c38e129b 3f8cf243
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Fri Sep 8 12:08:52 2017 -0700

    Merge pull request #444 from nextstrain/upgrade-webpack
    
    Upgrade to webpack v3 & babel 6

commit 3f8cf2430115a2178e0cf58dfbddca911f89f458
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Fri Sep 8 12:07:23 2017 -0700

    babel 6

commit ed03a28e653ce1c838cdb79a0b291de5a260f29c
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Fri Sep 8 11:51:08 2017 -0700

    linting & comments

commit 6f4289d666c03d523bf39f2ffb1f36b6787618be
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Fri Sep 8 09:03:27 2017 -0700

    fix API address, heroku port & S3 calls

commit c38e129b6f4ca674b77c41c76a6d497fe4bda6a6
Author: Trevor Bedford <trevor@bedford.io>
Date:   Fri Sep 8 07:35:49 2017 -0700

    version bump to 1.4.0 for release

commit 46b5dc775fe4a0ff7686fef3bff729854c21a1aa
Merge: 565d9bce c2018845
Author: Trevor Bedford <trevor@bedford.io>
Date:   Fri Sep 8 07:34:09 2017 -0700

    Merge branch 'enable-animation'

commit 50ed299a33cf0b56f5272496cef2559cae36c22f
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Thu Sep 7 16:39:30 2017 -0700

    access mumps datasets via user=mumps

commit 40d0a71ee665410339bd4b9f7b105dc6eb1e4bf2
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Tue Sep 5 16:11:52 2017 -0700

    Implement API server. Most data is now accessed through API calls

commit c201884576c5b7d3a1641a20a3f9c183a0ee4811
Author: Trevor Bedford <trevor@bedford.io>
Date:   Thu Sep 7 11:36:07 2017 -0700

    Enable animation display

commit 9a683b8ac2898514e09c82d07481776eb32427bb
Author: Trevor Bedford <trevor@bedford.io>
Date:   Thu Sep 7 11:28:02 2017 -0700

    Update gitignore

commit 565d9bcebae5af754037ae94828151b8777c13a3
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Thu Sep 7 10:41:53 2017 -0700

    version bump to 1.3.16 for release

commit d7b1431f88b410590998dc51f6a472eb4a18484c
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Thu Sep 7 10:41:09 2017 -0700

    hotfix for meta.json defaults

commit 40584051b89db550840cde7a2aa4d0ab4cdaebd4
Merge: 98a4fe22 f5f6e550
Author: Trevor Bedford <trevor@bedford.io>
Date:   Wed Sep 6 10:41:53 2017 -0700

    Merge branch 'prop-types'

commit 98a4fe225e37e0ef7e5c8e651d4bbd054eb57518
Merge: adefb775 f30b2cbd
Author: Trevor Bedford <trevor@bedford.io>
Date:   Wed Sep 6 10:33:05 2017 -0700

    Merge pull request #443 from nextstrain/fix-create-class
    
    Remove deprecated React.createClass

commit adefb77508de39db68aeac6afd0668fb22b2dec4
Merge: 04b04d47 5ded33cb
Author: Trevor Bedford <trevor@bedford.io>
Date:   Wed Sep 6 10:32:02 2017 -0700

    Merge pull request #442 from nextstrain/cleanup-leaflet
    
    Move leaflet to npm and fix mobile panning

commit f5f6e55086076a04b3344e47dd542b78c9c2732e
Author: Trevor Bedford <trevor@bedford.io>
Date:   Tue Sep 5 23:35:07 2017 -0700

    Move from React.propTypes to propTypes

commit 7e7e5657b93b140b0e391fad02210452727ce021
Author: Trevor Bedford <trevor@bedford.io>
Date:   Tue Sep 5 23:33:03 2017 -0700

    Upgrade to webpack v3

commit b47c9a33db187e35a0fdf54830547c107f6f7e46
Author: Trevor Bedford <trevor@bedford.io>
Date:   Tue Sep 5 23:04:12 2017 -0700

    Upgrade to webpack v2

commit f30b2cbd1a289334b2b8a933894daeb51657b7c3
Author: Trevor Bedford <trevor@bedford.io>
Date:   Tue Sep 5 22:02:32 2017 -0700

    Remove deprecated React.createClass

commit 5ded33cb4f2e89038d81d140ce37d01bdb607402
Author: Trevor Bedford <trevor@bedford.io>
Date:   Tue Sep 5 21:31:29 2017 -0700

    Disable single finger touch panning

commit f972a8acff798d8d7d0705e3485218ec537ea9f6
Author: Trevor Bedford <trevor@bedford.io>
Date:   Tue Sep 5 21:30:52 2017 -0700

    Move to npm leaflet

commit 04b04d479e064d8200d2e767e182059ef6ba0c08
Author: Trevor Bedford <trevor@bedford.io>
Date:   Tue Sep 5 18:51:57 2017 -0700

    version bump to 1.3.15 for release

commit a879fcd9a97feae05f06a91f4c0a555d22254dcf
Merge: f06fd300 6e217649
Author: Trevor Bedford <trevor@bedford.io>
Date:   Tue Sep 5 18:44:15 2017 -0700

    Merge pull request #441 from nextstrain/styles-update
    
    Styles update

commit 6e2176491877ce4cada64f9d2774469b027a1a1a
Author: Trevor Bedford <trevor@bedford.io>
Date:   Tue Sep 5 18:31:12 2017 -0700

    Dynamically determine scrollbar widths

commit 35f8f245686e0b57a0ff8f35fca05416e6466124
Author: Trevor Bedford <trevor@bedford.io>
Date:   Tue Sep 5 00:17:09 2017 -0700

    Slide cards when viewport is narrow

commit 46dbc3c6fb5b5d9a11f3ea5270dcfea760fe9780
Author: Trevor Bedford <trevor@bedford.io>
Date:   Mon Sep 4 23:55:00 2017 -0700

    Restore white titlebar

commit bf7d040d60ed8b2c1c7525204abac2e0c92422cf
Author: Trevor Bedford <trevor@bedford.io>
Date:   Mon Sep 4 21:46:29 2017 -0700

    Fix titlebar to top of page and fix scrollbar overlap

commit 2a1e513b38ccacb8418ffb9ad980d425c68ac7e2
Author: Trevor Bedford <trevor@bedford.io>
Date:   Mon Sep 4 17:09:50 2017 -0700

    Styles update, cleans up Card borders and margins

commit f06fd300aee50ad90d529708fda7f1fe97bfd7a6
Merge: 645b3fd9 50482b7a
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Fri Sep 1 11:22:58 2017 -0700

    Merge branch '300-entropy'
    
    * 300-entropy:
      more linting
      fix page load on gt-nuc bug
      linting
      bugfix relating to mut type toggle & default colorBy
      selected bar remains on browser window change
      selected bar remains on zoom
      fix genotype colorBy set from URL
      linting
      entropy updates URL
      entropy genotype setting is done through redux
      selected entropy bar consistency (part 1)
      linting

commit 50482b7aee7bddce4d80fd54e51d1fb84ce3b43f
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Fri Sep 1 10:21:04 2017 -0700

    more linting

commit 6b00535b24ff6b435d7a272fbc3d6da6d8f3ff5c
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Fri Sep 1 10:16:18 2017 -0700

    fix page load on gt-nuc bug

commit 6e573d2cdb5633a8185c58df9edf338f5b7cd3e1
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Fri Sep 1 10:13:42 2017 -0700

    linting

commit 4e27c435557d331b0907a50a552846450f54cd85
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Thu Aug 31 13:05:23 2017 -0700

    bugfix relating to mut type toggle & default colorBy

commit 609540bcac5aecdc2ecd178da4e18021c330d8ec
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Thu Aug 31 12:27:48 2017 -0700

    selected bar remains on browser window change

commit f89e351d1bb614904434fab0b459aa100e31f7c5
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Thu Aug 31 12:00:15 2017 -0700

    selected bar remains on zoom

commit ffabb17e063f4e02a5cac400c8969857640869b2
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Thu Aug 31 11:45:08 2017 -0700

    fix genotype colorBy set from URL

commit 323511056778c18af55ef03b497edd7987096f64
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Thu Aug 31 11:06:23 2017 -0700

    linting

commit 31382d853cb61f3a1cbc89eb3fc32280f257445f
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Thu Aug 31 10:50:20 2017 -0700

    entropy updates URL

commit 8ef8a06f08949e84af587ea8907ffbafdd7a2491
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Thu Aug 31 10:22:28 2017 -0700

    entropy genotype setting is done through redux

commit ad7897cbf794c8571067c8b19cf960b40ebe6770
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Wed Aug 30 17:03:00 2017 -0700

    selected entropy bar consistency (part 1)

commit 645b3fd94272af326e24d70cc1063cb853773d0a
Author: Trevor Bedford <trevor@bedford.io>
Date:   Wed Aug 30 17:22:25 2017 -0700

    version bump to 1.3.14 for release

commit b27363cc054932c2f8cb651aefce0e87343c47b1
Author: Trevor Bedford <trevor@bedford.io>
Date:   Wed Aug 30 17:21:55 2017 -0700

    Cleanup about page

commit 59bd5cfdc8f1590fa90d920289b86b772a77055e
Merge: ccfaa623 b9ba9661
Author: Trevor Bedford <trevor@bedford.io>
Date:   Wed Aug 30 16:46:28 2017 -0700

    Merge branch '296-download-modal'

commit b9ba96618811da07c399413efb2235095ee728a1
Author: Trevor Bedford <trevor@bedford.io>
Date:   Wed Aug 30 16:41:16 2017 -0700

    Fix typo

commit 4874b1d378f79fbb91eb0dcd1d0695844e4d63b8
Author: Trevor Bedford <trevor@bedford.io>
Date:   Wed Aug 30 16:38:41 2017 -0700

    Remove unnecessary eslint files from dependencies

commit c835bd48ca30c38cdb0e68c276fa0fc71e23ae07
Author: Trevor Bedford <trevor@bedford.io>
Date:   Wed Aug 30 16:34:08 2017 -0700

    Update citation style

commit 9ffe6a3e7db4e297e964766660269d5cc6334f55
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Wed Aug 30 16:10:21 2017 -0700

    linting

commit ccfaa623773121dee370f366166fe9dbae2631c3
Merge: 8d297704 dc4a51e4
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Tue Aug 29 12:08:33 2017 -0700

    Merge pull request #433 from nextstrain/replace-moment
    
    Improve date conversion code and remove moment.js

commit dc4a51e49c2912005c791b7874d10f0b76130c24
Author: Trevor Bedford <trevor@bedford.io>
Date:   Mon Aug 28 23:01:50 2017 -0700

    Move date conversion to dateHelpers and remove moment

commit ef1945b12ef723f7e34a794b2d1671b7f4cea609
Author: Trevor Bedford <trevor@bedford.io>
Date:   Mon Aug 28 22:10:49 2017 -0700

    Remove react-datepicker and move controls reducer to d3 date logic

commit 7ef64deefe86dca13aad946bf8188fe0d3465be5
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Mon Aug 28 16:29:22 2017 -0700

    Don't display flu authors in footer as they aren't exported by augur

commit 0b80952bc8d042182424b428680981fe73f0975f
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Mon Aug 28 16:21:10 2017 -0700

    fix tip selected panel error. Works on all datasets except flu.

commit 9f78e9043770b26193b8ecd70a1c3ca288ff3194
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Mon Aug 28 14:20:18 2017 -0700

    modify filter call syntax. Authors in footer are now filters.

commit 690df41ca8013e494e81897362279fdacb03aa51
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Mon Aug 28 13:46:09 2017 -0700

    enableDownloadModal global flag toggles modal & tip attr source

commit d28822e94d3a79eddf199ef3248bc61d9bb3a61f
Merge: 96ffbdf9 8d297704
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Mon Aug 28 13:31:00 2017 -0700

    Merge branch 'master' into 296-download-modal
    
    * master:
      Fix to d3Range
      Upgrade react-select
      Remove radium and replace style arrays with spread operators
      Cleanup and delint imports
      Move to modular lodash import calls
      Remove unused dependencies
      Finish migration of phyloTree to d3 v4
      Include tree helper functions
      Start on refactor layout.tree in tree reducer
      Migrate date conversion to d3 v4
      Continue phyloTree migration
      Start on phyloTree migration
      Continue migration to d3 v4
      Partial move to d3 v4
      eslint typo

commit 8d2977042b46f73c9a153a73f5d610780d7f3181
Merge: 7b22cabe a7603bf5
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Mon Aug 28 12:27:55 2017 -0700

    Merge pull request #430 from nextstrain/imports-lodash-radium
    
    Cleanup imports, remove radium and modularize lodash

commit 7b22cabe0e5be86ab2b05fc2d683620c25768393
Author: Trevor Bedford <trevor@bedford.io>
Date:   Mon Aug 28 10:19:45 2017 -0700

    Fix to d3Range
    
    Changing datasets was broken

commit a7603bf5c861b247004ab315b2cd28a48d91a59f
Author: Trevor Bedford <trevor@bedford.io>
Date:   Sat Aug 26 22:48:19 2017 -0700

    Upgrade react-select
    
    Fixes the persistent warning that "Warning: AutosizeInput: isMounted is deprecated."

commit f0fb7a190c48ce05f84f5d7394721424564f7a2a
Author: Trevor Bedford <trevor@bedford.io>
Date:   Sat Aug 26 10:54:39 2017 -0700

    Remove radium and replace style arrays with spread operators

commit b614f2b156368b4298c211f1f65ce30f1ce5e14a
Author: Trevor Bedford <trevor@bedford.io>
Date:   Sat Aug 26 10:01:46 2017 -0700

    Cleanup and delint imports

commit c04b60c81085c0176055708d2a04958dfc544e60
Author: Trevor Bedford <trevor@bedford.io>
Date:   Fri Aug 25 22:43:00 2017 -0700

    Move to modular lodash import calls

commit b271bd6c828c14b80ae79258a209532fe2ce6769
Merge: 8f8e2477 a80e4a5e
Author: Trevor Bedford <trevor@bedford.io>
Date:   Fri Aug 25 16:36:17 2017 -0700

    Merge pull request #428 from nextstrain/move-to-d3-v4
    
    Move to d3 v4

commit 96ffbdf9f134091e077b4bc0f161719c2402e2fe
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Fri Aug 25 12:39:07 2017 -0700

    fix entropy SVG dimensions

commit 6af23405f41946c5995e2acd1118ea637b7c51cd
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Thu Aug 24 15:58:06 2017 -0700

    file dropped info ignores default download data

commit 9dafadb57039366254cf3f8294d5934f1f05435c
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Thu Aug 24 14:42:39 2017 -0700

    download strain metadata fixed

commit a1035b0ba0224feba2a76eb25d26a718f9a3a742
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Thu Aug 24 12:28:03 2017 -0700

    tip selected panel displays pub/author data from meta.json not tree.json

commit a80e4a5e068aac3222d90d7b81d19841fd01d48b
Author: Trevor Bedford <trevor@bedford.io>
Date:   Wed Aug 23 23:25:05 2017 -0700

    Remove unused dependencies

commit 843eb3ac5edf71728a1ed3b5cdc5aec2c0b93705
Author: Trevor Bedford <trevor@bedford.io>
Date:   Wed Aug 23 23:02:52 2017 -0700

    Finish migration of phyloTree to d3 v4

commit 70a3c22a34ab2fa5aeb68e6d40a3189ef93b4a0f
Author: Trevor Bedford <trevor@bedford.io>
Date:   Wed Aug 23 22:29:30 2017 -0700

    Include tree helper functions
    
    Simple function to flatten tree to list and also function to append reference to .parent to each node in tree. root.parent is a reference to root.

commit 121d0b0c451cfe1f0ef92669ceedbde973e72c19
Author: Trevor Bedford <trevor@bedford.io>
Date:   Wed Aug 23 17:35:33 2017 -0700

    Start on refactor layout.tree in tree reducer

commit 68a755df49ccb951554ef3a2b79691e3fd3b2e2a
Author: Trevor Bedford <trevor@bedford.io>
Date:   Wed Aug 23 16:58:34 2017 -0700

    Migrate date conversion to d3 v4

commit 6052643d2a01e15e5ce24a930e9470dd8be1e923
Author: Trevor Bedford <trevor@bedford.io>
Date:   Wed Aug 23 16:34:33 2017 -0700

    Continue phyloTree migration

commit 313db458612f8c98f395871c985b41a80356f1c7
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Wed Aug 23 16:05:35 2017 -0700

    paper URL & journal in author info CSV

commit 5bca320008121bee19a42ad4a7f4f30901a02188
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Wed Aug 23 15:55:45 2017 -0700

    dataset name in download filenames

commit 4ab1344e2523529b71167f2db224a9295bc5cd37
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Wed Aug 23 15:00:13 2017 -0700

    author publication links in footer & download modal

commit 2253da4b9952d6f0da407879f994251f7fd8fe7e
Author: Trevor Bedford <trevor@bedford.io>
Date:   Wed Aug 23 12:43:09 2017 -0700

    Start on phyloTree migration

commit 71dd0e8bf3dd15894f7fa1595d98491154cacf62
Author: Trevor Bedford <trevor@bedford.io>
Date:   Wed Aug 23 11:50:10 2017 -0700

    Continue migration to d3 v4

commit 64efd440710ceafadccb57e87e13abe614af1c98
Author: Trevor Bedford <trevor@bedford.io>
Date:   Wed Aug 23 10:57:42 2017 -0700

    Partial move to d3 v4

commit 2c377d7e342db081a0d216137cb9f9822238c67d
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Tue Aug 22 17:55:12 2017 -0700

    author metadata CSV

commit b20d4d4ce78b6a0b21602ce2cfabbccedb2d4a20
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Tue Aug 22 17:14:37 2017 -0700

    add and organise SVG icons

commit f853675e2372e1d6fc3ee0bb0472d4c4daa8b3d2
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Tue Aug 22 15:43:23 2017 -0700

    typos

commit 7e927765fdee9d788953406835210c5ab38a8ed8
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Tue Aug 22 15:39:30 2017 -0700

    relevant publications

commit 0dad949ea711fd26fd0599a015c18227771ca682
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Tue Aug 22 14:47:48 2017 -0700

    demove download button from sidebar

commit 59b5c0e8cfa093bd201d787a829776d7f10f726e
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Tue Aug 22 14:41:13 2017 -0700

    map SVG works for default view

commit 8f1d6d4eabee29285a8a67e7939a244e55485bfc
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Tue Aug 22 14:12:39 2017 -0700

    map panes saved in a SVG

commit e3eadf6714f9dfb1445ff771a6fec80ffcfaa934
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Tue Aug 22 12:04:00 2017 -0700

    rename file, styling improvements

commit f2c1325c71b1779efb101c7042e336baabc1894b
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Tue Aug 22 11:58:55 2017 -0700

    leaflet panes saved as png

commit 823ce6009cecb653d0714a946ba3b8b1dc5a9bae
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Mon Aug 21 17:45:19 2017 -0700

    dataset maintainer in footer (requires new augur runs)

commit dee617f08ebc43083449fcabf40d8a5a2c2dbf9a
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Mon Aug 21 17:26:30 2017 -0700

    SVG working for transmissions, not for panes

commit 802e8e75e5a6be495d59a5b4b1c7eb6a7cf4b808
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Mon Aug 21 17:26:12 2017 -0700

    add maintainer & download data button to footer

commit 9d1f2f22ffa97a81c714ce9f01343ec78c7955f0
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Mon Aug 21 15:58:36 2017 -0700

    SVG working for tree & entropy, broken for map

commit 3a59b426691dc9599b9eadb23e734eae526358c7
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Mon Aug 21 15:34:33 2017 -0700

    write newick tree

commit 8f8e2477fccfc91b715414a4ab81539a571ae3bd
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Mon Aug 21 15:08:29 2017 -0700

    eslint typo

commit eedb7f5ce777e23338a9a25250882be4f7467441
Merge: 84d29060 c6f98785
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Mon Aug 21 13:00:38 2017 -0700

    Merge branch 'master' into 296-download-modal
    
    * master: (33 commits)
      more linting rules
      Further map linting
      Pass at linting map code
      Remove react prop-types and sort-comp from linting rules
      Updating linting rules
      Update linting rules
      Further updates to linting rules
      Relax linting rules
      Move linting modules to devDependencies
      version bump to 1.3.13 for release
      Add small comment on bezier indexing
      Document startIndex and endIndex logic
      move to air-bnb eslint config + some custom (sane) rules
      syntax & eslint improvements & comments
      Remove minTransmissionDate
      Fix filtering, "extract" empty Bezier curve if hidden
      Include console warning to alert for demes with missing metadata
      Include interpolated start and end to Bezier curve
      Enforce lat/long to exist for every deme
      fix CI bug. Closes #337
      ...

commit c6f987854076f455c459d29817daa28964592988
Merge: 4bd31137 1cf52ae6
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Mon Aug 21 12:45:19 2017 -0700

    Merge branch '360-lint-map'
    
    * 360-lint-map:
      Further map linting
      Pass at linting map code

commit 4bd31137df42754dbec4e1acb095f949fdafff06
Merge: 477fde1a a7e12de2
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Mon Aug 21 12:43:12 2017 -0700

    Merge pull request #426 from nextstrain/fix-lint-dependencies
    
    Update linting rules and move to devDependencies

commit a7e12de2a1979a5feff43933dd6f14d9f48ec584
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Mon Aug 21 12:41:12 2017 -0700

    more linting rules

commit 1cf52ae6c66b7910301ca184b5ab031628dc7537
Author: Trevor Bedford <trevor@bedford.io>
Date:   Sat Aug 19 18:14:25 2017 -0700

    Further map linting

commit 202151a5d206cb1d71a31494447067aab99b8a3f
Author: Trevor Bedford <trevor@bedford.io>
Date:   Fri Aug 18 18:04:35 2017 -0700

    Pass at linting map code

commit 928641df2b3b9a124a79cf9d65dc6bfe700abff4
Author: Trevor Bedford <trevor@bedford.io>
Date:   Sat Aug 19 17:26:10 2017 -0700

    Remove react prop-types and sort-comp from linting rules

commit 7244965826e0e0fdfb7bb11a2bbcb9efbd3d7053
Author: Trevor Bedford <trevor@bedford.io>
Date:   Fri Aug 18 18:00:09 2017 -0700

    Updating linting rules

commit 5f20858352959f9a6def88973c798b2903a95623
Author: Trevor Bedford <trevor@bedford.io>
Date:   Fri Aug 18 17:03:00 2017 -0700

    Update linting rules

commit c403e369236dafb9bc5e262e69b87bfc27461194
Author: Trevor Bedford <trevor@bedford.io>
Date:   Fri Aug 18 16:47:40 2017 -0700

    Further updates to linting rules

commit fc634695b45f4bd72651349217c59e21e7914e9f
Author: Trevor Bedford <trevor@bedford.io>
Date:   Fri Aug 18 15:10:34 2017 -0700

    Relax linting rules

commit 4bc7c8c8f9e5eae2b9c15fff7b9e8213937003db
Author: Trevor Bedford <trevor@bedford.io>
Date:   Fri Aug 18 14:36:30 2017 -0700

    Move linting modules to devDependencies

commit 84d290609932cdc5ba41b8ed2de611698316dfd5
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Thu Aug 17 16:58:21 2017 -0700

    SVG download working (tree only)

commit e7be0c0d2ffb7ad0bf9c2bd1875947d52b86e22c
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Thu Aug 17 16:34:51 2017 -0700

    csv drag&drop ignores colorBys which already exist

commit eab7b27332261e1975eb239dd53181b1f8b1ed46
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Thu Aug 17 16:17:08 2017 -0700

    CSV download notification

commit 892ffd1ce7ad2c8e3159cdd0dddaf81eca03de3b
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Thu Aug 17 15:59:34 2017 -0700

    CSV download working (proof of principle)

commit 4fbdcda1ca454dabb5ef6f5ef2aee00cef12804b
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Thu Aug 17 15:25:08 2017 -0700

    download function framework + linting

commit f4c450e252669f7df07f12b01df6d3b9b2bb13c2
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Tue Aug 15 18:36:48 2017 -0700

    move to air-bnb eslint config + some custom (sane) rules

commit 185bdb5bbb28c0f944cf440c59aafd7e15e6d4ce
Merge: 96916e35 7c10fcd9
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Thu Aug 17 13:12:36 2017 -0700

    Merge branch '421-drag-csv' into 296-download-modal
    
    * 421-drag-csv:
      change unknown values in a discrete scale to grey
      edge cases handled
      parse CSV with PapaParse and propogate through redux
      file dropped uses notifications
      file drop machinery

commit 477fde1a73e892fff460e1120eb95c588664261f
Merge: b1acb31f f9c2815b
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Thu Aug 17 13:07:39 2017 -0700

    Merge pull request #424 from nextstrain/eslint
    
    move to air-bnb eslint config + some custom (sane) rules

commit b1acb31f10973b1bf7a7fad931df1bf1c2cfcca8
Author: Trevor Bedford <trevor@bedford.io>
Date:   Thu Aug 17 09:59:06 2017 -0700

    version bump to 1.3.13 for release

commit 6a5b5517964ec3ec0920e91a0391727ebcd1acce
Author: Trevor Bedford <trevor@bedford.io>
Date:   Thu Aug 17 09:50:28 2017 -0700

    Add small comment on bezier indexing

commit 0cc923a24be02e1aa23c310576c43fb074f7980a
Merge: 845159bf 3c00b465
Author: Trevor Bedford <trevor@bedford.io>
Date:   Thu Aug 17 09:42:39 2017 -0700

    Merge pull request #406 from nextstrain/#381-precompute-bezier
    
    Precompute bezier

commit 3c00b465ae90a35f59ef32885a2ce352db2faf97
Author: Trevor Bedford <trevor@bedford.io>
Date:   Thu Aug 17 09:40:04 2017 -0700

    Document startIndex and endIndex logic

commit f9c2815be241ab9d8173226bb64ddc16c47fa767
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Tue Aug 15 18:36:48 2017 -0700

    move to air-bnb eslint config + some custom (sane) rules

commit f7ea75ca3d5940e319c9eec5d9721e53f678b1fe
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Mon Aug 14 20:28:35 2017 -0700

    syntax & eslint improvements & comments

commit f578936e6f60152017b1bfebffe6df396645e764
Author: Trevor Bedford <trevor@bedford.io>
Date:   Sun Aug 13 15:47:47 2017 -0700

    Remove minTransmissionDate
    
    This was never actually used.

commit faf9fe0ef23df8bc2c1db967375a5044194dedc5
Author: Trevor Bedford <trevor@bedford.io>
Date:   Sun Aug 13 13:53:05 2017 -0700

    Fix filtering, "extract" empty Bezier curve if hidden

commit b821b25cd2df9130d1ea6bc83315cb2df5d4fe87
Author: Trevor Bedford <trevor@bedford.io>
Date:   Sun Aug 13 13:30:27 2017 -0700

    Include console warning to alert for demes with missing metadata

commit 332668bb9250135e1a3d18bc7e61c0bb58ef5c59
Author: Trevor Bedford <trevor@bedford.io>
Date:   Sun Aug 13 13:15:18 2017 -0700

    Include interpolated start and end to Bezier curve
    
    This prevents the inchworm effect and gives a nicely continuous animation with only the 15 pre-computed Bezier points

commit db2d7e6837b64c444e63983230f7f016b062f3e8
Author: Trevor Bedford <trevor@bedford.io>
Date:   Sat Aug 12 17:51:57 2017 -0700

    Enforce lat/long to exist for every deme

commit 4e1119b9cdbb26c95ce1b551f8e875f649a85924
Merge: e9499a88 845159bf
Author: Trevor Bedford <trevor@bedford.io>
Date:   Sat Aug 12 11:41:24 2017 -0700

    Merge branch 'master' into #381-precompute-bezier

commit 845159bf78fa6a87438ecdd0fe595554f0cdf70c
Merge: 093ef78a 240ad2a7
Author: Trevor Bedford <trevor@bedford.io>
Date:   Sat Aug 12 00:12:46 2017 -0700

    Merge pull request #414 from nextstrain/debounce-map-to-screen
    
    Debounce map to screen

commit 093ef78abcd853bcd9c72f55785d5b39e2595c35
Merge: 29c1cd2b f680d6f0
Author: Trevor Bedford <trevor@bedford.io>
Date:   Fri Aug 11 22:22:41 2017 -0700

    Merge pull request #422 from nextstrain/337
    
    fix CI bug. Closes #337

commit 96916e353b3ac9ba0d1a6a9e69b79900ee772666
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Thu Aug 10 17:34:58 2017 -0700

    (idea) display contributors in download modal

commit 1f7e339a6ee10fc06b8d2b9a35bd660b796daa3b
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Thu Aug 10 16:57:40 2017 -0700

    dismiss modal similarly to tipSelected modal

commit e20e706b44611c1f5220f0d83e0bad52354af608
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Thu Aug 10 16:46:25 2017 -0700

    modal filled out

commit 01a556bcc092ed93a609eb6a350e1ddb5259df51
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Thu Aug 10 15:15:18 2017 -0700

    download modal prototype + redux machinery

commit a1b653fa87a03ea5e9ae2fa17714ea4784b35889
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Thu Aug 10 14:48:20 2017 -0700

    download data button in control panel

commit 7c10fcd9dfd051100b7735a60e15425916f7bd26
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Thu Aug 10 14:32:05 2017 -0700

    change unknown values in a discrete scale to grey

commit a60c470781da02b2bfdba6a7d458b13b3b15317d
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Thu Aug 10 14:05:05 2017 -0700

    edge cases handled

commit f680d6f04d76c7996137b34c9060c30c2a89e228
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Thu Aug 10 13:39:54 2017 -0700

    fix CI bug. Closes #337

commit ed9d305c5e48cc42bc58b51db46ddcb1d1439f9a
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Wed Aug 9 13:13:09 2017 -0700

    parse CSV with PapaParse and propogate through redux
    
    * PapaParse adds 5kb to gzipped bundle (440 -> 445kb)
    * Currently involves some not-so-good in place modification of redux state in the tree reducer

commit f8544c0572f85d788665ef4c602da696f7635f01
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Wed Aug 9 11:23:18 2017 -0700

    file dropped uses notifications

commit 236ae10a8013162da96e4e03ccfb8d18174e0d10
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Tue Aug 8 15:42:22 2017 -0700

    file drop machinery

commit 240ad2a78ee310c739600134f555181620c7b365
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Tue Aug 8 14:48:16 2017 -0700

    fix quickdraw bug via date slider drag

commit 5a2e1451d1c895e273a45a237994123a216287a6
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Tue Aug 8 14:35:25 2017 -0700

    quickdraw improvements

commit 29c1cd2baf5e5b0cdd120254c6bdc0a40333016a
Merge: 4ab494f0 48d52c72
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Mon Aug 7 17:09:38 2017 -0700

    Merge branch '420'
    
    * 420:
      imporve tip hover info box. Closes #420

commit 48d52c72ec63ee58085d8dab24b8120447eb9405
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Mon Aug 7 17:07:58 2017 -0700

    imporve tip hover info box. Closes #420

commit 29dab9553b2e476696ddab0658af2d3ea92686c6
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Fri Aug 4 16:22:52 2017 -0700

    rerenderAllElements updates stem dimensions

commit fa774b947270875b69c099affbfa8415821c27ce
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Fri Aug 4 15:46:03 2017 -0700

    enable quickdraw

commit 8ad2b6b5eb78e0ebecbf3a51edeb1cca9c2bfacf
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Fri Aug 4 15:34:56 2017 -0700

    redux quickdraw flag

commit 4ab494f0a58d6c1cbbfd45ce3730c8c042e51798
Author: Trevor Bedford <trevor@bedford.io>
Date:   Fri Aug 4 15:13:57 2017 -0700

    version bump to 1.3.12 for release

commit 60100853368adbc44e8b44a7a10c920dc1b8b333
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Fri Aug 4 12:41:18 2017 -0700

    remove duplicate date from info box. Closes #401

commit 811d5edba0d79b4c3c3efaef3b3ffc02f330aa7e
Author: Trevor Bedford <trevor@bedford.io>
Date:   Thu Aug 3 22:37:23 2017 -0700

    Make footer responsive
    
    Fixes #417

commit c46ff833815b23ffdf8a01e7634e5075db2b1b5f
Merge: 57d191f5 b3d105bb
Author: Trevor Bedford <trevor@bedford.io>
Date:   Thu Aug 3 22:29:04 2017 -0700

    Merge pull request #418 from nextstrain/citation-display
    
    Prettify author string in footer

commit b3d105bb3c9bb7adc1adab6c68a971dc62e7db39
Author: Trevor Bedford <trevor@bedford.io>
Date:   Thu Aug 3 22:27:56 2017 -0700

    Prettify author string in footer
    
    Fixes #400

commit 57d191f5d9cdf23ae3ee123f0b8115a8e4a7d44d
Merge: 6069948e 3b1af77b
Author: Trevor Bedford <trevor@bedford.io>
Date:   Thu Aug 3 18:31:41 2017 -0700

    Merge pull request #413 from nextstrain/tick-timing
    
    use react performance tools for animation ticks (dev only)

commit e9499a88b36f3788189f703e7456609bb649c41e
Author: Trevor Bedford <trevor@bedford.io>
Date:   Thu Aug 3 18:06:39 2017 -0700

    Safety check for data presence

commit bb3128198eead0be014c1f2e3ce7319b9281d803
Author: Trevor Bedford <trevor@bedford.io>
Date:   Thu Aug 3 17:47:09 2017 -0700

    Update bezier on leaflet action

commit fc1d68a779c1a9978b2e663b2a24dc48d9abface
Author: Colin Megill <colinmegill@gmail.com>
Date:   Thu Aug 3 16:53:36 2017 -0700

    about to add transmission bezier

commit faefa47fc40de3077f684dcb85cf2a16723bdc26
Author: Colin Megill <colinmegill@gmail.com>
Date:   Thu Aug 3 14:01:21 2017 -0700

    Bezier precompute working, recompute on zoom not working

commit 0f3f25926a6b4def9e22368f6a6dd567d9f6ffc0
Author: Colin Megill <colinmegill@gmail.com>
Date:   Thu Aug 3 11:52:53 2017 -0700

    Bezier dates

commit 3b1af77b45e06dad0eac3efc1ccf0ccef08439d1
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Thu Aug 3 09:39:49 2017 -0700

    use globals enableAnimationPerfTesting flag

commit 6069948e3d3a9549acc608a53ab5bddbe0b246cf
Merge: 6e380832 b271f73c
Author: Trevor Bedford <trevor@bedford.io>
Date:   Wed Aug 2 23:04:48 2017 -0700

    Merge pull request #412 from nextstrain/colorByRange
    
    Adds optional "vmin"/"vmax" values to anchor color ramps.

commit b271f73c3086e6118ad524f33891b975baa647d4
Author: Trevor Bedford <trevor@bedford.io>
Date:   Wed Aug 2 23:02:01 2017 -0700

    Fix indentation

commit 6e380832d218e338386188960a36f57332d69c75
Merge: 69158dab 2f9d8a91
Author: Trevor Bedford <trevor@bedford.io>
Date:   Wed Aug 2 22:52:51 2017 -0700

    Merge pull request #416 from nextstrain/div-default
    
    Fix dtype of distanceMeasure props

commit 2f9d8a91c215c371bcfe2d8a7a351f28a55c5fa0
Author: sidneymbell <sidneymb@uw.edu>
Date:   Fri Jul 28 09:55:47 2017 -0700

    Fix dtype of distanceMeasure props

commit 73fd64d2fcb43ceea3a983130edaae0ef9e4783d
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Wed Aug 2 14:56:02 2017 -0700

    debounced mapToScreen for animation

commit 507027194a2563dac4b23b43bc6ed7ac5b7ef913
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Fri Jul 28 14:57:19 2017 -0700

    use react performance tools for animation ticks (dev only)

commit 40278fa5153fabc1d101fff80a90846c916bdd8b
Author: sidneymbell <sidneymb@uw.edu>
Date:   Thu Jul 27 16:44:15 2017 -0700

    Adds optional "vmin"/"vmax" values to anchor color ramp.

commit 69158dabe85a02702bf48aa9907d5429e4962fa3
Author: Trevor Bedford <trevor@bedford.io>
Date:   Sun Jul 23 20:56:56 2017 -0700

    version bump to 1.3.11 for release

commit 1466f8ea18a94302b4ea8d9c7614d0073b8d7156
Merge: ce44052a df795023
Author: Trevor Bedford <trevor@bedford.io>
Date:   Sun Jul 23 20:52:06 2017 -0700

    Merge pull request #411 from nextstrain/dist-path
    
    Fix dist path

commit df7950233788f22a07b258980b477905c1638c21
Author: Trevor Bedford <trevor@bedford.io>
Date:   Sun Jul 23 20:50:58 2017 -0700

    Fix dist path. Resolves #410.

commit ce44052ab261554614d16c92efad2b31f370c10b
Author: Trevor Bedford <trevor@bedford.io>
Date:   Sat Jul 22 22:15:11 2017 -0700

    version bump to 1.3.10 for release

commit 6f725f0bb853ac2b642afe8c64412b2c77ff0359
Merge: 5b77047f eb7d3cfb
Author: Trevor Bedford <trevor@bedford.io>
Date:   Sat Jul 22 22:13:51 2017 -0700

    Merge pull request #409 from nextstrain/object.values
    
    Replace Object.values to fix iOS bug

commit eb7d3cfb757709ece860837e42cc699a591c831f
Author: Trevor Bedford <trevor@bedford.io>
Date:   Sat Jul 22 22:05:39 2017 -0700

    Replace Object.values

commit 5b77047f6b6ea2e2ea5c7d590d1aae9a16140a36
Author: Trevor Bedford <trevor@bedford.io>
Date:   Sat Jul 22 14:38:45 2017 -0700

    version bump to 1.3.9 for release

commit c5ba10238c2768fefce7225bca1d90894fadc2c3
Merge: aceba49c bd90e5b9
Author: Trevor Bedford <trevor@bedford.io>
Date:   Sat Jul 22 14:32:38 2017 -0700

    Merge pull request #407 from nextstrain/package-lock
    
    Remove package-lock.json

commit bd90e5b9099c084d1c9a02d8c8961499cd961ab1
Author: Trevor Bedford <trevor@bedford.io>
Date:   Sat Jul 22 14:27:46 2017 -0700

    Remove package-lock.json

commit aceba49cf4cb1f9c5d94697eebfe76bbaaa98152
Author: Trevor Bedford <trevor@bedford.io>
Date:   Sat Jul 22 14:21:35 2017 -0700

    version bump to 1.3.8 for release

commit 072d7559f5728cafe0ec00477c5ba2f8d85e372e
Author: Colin Megill <colinmegill@gmail.com>
Date:   Fri Jul 21 22:10:51 2017 -0700

    bezier attribute now on transmission object

commit 436739c4ff17d5dda6a80f9bdf30dabb81995800
Author: Colin Megill <colinmegill@gmail.com>
Date:   Fri Jul 21 19:20:17 2017 -0700

    no state mutation on update

commit 3c7756e5e42a05bde9ec64907a7ee3440912ef23
Merge: 56230b2a 009d4e06
Author: Colin Megill <colinmegill@gmail.com>
Date:   Fri Jul 21 14:59:32 2017 -0700

    Merge pull request #402 from nextstrain/392-precalc-lat-longs
    
    Precalculate deme and transmission data

commit 009d4e06d48cf3ac66527f9651577a09ad9782df
Merge: 40323619 56230b2a
Author: Colin Megill <colinmegill@gmail.com>
Date:   Fri Jul 21 14:47:20 2017 -0700

    Merge branch 'master' into 392-precalc-lat-longs

commit 56230b2a8cba19835a215a8af67a3ccf82c7218f
Merge: dbb253ce fc3a82bd
Author: Trevor Bedford <trevor@bedford.io>
Date:   Tue Jul 18 15:25:29 2017 -0700

    Merge pull request #345 from zachcp/app2
    
    Electron App Take 2

commit fc3a82bdc7212352d055ab916425c3ca6b868ead
Author: zach charlop-powers <zach.charlop.powers@gmail.com>
Date:   Tue Jul 18 18:01:53 2017 -0400

    update package.json

commit 34d96c4cad9b0812e16201ed93e916d65c4020ab
Author: zach charlop-powers <zach.charlop.powers@gmail.com>
Date:   Mon Jun 26 17:58:33 2017 -0400

    try a simpler process
    
    try to get thigns running. basically we need to run an express app inside of electorn in order to get all of the files to be served correctly. currently this is broken although the piecesa re in place. I dont know if the express app is being correctly launched so I need a way to be able to launch it manually and see the console output
    
    small updates
    
    gitignore
    
    fix dist path
    
    need to specify globals to load correctly
    
    add stubs for express data static serving
    
    clean the main index file
    
    add donwlaod script...
    
    register the command neccessary to build electron
    
    build instructions for electron
    
    use script to ensure the data is downloaded
    
    add electron specific config that specifies local data use. also add script to clean the release folder and update the dist npm script
    
    add iconset
    
    update package.json scripts and documentaitonon how to use
    
    use asar to compress files now that things are working
    
    remove some unused configs

commit 40323619f09d0e46c0ed6c5016f3720220a3bdd9
Author: Trevor Bedford <trevor@bedford.io>
Date:   Tue Jul 18 13:53:21 2017 -0700

    Avoid error from iterating over empty data arrays

commit 515e78a8cf94ba8fac6f29caf86f5de19e512a21
Author: Trevor Bedford <trevor@bedford.io>
Date:   Tue Jul 18 00:51:25 2017 -0700

    Include deme and transmission indices for fast updating

commit 8d8ffe7a9dc0337d2652974abb6f307499091842
Author: Trevor Bedford <trevor@bedford.io>
Date:   Mon Jul 17 22:10:59 2017 -0700

    Cleanup

commit f2c316512947e94774925dc80991fb8ef2e63c2c
Author: Trevor Bedford <trevor@bedford.io>
Date:   Mon Jul 17 18:18:20 2017 -0700

    Allow updating on map zoom

commit 51b6fac74cde1ddd4c7b437a2bc55a197e7dad36
Author: Trevor Bedford <trevor@bedford.io>
Date:   Mon Jul 17 17:23:42 2017 -0700

    Update demeData and transmissionData

commit dbb253cedda0ee791b96a9a5127f9239590551a5
Merge: b9ba0c69 b1fe083e
Author: Trevor Bedford <trevor@bedford.io>
Date:   Mon Jul 17 14:00:39 2017 -0700

    Merge notifications
    
    Fix merge conflicts and comment out testing buttons on splash page

commit b9ba0c6996e4cfc7cabcc469ac86ba8cf475f012
Author: Trevor Bedford <trevor@bedford.io>
Date:   Mon Jul 17 13:19:17 2017 -0700

    Update gitignore

commit 6b9949320da9aeaccd11e93ceb05e70b00933c44
Author: Trevor Bedford <trevor@bedford.io>
Date:   Mon Jul 17 11:40:20 2017 -0700

    version bump to 1.3.7 for release

commit 4e0b22458b73a8f885322af2af85318c89bc053a
Author: Trevor Bedford <trevor@bedford.io>
Date:   Mon Jul 17 11:40:00 2017 -0700

    Fix merge bug. We're on version 1.3.6.

commit 349b4e569004956298dc54e04937eb3b5be5c587
Merge: 15a9ec1d b993be32
Author: Trevor Bedford <trevor@bedford.io>
Date:   Mon Jul 17 11:31:58 2017 -0700

    Merge pull request #394 from nextstrain/372
    
    animation changes URL date on pause / complete / reset. Closes #372

commit 15a9ec1d389536c931f85e1b1c3a55492096baf4
Merge: a21c3656 1f0b629a
Author: Trevor Bedford <trevor@bedford.io>
Date:   Mon Jul 17 11:28:09 2017 -0700

    Merge pull request #396 from nextstrain/upgrade-react
    
    upgrate react packages

commit a21c36562ee3df03d52f0442c575042c2018cf30
Merge: 68409e0f 77f55998
Author: Trevor Bedford <trevor@bedford.io>
Date:   Mon Jul 17 11:23:42 2017 -0700

    Merge pull request #398 from nextstrain/dateRangeFromTree
    
    Set absoluteDateMax from tree; closes #364

commit 1938c2ce5cc0e8db1ccdb56d37c21fa68e4359a6
Author: Colin Megill <colinmegill@gmail.com>
Date:   Thu Jul 13 18:32:08 2017 -0700

    Refactor deme and transmission data creation

commit da810e167e568717fc1173b1cb9d3fc037070515
Author: Colin Megill <colinmegill@gmail.com>
Date:   Thu Jul 13 16:34:16 2017 -0700

    new data structure for demes transmissions lat longs

commit 3d787457b537ab5b6645b7c94037d4b354b8e14a
Author: Colin Megill <colinmegill@gmail.com>
Date:   Thu Jul 13 15:05:11 2017 -0700

    moved aggregated into map state

commit 77f55998665d33c82cbff493e9a45c5ffd35ae8c
Author: sidneymbell <sidneymb@uw.edu>
Date:   Thu Jul 13 14:01:32 2017 -0700

    Set absoluteDateMax from tree; closes #364

commit 1f0b629ac59dca231bd25b1372420e1859051e95
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Wed Jul 12 09:45:08 2017 -0700

    upgrate react packages

commit b993be327d7c0bc89346784d78fa766bda5160bb
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Tue Jul 11 13:22:04 2017 -0700

    animation changes URL date on pause / complete / reset. Closes #372

commit 68409e0f7926a3b90a75fc8d08ad487cb2c06f92
Author: Trevor Bedford <trevor@bedford.io>
Date:   Tue Jul 11 11:49:51 2017 -0700

    version bump to 1.3.6 for release

commit 1f07afcc7a8cf7bd7d970c0ddf5af873f38007a4
Merge: 0a3ed3bd 2a95fa76
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Tue Jul 11 08:39:54 2017 -0700

    Merge branch '385'
    
    * 385:
      changeDateFilter now dispatches only once. Closes #385

commit 0a3ed3bdbacc527cccc241ef98269c4e11fb8274
Merge: e6b60518 16cc7c34
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Tue Jul 11 08:39:50 2017 -0700

    Merge branch '384'
    
    * 384:
      Close #384

commit 16cc7c348b30c3b0f0822e089b0a5fb69a1a68c0
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Tue Jul 11 08:28:59 2017 -0700

    Close #384

commit 2a95fa76fb7704a1c7bf0665d6dfe887cdc1a228
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Tue Jul 11 07:45:18 2017 -0700

    changeDateFilter now dispatches only once. Closes #385

commit e6b605186c322a1b140e105b660fc2fe771d989a
Merge: eb9a07bd 02a89e2b
Author: Trevor Bedford <trevor@bedford.io>
Date:   Mon Jul 10 22:55:42 2017 -0700

    Merge pull request #386 from nextstrain/latlongs-perf
    
    Check for undefined when building transmissions data

commit eb9a07bd60e1b4cbc7cf8060862753226216253f
Merge: 53ec6ece 6ccee0e0
Author: Trevor Bedford <trevor@bedford.io>
Date:   Mon Jul 10 22:55:27 2017 -0700

    Merge pull request #388 from nextstrain/footer-render
    
    Properly avoid unnecessary rerendering of footer

commit 6ccee0e0ecdceba1b7d24d94cbf5e9ffec559cb6
Author: Trevor Bedford <trevor@bedford.io>
Date:   Mon Jul 10 22:51:57 2017 -0700

    Properly avoid unnecessary rerendering of footer

commit 02a89e2b3703dc7087f612c46637e9cfbeedecc6
Author: Trevor Bedford <trevor@bedford.io>
Date:   Mon Jul 10 18:16:35 2017 -0700

    Check for undefined when building transmissions data

commit 53ec6ecec9560b9a3b919b3d8984ab31e588aa83
Merge: 006b8924 cf53f7b7
Author: Trevor Bedford <trevor@bedford.io>
Date:   Mon Jul 10 17:32:23 2017 -0700

    Merge pull request #383 from nextstrain/browser-back-forward
    
    browser back/forward can change datasets. Closes #344

commit cf53f7b7663ed9634e6a198ed908736d4c77091c
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Mon Jul 10 15:38:21 2017 -0700

    browser back/forward can change datasets. Closes #344

commit 006b8924385f2f4d35944d32713e5ae26040ff94
Author: Trevor Bedford <trevor@bedford.io>
Date:   Mon Jul 10 13:43:43 2017 -0700

    version bump to 1.3.5 for release

commit afd6bafde89c655e8041ce026789edc81859936c
Author: Trevor Bedford <trevor@bedford.io>
Date:   Mon Jul 10 13:42:24 2017 -0700

    Small fix to allow full zooming

commit 603787de36bc9e39606e1d8424e624ae1abe106e
Author: Trevor Bedford <trevor@bedford.io>
Date:   Mon Jul 10 13:31:56 2017 -0700

    version bump to 1.3.4 for release

commit be2133735b2b94b2ea20cf2a9f451a231823d883
Merge: d3a7f440 6ac79a64
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Mon Jul 10 13:03:24 2017 -0700

    Merge branch 'animation-refactor'
    
    * animation-refactor:
      try / catch to fix bezier errors. Closes #375
      only import lodash functions which are actually used
      fix import statements
      remove unused transmissionPathLengths calcs. Should improve speed.
      dispatch play/pause button before map animation starts
      Cleanup code to shelve out a maybeGetTransmissionPair function
      Cleanup names and shelve off interchange into a function
      Duplicate map rather than triplicate
      Avoid unnecessary triplication in getLatLongs
      Remove unused colorBy
      Don't pass around controls, instead directly pass numDates

commit 6ac79a644556d827a12be7070e61a17530702aa7
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Mon Jul 10 12:51:15 2017 -0700

    try / catch to fix bezier errors. Closes #375

commit 2bc6af749b535c85ec3c01ad3657ee02817cb7f6
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Mon Jul 10 12:03:09 2017 -0700

    only import lodash functions which are actually used

commit 7e6b4265f4b7cdf50073bcbe181ac2303bd3cc9e
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Mon Jul 10 12:00:38 2017 -0700

    fix import statements

commit 014ae033cd0bdc7d1833cc7bf635cc8f38b30f11
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Mon Jul 10 10:46:43 2017 -0700

    remove unused transmissionPathLengths calcs. Should improve speed.

commit c3b8bbaffa29ecb8140045c145b179ecea2109d0
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Mon Jul 10 10:24:51 2017 -0700

    dispatch play/pause button before map animation starts

commit d3a7f4407e104f5ca5f4fc4bbdcd7d9af9d6a075
Merge: c89f1eb6 d1991293
Author: Trevor Bedford <trevor@bedford.io>
Date:   Sun Jul 9 09:09:56 2017 -0700

    Merge pull request #379 from nextstrain/Bezier-comments
    
    Include Bezier comments

commit d1991293130a250930531521b4fc51346ac16fe2
Author: Trevor Bedford <trevor@bedford.io>
Date:   Sun Jul 9 09:09:03 2017 -0700

    Update line breaks in comments

commit c89f1eb66bbf72dcee4d36bf78b460e9bb28c1ee
Merge: 28fab108 e8d84a51
Author: Trevor Bedford <trevor@bedford.io>
Date:   Sun Jul 9 08:50:15 2017 -0700

    Merge pull request #378 from nextstrain/disable-animation
    
    Add flag to globals to enable/disable animation display

commit e8d84a5173ef85b96c91f5c14b4a86da8d9c772c
Author: Trevor Bedford <trevor@bedford.io>
Date:   Sat Jul 8 21:10:34 2017 -0700

    Add flag to globals to enable/disable animation display

commit e3ac4ed544e3e0fd57b51b88b11e36a370a229da
Author: Trevor Bedford <trevor@bedford.io>
Date:   Sat Jul 8 15:52:10 2017 -0700

    Cleanup code to shelve out a maybeGetTransmissionPair function

commit 3bf0efdab4bf1a7dabbcf243c5392999399bad2e
Author: Trevor Bedford <trevor@bedford.io>
Date:   Sat Jul 8 14:30:30 2017 -0700

    Cleanup names and shelve off interchange into a function

commit 6986d7b55d7691d50909f59a26d8c36d1543d47d
Author: Trevor Bedford <trevor@bedford.io>
Date:   Sat Jul 8 12:33:02 2017 -0700

    Duplicate map rather than triplicate
    
    Half a map added to the west and half a map added to the east. Working exactly as it should, but code is not pretty.

commit 729fca61a1f6974d087c4043c3ae826e691d217c
Author: Trevor Bedford <trevor@bedford.io>
Date:   Sat Jul 8 11:32:50 2017 -0700

    Avoid unnecessary triplication in getLatLongs

commit ef476f85c901b6b2b9be56b249154e43e4eed6e6
Author: Trevor Bedford <trevor@bedford.io>
Date:   Sat Jul 8 01:19:30 2017 -0700

    Remove unused colorBy

commit a3fcfb68885b131fd0d86282d7c15d4f9235bc7f
Author: Trevor Bedford <trevor@bedford.io>
Date:   Sat Jul 8 01:04:32 2017 -0700

    Don't pass around controls, instead directly pass numDates

commit 28fab10800f2d55a3080593a3975446be7d53fcf
Merge: 0c0fbc04 e4057427
Author: Trevor Bedford <trevor@bedford.io>
Date:   Fri Jul 7 18:43:18 2017 -0700

    Merge branch 'animation-perf'

commit e405742711de697a67bee0033af74c018b384e1d
Author: Trevor Bedford <trevor@bedford.io>
Date:   Fri Jul 7 18:40:37 2017 -0700

    Fix double computation of latLongs
    
    Per #367

commit 0c0fbc0420ed1e99467dc86f4f6fef92469f804d
Merge: ee770752 31516f22
Author: Trevor Bedford <trevor@bedford.io>
Date:   Fri Jul 7 16:58:11 2017 -0700

    Merge pull request #376 from nextstrain/animation-speed-button
    
    Restyle animation speed button and decruft animation controls

commit 31516f224392881825d5b9382b719a4f7cf4ec90
Author: Trevor Bedford <trevor@bedford.io>
Date:   Fri Jul 7 16:56:29 2017 -0700

    Restyle animation speed button and decruft animation controls
    
    Fixes #370

commit ee770752deb244f1e599dbebbe36ad1f6a7193cf
Merge: ef88fd2d ed96cb11
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Fri Jul 7 16:40:42 2017 -0700

    Merge pull request #373 from nextstrain/date-window-v2
    
    Date window v2

commit d3929ba1dd4aef85c240f96796e01ea4116b9643
Author: evogytis <gytisdudas@gmail.com>
Date:   Fri Jul 7 16:33:10 2017 -0700

    Also comment computeMidpoint.

commit faebb9d8da1e09a1bc8b59f981c89fcbd34ee91f
Author: evogytis <gytisdudas@gmail.com>
Date:   Fri Jul 7 16:28:13 2017 -0700

    Additional comments on Bezier curves.

commit ed96cb11a5631d2ef4ecfb2dd2b2c1c96fe2582e
Author: Trevor Bedford <trevor@bedford.io>
Date:   Fri Jul 7 16:16:51 2017 -0700

    Actually resolve date window issue

commit 19160ccb3777ff0b03931815c2daca229e4a898f
Author: Trevor Bedford <trevor@bedford.io>
Date:   Fri Jul 7 16:15:59 2017 -0700

    Fix logic of animation increment

commit ee7a2b4a719d8defca86e85efdb6c3511ef8c90b
Author: Trevor Bedford <trevor@bedford.io>
Date:   Fri Jul 7 16:13:48 2017 -0700

    Move from moment date to d3 date
    
    Repeat date-window branch on top of new master

commit ef88fd2d822a3110974732485423f4723086e3a2
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Fri Jul 7 15:46:05 2017 -0700

    close #371

commit 06e73780dcdb6d1209ed437eeb8367d4f308a7c0
Merge: 40e97b1a 92fe9a6c
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Fri Jul 7 15:08:40 2017 -0700

    Merge branch 'merge-simplify'
    
    * merge-simplify: (22 commits)
      simplify latLongs() as per #361
      map uses nodeColors instead of calculating colorScale. Should be faster
      remove datasetGUID from tree reducer
      remove colorScale from maybeDrawDemesAndTransmissions
      check for dataset change and remove demes. Closes #365
      update how map calls changeDateFilter. Animation now works.
      comment out (no longer used) datasetGuid
      comment out (empty) maybeAnimateDemesAndTransmissions
      ensure tree is loaded in maybeUpdateDemesAndTransmissions
      simplify maybeDrawDemesAndTransmissions conditionals
      simplify maybeComputeResponive conditionals
      add (redux).tree.version
      minor
      remove zoomToClade
      reduce changeDateFilter actions from 3 to 2 and no getState call
      simplify visibility & branch thickness to a single action
      simplify load status & reduce number of actions of entropy
      comment out analysisSlider for now (revisit)
      simplified tree load status. Deprecated datasetGuid
      simplify load status of meta + seqs
      ...

commit 92fe9a6c75e31c439c36345ccb4423750cdb4469
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Fri Jul 7 15:06:32 2017 -0700

    simplify latLongs() as per #361

commit 4c3f591336af9f265b1a04b4c347f877e5a44714
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Fri Jul 7 14:47:48 2017 -0700

    map uses nodeColors instead of calculating colorScale. Should be faster

commit 2590efc8ee718096238d0b0594f3a65eb94366be
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Fri Jul 7 14:33:29 2017 -0700

    remove datasetGUID from tree reducer

commit cc3af0d28b72b38cc7f4ad4d9e3d37d67f52c6fe
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Fri Jul 7 14:32:40 2017 -0700

    remove colorScale from maybeDrawDemesAndTransmissions

commit 29cf8baa6d0a33b997d39f4744ebb718fe0fa1ea
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Fri Jul 7 14:14:57 2017 -0700

    check for dataset change and remove demes. Closes #365

commit 7df003f0d562ccab5b09c61818530672ccf6dc29
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Fri Jul 7 14:05:08 2017 -0700

    update how map calls changeDateFilter. Animation now works.

commit ca55e481370e6147066a860bd92c4e60a55444f2
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Fri Jul 7 13:57:18 2017 -0700

    comment out (no longer used) datasetGuid

commit ad3cf04ae59074531736e3004ffa2d6dfd7e9e14
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Fri Jul 7 13:56:17 2017 -0700

    comment out (empty) maybeAnimateDemesAndTransmissions

commit 4a38fa2ef772e3406252c03ae0d5d494b4cbdd0d
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Fri Jul 7 13:53:18 2017 -0700

    ensure tree is loaded in maybeUpdateDemesAndTransmissions

commit 14a3e29b23f8cc41e1637ef06238c376a9e89b6d
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Fri Jul 7 13:51:16 2017 -0700

    simplify maybeDrawDemesAndTransmissions conditionals

commit 1805086b7fd04c66bc714bbc9736c78adffe12e5
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Fri Jul 7 13:37:18 2017 -0700

    simplify maybeComputeResponive conditionals

commit 26a59a7ea737b3676373791446ea458d3c834c0d
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Fri Jul 7 13:34:37 2017 -0700

    add (redux).tree.version

commit 0e3d9c139bc34f7a61e280888eb3638e08fe9d34
Merge: 40e97b1a 7c23026b
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Fri Jul 7 12:28:12 2017 -0700

    Merge branch 'simplify'
    
    * simplify:
      minor
      remove zoomToClade
      reduce changeDateFilter actions from 3 to 2 and no getState call
      simplify visibility & branch thickness to a single action
      simplify load status & reduce number of actions of entropy
      comment out analysisSlider for now (revisit)
      simplified tree load status. Deprecated datasetGuid
      simplify load status of meta + seqs
      Meta, Tree & Sequences JSON load together. Reduces action count.
      remove RECEIVE_METADATA action

commit 40e97b1ab7cc48238046d7c65347672b7394cbf7
Merge: 895923ed 2aaafea1
Author: Trevor Bedford <trevor@bedford.io>
Date:   Fri Jul 7 11:42:35 2017 -0700

    Merge pull request #330 from nextstrain/map-animation-v1
    
    Map animation v1

commit 2aaafea1aa97b310cc36ba14d33ee0c6c0ce6e5a
Author: Trevor Bedford <trevor@bedford.io>
Date:   Thu Jul 6 21:58:58 2017 -0700

    Resolve race condition in switching between Ebola and Avian

commit c91445424b3b800976b2b20e08b900341bf7434f
Merge: 41ce2a5d 895923ed
Author: Trevor Bedford <trevor@bedford.io>
Date:   Thu Jul 6 18:21:12 2017 -0700

    Merge master onto map animation and resolve Controls

commit 41ce2a5d29e029091d3300f216b71eb841b8c625
Author: Trevor Bedford <trevor@bedford.io>
Date:   Thu Jul 6 17:48:39 2017 -0700

    Fix bug where animation continues across dataset loads

commit 99b3edb72ea1c649cb16cabc76a2f019307f2297
Author: Trevor Bedford <trevor@bedford.io>
Date:   Thu Jul 6 17:35:48 2017 -0700

    Fix bug with dataset switch and Bezier curves

commit d86f822927b374ce588523d83703cbf4218b12e1
Author: Colin Megill <colinmegill@gmail.com>
Date:   Thu Jul 6 16:58:03 2017 -0700

    back to play button on anim end

commit 48195ff88ec0e721ba20128d3012b7dc279e32fb
Author: Colin Megill <colinmegill@gmail.com>
Date:   Thu Jul 6 16:47:58 2017 -0700

    disable changing animation speed while map is playing

commit 1ccb477110d7de49424139e32b28bc71f53243dc
Author: Colin Megill <colinmegill@gmail.com>
Date:   Thu Jul 6 16:43:46 2017 -0700

    move play/pause button out of local state to redux, pause on slider chng

commit f51d46b4d377d3e28b5250e14def0067f376c15e
Author: Colin Megill <colinmegill@gmail.com>
Date:   Thu Jul 6 16:11:33 2017 -0700

    getBounds broken out, & setMaxBounds for triplicate on dataset change

commit a3c92a90485bd49bc793cc487b761868ddabc759
Author: Colin Megill <colinmegill@gmail.com>
Date:   Thu Jul 6 15:44:37 2017 -0700

    reset daterange on non cumulative map end

commit 462c15bc80f4700852255582d766d732427a9e0e
Author: Colin Megill <colinmegill@gmail.com>
Date:   Thu Jul 6 15:05:09 2017 -0700

    zoom to new bounds on dataset change

commit cc86da55b1106aee6de399ca32f5a38fa0b9d45e
Author: Colin Megill <colinmegill@gmail.com>
Date:   Thu Jul 6 14:54:24 2017 -0700

    if there is an interval, don't allow changing tree layout

commit 895923ed487012555580ec18605324852ee260cf
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Thu Jul 6 09:53:42 2017 -0700

    version bump to 1.3.3 for release

commit 574bbcddb33c30eb35f553d5a82c8685d2ba9a43
Merge: b19a75f8 78dbee37
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Thu Jul 6 09:50:07 2017 -0700

    Merge pull request #355 from nextstrain/publication-title
    
    Publication title in tip info

commit 78dbee3721384d2b049562b622c919f49bda9a6b
Author: Trevor Bedford <trevor@bedford.io>
Date:   Wed Jul 5 23:11:22 2017 -0700

    Wrap titles in info box

commit b19a75f81de551ed6ac7133fea72361294391a1e
Merge: 8ef77440 6efea937
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Wed Jul 5 15:29:04 2017 -0700

    Merge pull request #343 from nextstrain/add_clade_labels
    
    Display clade names for nodes when defined by augur inputs

commit db74b3a1cdfce8b2aed2bfba462f08d0a9cde79b
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Wed Jul 5 14:52:06 2017 -0700

    add camelCase option to prettyString

commit dd64c9e911ec86675b35e87ec2a6fb330c78ee54
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Wed Jul 5 14:44:39 2017 -0700

    publication title & cleaner code

commit d31b5f6c6cdd8502b551f3dea57dd688aa7d2792
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Wed Jul 5 14:36:43 2017 -0700

    min col width

commit d2eb5163112f89a3cdc9b04405954993639a7160
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Wed Jul 5 13:47:05 2017 -0700

    move prettyString, authorString to seperate file

commit 6efea93790cb442e2bf599d359bcf771d0c4d4e1
Merge: 7c1d25d5 8ef77440
Author: John Huddleston <huddlej@gmail.com>
Date:   Mon Jul 3 14:15:01 2017 -0700

    Merge remote-tracking branch 'origin/master' into add_clade_labels

commit 7c1d25d5e4a18f1ec38214b3b656ba53b272f5a7
Author: John Huddleston <huddlej@gmail.com>
Date:   Mon Jul 3 14:14:42 2017 -0700

    fixed typo referring to the incorrect attribute class.

commit 4cc35628e028bfd75f656b0b77139a64117946b4
Author: John Huddleston <huddlej@gmail.com>
Date:   Mon Jul 3 14:14:09 2017 -0700

    commented out unused drawBranchLabels function.

commit 470cb4863fd0bc14ffb9721d87af14fc472e0605
Author: John Huddleston <huddlej@gmail.com>
Date:   Mon Jul 3 14:13:53 2017 -0700

    remove branch label annotations on redraw.

commit 8ef77440de0f5a5c0623993fa872bf0d67ff99f4
Merge: e632dc7b 1928c542
Author: Trevor Bedford <trevor@bedford.io>
Date:   Thu Jun 29 21:49:46 2017 -0700

    Merge pull request #352 from nextstrain/347
    
    define defaultColorBy on data load. Closes #347

commit 1928c54277405d7c99535b69e3d80bbde8eef57e
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Thu Jun 29 14:55:57 2017 -0700

    define defaultColorBy on data load. Closes #347

commit f762c9fc3bf609777d2f5cb6d87cfe7427277f36
Author: Colin Megill <colinmegill@gmail.com>
Date:   Thu Jun 29 13:13:51 2017 -0700

    triplicate

commit fa0f9524e47fa9c9947566c326ab8196a6753807
Author: Colin Megill <colinmegill@gmail.com>
Date:   Thu Jun 29 13:13:46 2017 -0700

    toggle

commit 7c23026bcc532fd21b9c103d65f71a89ad83729d
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Thu Jun 29 11:58:47 2017 -0700

    minor

commit 3a90a718884879918a1426d13ab6028e4f2a6fd0
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Thu Jun 29 11:28:27 2017 -0700

    remove zoomToClade

commit d776f29d8754b4da7a937a242e14707b68806d9c
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Thu Jun 29 11:14:39 2017 -0700

    reduce changeDateFilter actions from 3 to 2 and no getState call

commit 41a73da60e37d8d2bf4e48e6c4967aa195c47578
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Thu Jun 29 10:44:33 2017 -0700

    simplify visibility & branch thickness to a single action

commit fa03a5e456ac42b9c892b996cf882417a79719c7
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Thu Jun 29 10:01:24 2017 -0700

    simplify load status & reduce number of actions of entropy

commit 3f14199f80738a9ef7bd8ec53bcc704819897b7a
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Thu Jun 29 09:50:03 2017 -0700

    comment out analysisSlider for now (revisit)

commit e4a7771b74d64df33bd261d483f386ef787c1e88
Author: Colin Megill <colinmegill@gmail.com>
Date:   Thu Jun 29 09:49:23 2017 -0700

    for now, return null at top of componentDidUpdate

commit 39807dc20d1d63502a552594dcbba63608a833d4
Author: sidneymbell <sidneymb@uw.edu>
Date:   Thu Jun 29 09:42:07 2017 -0700

    Fix Infinity `start` and `end` values leading to Bezier bugs.

commit 8869983d102bfe9dd0281174b34f8e2de8a22e5b
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Thu Jun 29 09:35:56 2017 -0700

    simplified tree load status. Deprecated datasetGuid

commit 639a75904fd3f88c139b264285bf2085c82ddb3a
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Thu Jun 29 09:13:22 2017 -0700

    simplify load status of meta + seqs

commit 74b091c5f4e749837ed184d647a8884ac76ae92c
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Thu Jun 29 08:54:33 2017 -0700

    Meta, Tree & Sequences JSON load together. Reduces action count.

commit 8f5492f95719a9237a8126b28b0db2064706838f
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Thu Jun 29 08:37:14 2017 -0700

    remove RECEIVE_METADATA action
    
    reducing the number of actions reduces bugs

commit e632dc7b3660fe5de92903d5ebe5b7b15e6ac9a6
Author: Trevor Bedford <trevor@bedford.io>
Date:   Wed Jun 28 22:38:08 2017 -0700

    version bump to 1.3.2 for release

commit 47d81bbeeaa5af43b019a47b3b4dd3497ddf8657
Merge: 1ba20fa6 56fb2946
Author: Trevor Bedford <trevor@bedford.io>
Date:   Wed Jun 28 22:13:33 2017 -0700

    Merge pull request #342 from nextstrain/tree-bugs
    
    Tree bugs

commit 1ba20fa6caf9f7054797f7294e3e787f05a802f9
Merge: e3011829 c81b1f83
Author: Trevor Bedford <trevor@bedford.io>
Date:   Wed Jun 28 22:09:34 2017 -0700

    Merge pull request #346 from nextstrain/tree-info-panels
    
    Tree info panels

commit c81b1f834e944fdac8c27eb506b6d143b0850262
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Wed Jun 28 17:47:00 2017 -0700

    tree panel fonts 400/200 -> 500/300

commit 55b1c39a004f61aa32cf37e11b86afb09109597a
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Wed Jun 28 17:46:05 2017 -0700

    tip hover shows date / div

commit af95ade489392b8c6e2ce1967ce92e315fe4e66c
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Wed Jun 28 10:49:08 2017 -0700

    improved infoPanel. Closes #338

commit 5c5c600e36734858629c9a9be42e01b76fe79d81
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Tue Jun 27 16:39:53 2017 -0700

    Tip info box improved. Closes #332
    
    Attributes not present are not displayed
    CIs displayed if appropriate
    Accession + URL joined where possible

commit e3011829ea94cdd6419768e0353c59c6b6a9a299
Author: Trevor Bedford <trevor@bedford.io>
Date:   Tue Jun 27 16:02:04 2017 -0700

    Pad out color ramps

commit 43d856bc54fb8fa347a327d6b550dd335e31cb72
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Tue Jun 27 14:00:35 2017 -0700

    centralize functions

commit 348ce17cdfbb5e226ed1611778298c1a39c68c8b
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Tue Jun 27 13:48:23 2017 -0700

    cleaner code

commit 4fd281a2c25784b04c8252b3de38a8ee7a4a668d
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Tue Jun 27 13:36:41 2017 -0700

    prettyString improvements, legend items -> functional component
    
    USA not Usa
    USVI not Usvi

commit 8d57e66bbd2f27e1bfd93ef7e3466ea72c60e30b
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Tue Jun 27 12:29:10 2017 -0700

    author string formatting. Closes #335

commit 56fb2946a6cd412eb6857b7858df3049ee2b8e51
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Tue Jun 27 09:38:19 2017 -0700

    remove obsolete CHANGE_COLOR_BY action

commit eed85478d154a9c7bac44efdfad970c7eb3ca47e
Author: John Huddleston <huddlej@gmail.com>
Date:   Mon Jun 26 15:33:26 2017 -0700

    display clade names for nodes when defined by augur inputs.

commit 01db64ff5f5db7720f600ee76abaf15ee606b53f
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Mon Jun 26 16:48:04 2017 -0700

    genotype removed from URL, colorBy set properly

commit 38d3158405b560244b3addedf1eb3e00d6bf2f66
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Mon Jun 26 16:39:55 2017 -0700

    simplify colorScale generation + node color updating. Closes #340

commit a464c8130210bb919a825be5f3e6763a575e8315
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Mon Jun 26 15:22:18 2017 -0700

    tip / branch selections maintained on window / sidebar resize

commit 21ae6c0450e9e13ec37226a35db0b928cd9e0115
Merge: 19d479e1 e5dcde36
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Fri Jun 23 16:00:36 2017 -0700

    Merge branch 'master' into map-animation-v1
    
    * master: (63 commits)
      version bump to 1.3.1 for release
      hotfix for url bug in tree tip panel
      version bump to 1.3.0 for release
      remove 2y seasonal flu
      H7N9 -> avian
      version bump to 1.2.4 for release
      flu defaults to c=region, r=country. Removed 2y for vic & yam.
      conditional to prevent augur error #23
      transmissions without lat longs are ignored
      remove console.log statement
      Small adjustment to legend display
      Move confidence toggle to ChooseMetric
      bugfix
      seasonal flu splash update
      seasonal flu default: colorBy region
      tree legend key fixed
      date slider min date ignores lower CI
      CI widths fixed
      colorBy confidence toggle removed - always on if available in JSON
      fix branch colouring bugs
      ...

commit e5dcde365cd55d7d29dfeb69918bbe62aa7804c4
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Fri Jun 23 08:47:16 2017 -0700

    version bump to 1.3.1 for release

commit 89c81692dadaa9fed1d7decd9abc2764ddc3810b
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Fri Jun 23 08:46:41 2017 -0700

    hotfix for url bug in tree tip panel

commit 19d479e1c73a7e9ff6c7e5c4828ca86553348844
Author: Colin Megill <colinmegill@gmail.com>
Date:   Thu Jun 22 17:04:48 2017 -0700

    non-triplicate (naive) map bounds + splitting

commit 4d053d6bebfdd13deda384441129cc1ebb5f9a1a
Author: Colin Megill <colinmegill@gmail.com>
Date:   Thu Jun 22 16:28:15 2017 -0700

    clear animation interval on date interaction

commit 74a2adc24e0046cb4ca8ffab433f666939ca330c
Author: sidneymbell <sidneymb@uw.edu>
Date:   Wed Jun 21 16:14:16 2017 -0700

    Revert "Dengue animation bugfix attempt - 'Infinity' end point value."
    
    This reverts commit 0bb9babf09ef2b58b4bea7b92bd5232da8276889.

commit 9b75281e8bbb986109f7bf4785934e90ed43eb4f
Author: Colin Megill <colinmegill@gmail.com>
Date:   Thu Jun 22 14:11:57 2017 -0700

    change label text

commit ff576ad74715f297d9c9c38f89da658ca740b200
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Thu Jun 22 11:31:22 2017 -0700

    version bump to 1.3.0 for release

commit ea618cf5a230d0faf3555d6af9c09f10601003d7
Merge: e2fee9b3 85f3a767
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Wed Jun 21 16:40:01 2017 -0700

    Merge pull request #334 from nextstrain/seasonal_flu
    
    Seasonal flu

commit 85f3a767a04f83438240d147e094b8da3034058a
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Wed Jun 21 16:28:29 2017 -0700

    remove 2y seasonal flu

commit 0bb9babf09ef2b58b4bea7b92bd5232da8276889
Author: sidneymbell <sidneymb@uw.edu>
Date:   Wed Jun 21 16:14:16 2017 -0700

    Dengue animation bugfix attempt - 'Infinity' end point value.

commit 3999ac012c31c3a21fc9cb1b3427c474e2600bf7
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Wed Jun 21 13:56:46 2017 -0700

    H7N9 -> avian

commit 594a21677e54b2f72c8237afc9310e867abd4698
Author: Colin Megill <colinmegill@gmail.com>
Date:   Wed Jun 21 10:39:55 2017 -0700

    slow medium fast buttons

commit 0d16d32ce9bdb55104f739bddc7f4817cf1afe85
Author: Colin Megill <colinmegill@gmail.com>
Date:   Wed Jun 21 10:39:35 2017 -0700

    fixed width play/pause button

commit e2fee9b359995df99f01ad4185b718728e59999b
Author: Trevor Bedford <trevor@bedford.io>
Date:   Tue Jun 20 17:34:07 2017 -0700

    version bump to 1.2.4 for release

commit bc215241eb85d6dcc01d10f9cdf419da9510572f
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Tue Jun 20 13:14:58 2017 -0700

    flu defaults to c=region, r=country. Removed 2y for vic & yam.

commit 521707280ab854124ca213f6f62110c10e1576f5
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Tue Jun 20 10:50:16 2017 -0700

    conditional to prevent augur error #23

commit 660c1f064c69163d2d8a6cb9281527f6dd19bb79
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Mon Jun 19 13:51:53 2017 -0700

    transmissions without lat longs are ignored
    
    previous behavior was to throw an error
    allows geoResolutions for which there are no transmission data
    to be displayed as demes without joining lines

commit 7125ff2bddd0154515031e6ace6b89c1fa466ae5
Merge: 662303af 1a85bcaa
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Mon Jun 19 13:20:38 2017 -0700

    Merge branch 'master' into seasonal_flu
    
    * master:
      remove console.log statement
      Small adjustment to legend display
      Move confidence toggle to ChooseMetric

commit 1a85bcaa207ff46c46507d711158da5eeaa9bd20
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Mon Jun 19 11:51:21 2017 -0700

    remove console.log statement

commit 079e2950291556230879e16415bd329b72231a43
Author: Trevor Bedford <trevor@bedford.io>
Date:   Sun Jun 18 11:24:17 2017 -0700

    Small adjustment to legend display

commit 67dbaba929b77e8fa52dc659fa33a0d1e397b839
Merge: d21be9f7 904de672
Author: Trevor Bedford <trevor@bedford.io>
Date:   Sun Jun 18 11:22:26 2017 -0700

    Merge pull request #329 from nextstrain/CIs
    
    Confidences

commit 904de67284b0ce7ebaaec55a4b8563ce3e935ce7
Author: Trevor Bedford <trevor@bedford.io>
Date:   Sun Jun 18 11:20:23 2017 -0700

    Move confidence toggle to ChooseMetric
    
    It seemed to make more intuitive sense to me to have this nested within choose metric. I think of it as an aspect of branch length.

commit fd9333bf7900231788c9c5c23391e91ec5747de5
Author: sidneymbell <sidneymb@uw.edu>
Date:   Fri Jun 16 16:24:33 2017 -0700

    Map animation controls -> pause/play, reset

commit 662303af728f20807449acc7ee737c3d236d2395
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Fri Jun 16 15:24:30 2017 -0700

    bugfix

commit e7058e3898c54732dcd0c00390adaf9bd366fb35
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Fri Jun 16 15:24:23 2017 -0700

    seasonal flu splash update

commit 971afd6362529c0dd4da20ed8096e23c408aa67f
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Fri Jun 16 14:11:30 2017 -0700

    seasonal flu default: colorBy region

commit 15bcabeb6e27123ff7b808d2193ee1268144795f
Author: sidneymbell <sidneymb@uw.edu>
Date:   Fri Jun 16 13:51:39 2017 -0700

    Change pathtrailing to cumulative

commit ce73e1ac1d6751736e10e2f08f93a704bdbed3ad
Author: sidneymbell <sidneymb@uw.edu>
Date:   Fri Jun 16 13:31:53 2017 -0700

    Start animation at user dateMin

commit 30c93b1d8bf2ed53771a2f0c58bd560d1bc9ef1f
Author: sidneymbell <sidneymb@uw.edu>
Date:   Fri Jun 16 12:26:11 2017 -0700

    Fix minTransmissionDate bug

commit 367324dbbeded5a14962f646b52bb00e5a60866b
Author: sidneymbell <sidneymb@uw.edu>
Date:   Thu Jun 15 14:36:29 2017 -0700

    Pull date of first observed geo transmission for bezier curves

commit 57e36fb4d81cbb6693c209b9e4b7c57fc21c896c
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Fri Jun 9 15:41:30 2017 -0700

    tree legend key fixed

commit f2760037dbec85cb7bef39116753d0240436fec7
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Fri Jun 9 14:00:14 2017 -0700

    date slider min date ignores lower CI

commit 3f49c2eb233f6b88e9ace0e5976efc4eee21118a
Merge: de574ac4 e50145fb
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Fri Jun 9 10:29:05 2017 -0700

    Merge branch 'CIs' into seasonal_flu
    
    * CIs:
      CI widths fixed
      colorBy confidence toggle removed - always on if available in JSON
      fix branch colouring bugs
      dates in YYYY-MM-DD format
      likelihoods renamed to confidences
      branch hover colour on stem + T
      fix tree branch colour hover bug
      branch infopanel display
      display CIs when hovered
      CIs & likelihood off by default
      min dates via tree, not meta defaults

commit e50145fb037388f12157d439920bd297bb2a5ddf
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Thu Jun 8 17:52:24 2017 -0700

    CI widths fixed

commit d2efee53ef4c091fe89fe8759866f30485ebe0d5
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Thu Jun 8 16:34:59 2017 -0700

    colorBy confidence toggle removed - always on if available in JSON

commit 01abe4d8c4ea112a6b3b5a706d489d07329feaf2
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Thu Jun 8 15:36:53 2017 -0700

    fix branch colouring bugs

commit dcb19146490b246b228077eaa7c5120c5c478af9
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Wed Jun 7 18:26:00 2017 -0700

    dates in YYYY-MM-DD format

commit 7db76db6851b714a5a99d03083b8d537e867fbf7
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Wed Jun 7 17:11:15 2017 -0700

    likelihoods renamed to confidences

commit 92985a1ab9a4b209011db8ddefa4bdbf4190a718
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Wed Jun 7 11:09:15 2017 -0700

    branch hover colour on stem + T

commit d6e6893430de434f99e09e9c01041e5eb5b6c480
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Wed Jun 7 11:06:18 2017 -0700

    fix tree branch colour hover bug

commit 5c2f5c3f090b8ceb796092f77ca317a7be82c55d
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Wed Jun 7 10:13:34 2017 -0700

    branch infopanel display

commit 614849c432a0c68c1a376ad0f3afde72f160e7b1
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Wed Jun 7 09:53:26 2017 -0700

    display CIs when hovered

commit 5063be92f3d8d3094c195d10e87534339b5447fb
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Mon Jun 5 13:54:33 2017 -0700

    CIs & likelihood off by default

commit 72e9280b3255c776d00ba69efa149ee9b3de4023
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Mon Jun 5 13:31:09 2017 -0700

    min dates via tree, not meta defaults

commit de574ac4226289df4dcd1b2e77d0b079871298a5
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Thu Jun 1 16:37:00 2017 -0700

    seasonal flu resolution

commit 1380a4f111457691cbbf3c2c2dafd1291f19914d
Merge: 5e02c677 a10eefc3
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Thu Jun 1 14:05:32 2017 -0700

    Merge branch 'CIs' into seasonal_flu
    
    * CIs: (55 commits)
      min dates via tree if earlier than hardcoded value
      tree infoPanel displays CIs / div. Code is cleaner
      simplify treeView @connect
      move CI toggle to below time/div switch & hide when divergence used
      minor
      confidence toggle + tree layout work
      state likelihoods/confidence now {object}
      CIs behave on layout change
      fix CI stroke width bug
      CI toggle & callbacks etc
      make Toggle a pure functional component
      CIs move with updateGeometry
      CI styles update via treeView funcs
      minor
      remove treeView shouldComponentUpdate
      treeView componentWillReceiveProps cleaner
      working
      tidy up treeView
      CIs (buggy)
      branch hover color conditional
      ...

commit a10eefc3fdbef836e0bd332445621dd4edfd5a33
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Tue May 30 15:26:15 2017 -0700

    min dates via tree if earlier than hardcoded value

commit ba8962029b524a1a62b44a8278f32371ef690502
Author: Colin Megill <colinmegill@gmail.com>
Date:   Sun May 28 19:42:14 2017 -0700

    validate map animation inputs

commit 0269dbea69be8211591cb3bae8badaf31d8c46df
Author: Colin Megill <colinmegill@gmail.com>
Date:   Sun May 28 19:40:10 2017 -0700

    Add map animation control inputs & events

commit 011d952a3f2beccc7bae875fae38883c4e05514c
Author: Colin Megill <colinmegill@gmail.com>
Date:   Sun May 28 19:39:26 2017 -0700

    check for dynamic rather than static trailing flag

commit bc21799c89852c5ae60b40809d362a7a86731b93
Author: Colin Megill <colinmegill@gmail.com>
Date:   Sun May 28 19:39:08 2017 -0700

    reducer cleanup

commit 05709ad79ba08a14182606658a53dd9d36371b87
Author: Colin Megill <colinmegill@gmail.com>
Date:   Sun May 28 19:38:03 2017 -0700

    reducers and defaults for map animation controls

commit e4592454622da1aa6c44f1a181ad6b6e9feb46ce
Author: Colin Megill <colinmegill@gmail.com>
Date:   Sun May 28 19:37:23 2017 -0700

    update react date picker

commit 572dcd018b5156f975a0441fdc64f36cedf742c0
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Thu May 25 13:56:49 2017 -0700

    tree infoPanel displays CIs / div. Code is cleaner

commit 2afd9bbcc156069c6139763cece15e4b86090098
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Thu May 25 10:43:19 2017 -0700

    simplify treeView @connect

commit 9cddd948628a721fc894c003197b2fc250dc3413
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Wed May 24 15:55:55 2017 -0700

    move CI toggle to below time/div switch & hide when divergence used

commit d82107a47ee6c17f493e109badfe454e5e86a86c
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Wed May 24 15:40:41 2017 -0700

    minor

commit 6f97417bd57322c77706bfc3ae1166d22aa5ecd2
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Wed May 24 15:32:48 2017 -0700

    confidence toggle + tree layout work

commit f6a6ca3b1932648b5234f67c814f73a6ad73af58
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Wed May 24 15:16:17 2017 -0700

    state likelihoods/confidence now {object}

commit e095274f29067303b05f9f407f5e59443609165e
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Wed May 24 14:50:21 2017 -0700

    CIs behave on layout change

commit 85564ba4345e2dcf928cb0577a3cf5a38bc39e10
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Wed May 24 14:17:02 2017 -0700

    fix CI stroke width bug

commit ed29e58298e9639f5ee2495f6b08107f52445a3b
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Wed May 24 14:05:15 2017 -0700

    CI toggle & callbacks etc

commit 2f95ac990f53e2b01a2e5ec053ab4034a8ce7b17
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Wed May 24 13:42:28 2017 -0700

    make Toggle a pure functional component

commit 1d4713b8b412d20b3624e4de33825331fa5e62fd
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Wed May 24 13:26:21 2017 -0700

    CIs move with updateGeometry

commit 69ba7aa363de24f6c85037bc8374a956ccf308be
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Wed May 24 13:18:32 2017 -0700

    CI styles update via treeView funcs

commit c36f7051bec2a774e58106cc215c3973bdb6349c
Author: sidneymbell <sidneymb@uw.edu>
Date:   Wed May 24 10:53:09 2017 -0700

    Add default for whether the map (+animation) should be triplicated

commit 90e85f2005def8286a54bd0418071c65422a3b05
Merge: e720de37 bcff4710
Author: sidneymbell <sidneymb@uw.edu>
Date:   Tue May 23 20:16:18 2017 -0700

    Merge remote-tracking branch 'origin/map-animation-v1' into map-animation-v1

commit e720de37a82261185e0fba3677b910cde6f7a750
Author: sidneymbell <sidneymb@uw.edu>
Date:   Tue May 23 20:16:13 2017 -0700

    Pseudocode for map animation controls.

commit bcff4710b7da08b2785b67751e3f197014740f4b
Author: Colin Megill <colinmegill@gmail.com>
Date:   Tue May 23 18:25:39 2017 -0700

    trailing false

commit aa2990c1bd74193414487038f556ad23f93aba97
Author: sidneymbell <sidneymb@uw.edu>
Date:   Tue May 23 16:27:57 2017 -0700

    Map animation: takes default start date, sets increment by total animation time

commit 5ec5f8bfa9a7b5d2713c19ad7b3b712f101a3d64
Author: Colin Megill <colinmegill@gmail.com>
Date:   Tue May 23 14:30:00 2017 -0700

    back off using modify for now

commit 8c6599100c52eb6565fa9fdcd486be808f9e1fd2
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Tue May 23 14:23:00 2017 -0700

    minor

commit 450d518ac49474bb74e8d30607b8957cd1040bdb
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Tue May 23 14:14:42 2017 -0700

    remove treeView shouldComponentUpdate
    
    no performance degredation seen via chrome profiler. Can easily reinstate if necessary.

commit 4b0cefb58e22e60ef8bc338798734db48e39ecae
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Tue May 23 14:09:53 2017 -0700

    treeView componentWillReceiveProps cleaner

commit 73728c8e8071f327a34478de386995965e00ea0f
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Tue May 23 13:48:37 2017 -0700

    working

commit a6271437f56e07d84898df65c408fce02b1512f0
Merge: 01265d78 483bdd80
Author: Colin Megill <colinmegill@gmail.com>
Date:   Tue May 23 13:28:55 2017 -0700

    Merge remote-tracking branch 'origin/map-animation-v1' into map-animation-v1

commit 01265d786cc0019ed320eea66856c7c20b999d4e
Author: Colin Megill <colinmegill@gmail.com>
Date:   Tue May 23 13:25:50 2017 -0700

    fixes colorby and bezier not showing up on load

commit f90cd34d316c4f247b2f48ca11e0390fd43088f8
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Tue May 23 13:05:03 2017 -0700

    tidy up treeView

commit 483bdd80c9dcd8ba4dec324de6c88ccb1dcc6108
Merge: b6b84ceb 9689d355
Author: evogytis <gytisdudas@gmail.com>
Date:   Tue May 23 15:19:29 2017 -0400

    Merge remote-tracking branch 'origin/map-animation-v1' into map-animation-v1

commit b6b84cebae89afd218095523b4fd62295a8acbd3
Author: evogytis <gytisdudas@gmail.com>
Date:   Tue May 23 15:19:08 2017 -0400

    Add time-dependence to control point position
    
    Says what it does on the tin.

commit fc438e89a71c29b304e7793810ffed8d864e532d
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Mon May 22 16:02:32 2017 -0700

    CIs (buggy)

commit 9689d355382ba8aa3e504916460efd06a2b261c2
Merge: 5de6f839 81623f30
Author: Colin Megill <colinmegill@gmail.com>
Date:   Mon May 22 18:49:36 2017 -0700

    Merge remote-tracking branch 'origin/map-animation-v1' into map-animation-v1

commit 5de6f839b22cc94490ca7af605cb52bbedcd6674
Author: Colin Megill <colinmegill@gmail.com>
Date:   Mon May 22 18:48:29 2017 -0700

    Revert "animation timer"
    
    This reverts commit 222d3c6adee4e691b79a7e98367043f4e81e2a1b.

commit 222d3c6adee4e691b79a7e98367043f4e81e2a1b
Author: Colin Megill <colinmegill@gmail.com>
Date:   Mon May 22 18:48:29 2017 -0700

    animation timer

commit 29eb23848ff18a368c531768b521454efd402135
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Wed May 17 16:55:51 2017 -0700

    branch hover color conditional

commit 897f812499d5be005524bcde88671656381ea864
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Wed May 17 16:32:53 2017 -0700

    info panel styling

commit f30ca9d36b305cca38d3d274cbf8ac3afa070547
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Wed May 17 16:17:49 2017 -0700

    toggle switch with styling

commit 31496c19f423abaa123dff551eda33bc9646883f
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Wed May 17 16:16:52 2017 -0700

    bug fix

commit d9ad7aa9e0ca84c23a8c26d4d15898bcb9395457
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Wed May 17 15:31:44 2017 -0700

    likelihoods used as key in JSON
    
    JSONs from augur commit 68cfacf0efffa1d39da9f5316f67748b1c9609a3

commit 13bf8cf50661d3614f544b64b61eaf3a63f1c5ac
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Wed May 17 14:55:30 2017 -0700

    entropy values
    
    JSONs via augur commit 93895ae

commit c5e873d1e4997c513fe8113d29105f7176be0820
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Wed May 17 11:57:09 2017 -0700

    tree styles updates can have transitions

commit 81623f3026778863d1b1a935e5de3e5399f357ae
Author: evogytis <gytisdudas@gmail.com>
Date:   Wed May 17 11:35:24 2017 -0700

    Adapt Ebola code for Bezier curves.
    
    Add code translated from baltic implementation of https://www.youtube.com/watch?v=j4Ut4krp8GQ&

commit a1f6fbfd4811281581a0d18ebe564359da66eebe
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Tue May 16 14:49:47 2017 -0700

    tree branch opacity reflects likelihood

commit 230a4fb5bfdb8dcd1f1da2f3a49d43570db22966
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Tue May 16 13:42:29 2017 -0700

    mugration likelihoods in branch info panel

commit 4895f15afc0c7d940e0209fc1310f209d6a6d9f6
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Tue May 16 12:45:20 2017 -0700

    likelihood toggle in controls

commit eddac025bd087f31c1c8933b64351a5cb952083d
Author: Colin Megill <colinmegill@gmail.com>
Date:   Tue May 16 10:21:29 2017 -0700

    ebola animating

commit d21be9f7016337ae30322371240fc4220342e708
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Mon May 15 09:13:27 2017 -0700

    version bump to 1.2.3 for release

commit dbb43f4d75cbcefc9709512da5e60fdbfbcf424b
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Mon May 15 09:08:22 2017 -0700

    restore colorBy sanity checking and fallbacks

commit 9154954e4cc3e93d567bb2f37389c0057f825e93
Merge: 70a19e20 82cc9c59
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Mon May 15 08:57:48 2017 -0700

    Merge pull request #323 from nextstrain/load-data-promise-all
    
    meta + tree loaded together

commit 27f1619d11d56a20491f75a5a6e514e509e8e861
Author: Colin Megill <colinmegill@gmail.com>
Date:   Thu May 11 16:46:47 2017 -0700

    three maps

commit 269e3d9b682c72b94cb2f35e3a551025541af5bc
Author: Colin Megill <colinmegill@gmail.com>
Date:   Thu May 11 10:33:46 2017 -0700

    demes

commit 203544c4ecb847234e15687636186d31537e2900
Author: Colin Megill <colinmegill@gmail.com>
Date:   Thu May 11 10:29:57 2017 -0700

    wraparound x y

commit 0476d19e757ce6577cbbe0a8be1097b7f3dec3ab
Author: Colin Megill <colinmegill@gmail.com>
Date:   Thu May 11 10:29:36 2017 -0700

    unsplit map and tree for dev (anticipates button for this)

commit 82cc9c591c682e9bb73b0e0a2072d61777869322
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Fri May 5 17:03:14 2017 -0700

    forgot to include datasetName

commit ca23d4d1da6a6ee774b7db7c02f3f5bc5c2b555b
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Fri May 5 16:36:03 2017 -0700

    meta + tree loaded together

commit c3d35ffab22106e8745020e3aca8880e37f2002a
Merge: feb1f5d2 70a19e20
Author: Colin Megill <colinmegill@gmail.com>
Date:   Wed May 3 16:47:39 2017 -0700

    Merge branch 'master' into map-animation-v1

commit feb1f5d24235848566bced09f56c6ea01fc76b0c
Author: Trevor Bedford <trevor@bedford.io>
Date:   Wed May 3 16:00:42 2017 -0700

    Fix typo

commit f52c79388e3678ab61cebf7ab8befaa3f7de64db
Author: Trevor Bedford <trevor@bedford.io>
Date:   Wed May 3 15:58:05 2017 -0700

    Replace getPointAtLength with custom math

commit b1fe083e7127dc788fd2d604ea49d31d65d04e67
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Wed May 3 15:51:09 2017 -0700

    don't display if screen width < 600

commit dcb09b375fb82fdba9372aa41a9c156ef3551aea
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Wed May 3 15:47:42 2017 -0700

    notifications fixed to viewport

commit 72a1f5d28b7af11903b1f2f10d70b193941fb2e1
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Wed May 3 15:32:56 2017 -0700

    error notifications have to be clicked to go away

commit 70a19e2015570d1c6eb454016fd478fc0e933825
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Wed May 3 12:09:57 2017 -0700

    phylogeny card dimensions. fixes #268

commit 29b96257e6002a3c498d027eac9a4e4d34aaa6d9
Author: Trevor Bedford <trevor@bedford.io>
Date:   Tue May 2 17:44:29 2017 -0700

    version bump to 1.2.2 for release

commit c248d18f90c02c00ce3e626d42b376b846068c98
Merge: 18898247 ce9a9af2
Author: Trevor Bedford <trevor@bedford.io>
Date:   Tue May 2 17:42:19 2017 -0700

    Merge pull request #316 from nextstrain/meta-defaults
    
    Add meta.JSON defaults for layout, colorBy, and distanceMeasure.

commit 18898247d57f7ffc8b6eab9fdfd568dce0c6e62e
Merge: 49b8ab2c 51aeeb48
Author: Trevor Bedford <trevor@bedford.io>
Date:   Tue May 2 17:34:43 2017 -0700

    Merge pull request #319 from nextstrain/fix-295
    
    fix-295

commit f09f62c1eaf5dcd6310081f256f1269bd6d11f57
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Tue May 2 17:18:25 2017 -0700

    notification message tidy up

commit e28da795a3fb5624977163bac9180a66e34abfc4
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Tue May 2 17:06:45 2017 -0700

    CSS transitions

commit c64fbf0010c1794ca4a3b532d7da51578a1c608b
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Tue May 2 16:48:11 2017 -0700

    styling nearly there

commit f5d11848e2dbd77a23c800c35d326bc8b65ee3ed
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Tue May 2 15:02:18 2017 -0700

    styling half way there

commit 51aeeb487f9f448d573d698b55baf7d27afeb9b8
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Tue May 2 13:19:27 2017 -0700

    grid checks before redrawing

commit 7ea146d81eb0d6761081e25e725be2a588336c0c
Author: Colin Megill <colinmegill@gmail.com>
Date:   Sun Mar 26 22:23:47 2017 -0700

    kill error in footer

commit ffa46203606892a73df1d9b744b1a742cec5ee84
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Tue May 2 11:28:35 2017 -0700

    notifications machinery (no styling)

commit 764783d25fed13abaabd4d96a2f48f8a63512008
Author: Colin Megill <colinmegill@gmail.com>
Date:   Mon May 1 20:31:21 2017 -0700

    drawing partial lines in map

commit e0979a9790614f5bda5f7bf952eeb4584096ac2c
Author: Colin Megill <colinmegill@gmail.com>
Date:   Mon May 1 20:29:57 2017 -0700

    pass nodes to initial draw, to create scales based on total length

commit 49b8ab2c0d3cfe7a8eab5f1295955379da8610ff
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Mon May 1 13:26:54 2017 -0700

    version bump to 1.2.1 for release

commit 9fa3d4a21e2043f403e8933b3fc3f173a5f902c5
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Mon May 1 13:26:22 2017 -0700

    fix firefox bug
    
    seems like the order must be:
    @connect
    @Radium
    class ... extends React.Component {

commit ee8534f56cf6838b68f9b437cfd023fd1fc6c85d
Author: Trevor Bedford <trevor@bedford.io>
Date:   Mon May 1 10:33:17 2017 -0700

    version bump to 1.2.0 for release

commit ce9a9af2f108f6dbcf1df84e60bcaab0945e528c
Author: sidneymbell <sidneymb@uw.edu>
Date:   Sat Apr 29 13:45:17 2017 -0700

    Add meta.JSON defaults for layout, colorBy, and distanceMeasure.

commit 6b099fec214613c3ca4f8a17bc5607fd17e51de7
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Fri Apr 28 16:45:11 2017 -0700

    title name formatting

commit fc11b4c54701f8d6d5edd8d26a3e666b2457b36f
Merge: 77df82a1 52ec0db2
Author: Trevor Bedford <trevor@bedford.io>
Date:   Fri Apr 28 16:40:53 2017 -0700

    Merge pull request #294 from nextstrain/dengue
    
    Include dengue

commit 77df82a14c33db5c8350c08d338f0e03f27f50af
Merge: 6b9915a1 df2e69e7
Author: Trevor Bedford <trevor@bedford.io>
Date:   Fri Apr 28 16:36:09 2017 -0700

    Merge pull request #313 from nextstrain/sidebar-errors
    
    Sidebar errors

commit 6b9915a1b9bab92ac97209509dd217f331e9bc0e
Merge: cc04d77c 4fd7ab0a
Author: Trevor Bedford <trevor@bedford.io>
Date:   Fri Apr 28 16:25:29 2017 -0700

    Merge pull request #314 from nextstrain/georesolution-rebase
    
    Fix geoResolution default bug

commit 4fd7ab0a4041c7b8d21c7a78aa1c8d23c028bee4
Author: Trevor Bedford <trevor@bedford.io>
Date:   Fri Apr 28 16:24:55 2017 -0700

    Remove unnecessary console logs

commit 164ccba4efd214e6d582e402406e3bf42200387a
Author: Trevor Bedford <trevor@bedford.io>
Date:   Fri Apr 28 16:17:56 2017 -0700

    Fix geoResolution default bug

commit df2e69e757fe1ca41186852480bc00e4aaaf8c8f
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Fri Apr 28 14:48:33 2017 -0700

    fixes #307

commit 5a4da57e33782598977345825b7fc883a21e9247
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Fri Apr 28 14:42:49 2017 -0700

    sidebar dataset updates. Closes #312

commit c34fc9b90e9cadf0a5ec002be13a81ae082da3a6
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Fri Apr 28 14:25:20 2017 -0700

    titlebar updates on data change. closes #308

commit 52ec0db254ae67064fb2ffedcf172e07d4bdb05a
Author: sidneymbell <sidneymb@uw.edu>
Date:   Fri Apr 28 13:31:37 2017 -0700

    Update about page for dengue.

commit cc04d77cb46de0bd47002dcbf6e3cf8e5efcfda2
Merge: 1ba77622 d52a6fa8
Author: Trevor Bedford <trevor@bedford.io>
Date:   Fri Apr 28 12:34:19 2017 -0700

    Merge pull request #310 from nextstrain/analysis_date_slider
    
    analysis slider (if specified in meta.json)

commit d52a6fa83268578a154b472e0a21311bf5de8518
Author: Trevor Bedford <trevor@bedford.io>
Date:   Fri Apr 28 12:29:58 2017 -0700

    Temporarily disable analysis date slider

commit ec5e962686e672fb879d0d20ab7de92633e8d859
Author: sidneymbell <sidneymb@uw.edu>
Date:   Fri Apr 28 11:36:58 2017 -0700

    Add splash page image.

commit e7f65e451ebe538d509f4dce63c06bc7ad4628d0
Author: Colin Megill <colinmegill@gmail.com>
Date:   Thu Apr 27 17:48:17 2017 -0700

    tree helpers visibility now takes visible branches into account

commit de4991f8338d0e28f2de230319c10f62b96ab192
Author: Trevor Bedford <trevor@bedford.io>
Date:   Thu Apr 27 14:09:55 2017 -0700

    Update date visibility logic

commit 3d4ea14d7e6efcc96c4bcdcc9fb65c67b8a989ce
Author: Trevor Bedford <trevor@bedford.io>
Date:   Thu Apr 27 13:47:13 2017 -0700

    Minor cleanup

commit 430418ff9033f38f3e9e3386d96aeeba9705edbd
Author: Colin Megill <colinmegill@gmail.com>
Date:   Thu Apr 27 12:09:14 2017 -0700

    logging for dev

commit 44c277c59be5ffd715215df6d4a5ed1aa963aabc
Author: Colin Megill <colinmegill@gmail.com>
Date:   Thu Apr 27 12:08:57 2017 -0700

    play button / stop button interaction

commit 0c0d6175064b62005640e8d0a2b5eae6df172af5
Author: Colin Megill <colinmegill@gmail.com>
Date:   Thu Apr 27 12:08:26 2017 -0700

    correct date translations

commit 60c633d37a7ae2564446ca7d94b09a3132917b80
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Wed Apr 26 16:06:57 2017 -0700

    analysis slider (if specified in meta.json)

commit 1ba77622cfd4234e2727174ffc4f7eea5f519ba3
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Thu Apr 27 09:34:28 2017 -0700

    version bump to 1.1.6 for release

commit e3843e78e054ea499dbe015a7276be817a6a410c
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Wed Apr 26 11:41:09 2017 -0700

    continuous color scale domain improvements for scales with few values

commit 2a5b4b0bb3f610b7c49cb37a12c3e84532ee2e23
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Tue Apr 25 14:27:11 2017 -0700

    h7n9 all 8 segments

commit 5e02c6770f7c828c578a50c2d521234316e27206
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Tue Apr 25 14:07:20 2017 -0700

    h3n2/ha added

commit c9430d32fe2dbf243527630b6389193439dc6cbb
Author: Colin Megill <colinmegill@gmail.com>
Date:   Sat Apr 22 00:24:25 2017 -0700

    main logic for extractLineSegment

commit d061503d1d286d627db283927298e5b7e17d301e
Author: Colin Megill <colinmegill@gmail.com>
Date:   Sat Apr 22 00:23:46 2017 -0700

    pipe in new data needed to compute line segment

commit e3dfcf2ac0ea961a0590e9948da4111a8ad4b464
Author: Colin Megill <colinmegill@gmail.com>
Date:   Sat Apr 22 00:16:44 2017 -0700

    move and comment translateAlong

commit 6a3a65fd9ef15fb9b160d0bf1d4f4e496de1319f
Author: Colin Megill <colinmegill@gmail.com>
Date:   Sat Apr 22 00:15:53 2017 -0700

    remove extraneous arguments to maybeDraw

commit d3d789c523e773801dbf0118c7607d3f5627be36
Author: Colin Megill <colinmegill@gmail.com>
Date:   Sat Apr 22 00:15:10 2017 -0700

    pass nodes and controls to update

commit c1be128fb21145d65ec5db6806c846ef3d4400b2
Author: Colin Megill <colinmegill@gmail.com>
Date:   Sat Apr 22 00:14:49 2017 -0700

    return index from mapHelpersLatLong

commit df597478d18392dff1521a2157facf4300939d54
Merge: 884ce07c 5a2a4f94
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Mon Apr 17 13:06:23 2017 -0700

    Merge pull request #304 from nextstrain/fix_tooltip
    
    show amino acid mutations in tool tip

commit 5a2a4f94df60acd631832c68d762b2fcf6b7e5f5
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Mon Apr 17 12:12:58 2017 -0700

    tree legend nt -> nucleotide

commit 0a3ca9f9796b03513d67d3e8340bc8edab13abd9
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Mon Apr 17 11:24:11 2017 -0700

    Tree legend title improved

commit f94c0453945fcc7ce76ee0b472d144edff5d88a0
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Mon Apr 17 10:26:53 2017 -0700

    colorBy and entropy work well together
    
    * if nuc mutation and entropy changes to AA, then colorBy goes to default (and vice versa)
    * URL load with gt = nuc causes entropy to display nt

commit ae1d5eeb6b9cdc80324a09667f9604c162480b28
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Mon Apr 17 09:12:01 2017 -0700

    genotype colorBy changes entropy panel to NT

commit 36f32f44677ed90e6cb521777ee72e23c420be76
Author: Richard Neher <richard.neher@tuebingen.mpg.de>
Date:   Sun Apr 16 22:49:56 2017 +0200

    show amino acid mutations in tool tip, don't show colorby in tooltip when color by genotype

commit 884ce07c94cbc668bef23bb781f0e01b7907cfca
Merge: fd612794 a589913f
Author: Trevor Bedford <trevor@bedford.io>
Date:   Thu Apr 13 12:56:11 2017 -0700

    Merge pull request #301 from nextstrain/fitToViewer-before-zoomIntoClade
    
     apply fitToViewer before zooming into clade to make sure that zoomed…

commit a589913f4a2bd3efa9b84a0056ae3b3670183ef5
Author: wding <weiding8911@gmail.com>
Date:   Thu Apr 13 13:48:27 2017 +0200

     apply fitToViewer before zooming into clade to make sure that zoomed area fits the viewer

commit fd612794f81782fa20b5d32a3bd8e7e9c75c55dd
Author: Trevor Bedford <trevor@bedford.io>
Date:   Wed Apr 12 12:20:49 2017 -0700

    version bump to 1.1.5 for release

commit fb426e49409e74f64e389605506ff01ff9c1eb5c
Merge: 05038e75 203caa52
Author: Trevor Bedford <trevor@bedford.io>
Date:   Wed Apr 12 12:13:41 2017 -0700

    Merge pull request #291 from nextstrain/entropy-improvements
    
    Entropy improvements

commit 203caa52574ea3029eec012dffc8c4dc44157e76
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Wed Apr 12 11:13:51 2017 -0700

    nt/aa off-by-one bug fixed in entropy

commit b877a4530838bbf98449d21a3a847e337a32fc25
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Wed Apr 12 10:23:46 2017 -0700

    entropy defaults to AA

commit a26b5774044f54f9063202995622d6bdb7ef86ab
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Wed Apr 12 10:19:08 2017 -0700

    smaller triangles

commit eed132bfb4f5be114fac5ef0cf8ff2670bff6ada
Author: Trevor Bedford <trevor@bedford.io>
Date:   Mon Apr 10 18:00:55 2017 -0700

    Move to individual transmissions

commit 5b8c446e342dcfb51adb505c036da541e8b6a803
Author: Trevor Bedford <trevor@bedford.io>
Date:   Mon Apr 10 16:51:22 2017 -0700

    Transition demes, change timing and fix deme min size

commit 32e040fbbf4012df2ed08a7e581678d1f0d3abe6
Author: Colin Megill <colinmegill@gmail.com>
Date:   Mon Apr 10 16:34:41 2017 -0700

    no more path lengths

commit 9b83eccbeebf1e895d11fd2c49a2c11b567bed28
Author: Trevor Bedford <trevor@bedford.io>
Date:   Mon Apr 10 15:35:59 2017 -0700

    Initialize empty deme and tranmission arrays

commit 3700ce3fa854ec5e5a866221dc24560714651250
Author: Trevor Bedford <trevor@bedford.io>
Date:   Mon Apr 10 15:26:25 2017 -0700

    Enable updating of map from filters

commit fe76fd48aef6819601deb0514670fad03f9908ad
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Mon Apr 10 15:04:30 2017 -0700

    entropy brush visual clue (black arrows)

commit c474554c362d8188a2e596409424a19fee638b61
Merge: d58bbe9a b3c42d8e
Author: Colin Megill <colinmegill@gmail.com>
Date:   Mon Apr 10 15:00:49 2017 -0700

    Merge remote-tracking branch 'origin/map-animation-v1' into map-animation-v1

commit d58bbe9a35c6ee0edb34cbff9535f7577634d43f
Author: Colin Megill <colinmegill@gmail.com>
Date:   Thu Apr 6 00:09:16 2017 -0700

    comment maphelpers.js

commit 1db0994ecc8621e3efc11e270a4ce9317aa40712
Author: Colin Megill <colinmegill@gmail.com>
Date:   Thu Apr 6 00:05:38 2017 -0700

    update map partially working

commit 6f6f93ff93faa9ab79efb311d61fea99c85c9a76
Author: Colin Megill <colinmegill@gmail.com>
Date:   Wed Apr 5 23:06:09 2017 -0700

    first try at maybe update, with bail

commit 0679579d94192c504f6f9f1dc26d4e20c9d82913
Author: Colin Megill <colinmegill@gmail.com>
Date:   Wed Apr 5 23:01:53 2017 -0700

    only remove d3 elems if georesolution changed

commit 34af60615f613ce8ef4a9783dc4ea4db04152c91
Author: Colin Megill <colinmegill@gmail.com>
Date:   Tue Apr 4 20:25:27 2017 -0700

    re-add removeAllDemes, we still need it for geo resolution changes

commit 662d75428ff9108bfd2f0cbebf9398285aa200ac
Author: Colin Megill <colinmegill@gmail.com>
Date:   Tue Apr 4 20:25:11 2017 -0700

    comments

commit 426b201a1cf4b71daa48b46217cb1564463a65dd
Author: Colin Megill <colinmegill@gmail.com>
Date:   Tue Apr 4 19:42:38 2017 -0700

    cleanup, tmp comment animation code for dev

commit 0fdacc6a28b8c4b3b7217d6c6c1f38243bf296ea
Author: Colin Megill <colinmegill@gmail.com>
Date:   Tue Apr 4 19:42:14 2017 -0700

    maybeUpdate gets prevProps

commit f3a4acd943d1b90ed281b3411412cee51b1c7c96
Author: Colin Megill <colinmegill@gmail.com>
Date:   Tue Apr 4 19:41:59 2017 -0700

    flesh out maybeUpdate for transitions

commit 339ab740d11f4d65b3de695f240637fd256ac7e7
Author: Colin Megill <colinmegill@gmail.com>
Date:   Tue Apr 4 19:13:21 2017 -0700

    import latlongs as obj

commit fea7355ea3dfe052b1a92bf94c538d72976dac0b
Author: Colin Megill <colinmegill@gmail.com>
Date:   Tue Apr 4 19:12:21 2017 -0700

    transmission length for transition animation

commit 573f7e556079035d12940d7f103a73685f9b12bc
Author: Colin Megill <colinmegill@gmail.com>
Date:   Tue Apr 4 18:58:22 2017 -0700

    part two perf latlongs

commit 706b54416cd54f4d74d4b3de9121efec79d84734
Author: Colin Megill <colinmegill@gmail.com>
Date:   Tue Apr 4 18:57:19 2017 -0700

    perf latlongs func ~2x

commit 87f374bd6ead62740ecad8746c0ccd5341cd26d2
Author: Colin Megill <colinmegill@gmail.com>
Date:   Tue Apr 4 18:49:18 2017 -0700

    keep a reference to latlongs in state

commit 49cd9cf59b5415e4f498652a5161b610503c48ff
Author: Colin Megill <colinmegill@gmail.com>
Date:   Tue Apr 4 18:48:45 2017 -0700

    don't fire 'maybe remove'

commit f3af4947fb1ecc6b9b0d75b982182e327b2d639e
Author: Colin Megill <colinmegill@gmail.com>
Date:   Tue Apr 4 18:47:39 2017 -0700

    break out 'maybeRemove' since no redraw

commit 38c2e193f0dd28ea5f9ad731ce0ed36cfacff497
Author: Colin Megill <colinmegill@gmail.com>
Date:   Tue Apr 4 18:46:19 2017 -0700

    whitespace, comments

commit 1582324faf7650dd4f790808b3e30a4a5a838c86
Author: Colin Megill <colinmegill@gmail.com>
Date:   Mon Apr 3 11:02:35 2017 -0700

    moving away from leaflet geodesic

commit 1ed38d4c86db6d0a7eb50903b0ff0e5c9f33821a
Author: Colin Megill <colinmegill@gmail.com>
Date:   Mon Mar 27 01:04:10 2017 -0700

    advance date slider on setInterval tick

commit 1b5534ceebb1f88930fac42be2679d1233acb37c
Author: Colin Megill <colinmegill@gmail.com>
Date:   Sun Mar 26 22:23:47 2017 -0700

    kill error in footer

commit 7517602093cab9b89e9550c8d3c870f8d5bc527b
Author: Colin Megill <colinmegill@gmail.com>
Date:   Sun Mar 26 22:22:54 2017 -0700

    snap to a date pair with a button

commit b5d97d801f61f21d6a44d346562a0eac52c4070a
Author: Colin Megill <colinmegill@gmail.com>
Date:   Thu Mar 23 14:23:55 2017 -0700

    bring back play button

commit 5a023cb46c8f597a513dcc0c90d00f7503e4cdd5
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Mon Apr 10 12:17:36 2017 -0700

    entropy fixes

commit 9abc5b9d0625f225d512cdbfeaaf1bc0fa841699
Author: Trevor Bedford <trevor@bedford.io>
Date:   Sat Apr 8 18:00:17 2017 +0200

    Include dengue spec

commit 05038e75694aedb35efc61b399a7871e5613f05f
Author: Trevor Bedford <trevor@bedford.io>
Date:   Sat Apr 8 17:12:52 2017 +0200

    Fix redux data_range load per #292

commit f16ce31cc888a840b1f92acc543a19a8df88617a
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Fri Apr 7 18:30:46 2017 -0700

    clicked entropy bar colors

commit d21c445e927ac2d83d868e3306fa143bc86b39fd
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Fri Apr 7 17:43:37 2017 -0700

    entropy AA / NT state in redux + tree infobox display reflects AA / NT

commit 805ce6664b0295fe81b24ea4d02fe8f755abda0d
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Fri Apr 7 16:29:38 2017 -0700

    remove zoom hint

commit 4d2342036ef0baa7fcced1ab7ff6bc0a6626e59a
Merge: 9b02d3c3 9e1ff007
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Fri Apr 7 16:19:17 2017 -0700

    Merge branch 'master' into entropy-improvements
    
    * master:
      fixed router.replace error
      move react-router-dom to 4.0.0 (non beta)
      fix react-router-dom introduced error
      version bump to 1.1.4 for release
      Adjust tweet order
      Move d3.dateScale and d3.dateFormat to redux
      Fix bug in numeric to calendar date conversion
      JSON dates no longer overwrite URL query
      fix URL query restore bug
      Update date range from metadata on load

commit b3c42d8e0f4acbadc0c141db13c36cebc978ceff
Author: Colin Megill <colinmegill@gmail.com>
Date:   Thu Apr 6 00:09:16 2017 -0700

    comment maphelpers.js

commit 3222cd71abb7355a294a50f494f6eeb64b7deb43
Author: Colin Megill <colinmegill@gmail.com>
Date:   Thu Apr 6 00:05:38 2017 -0700

    update map partially working

commit 934fdaacb1307158cee14b02841c50161e375c52
Author: Colin Megill <colinmegill@gmail.com>
Date:   Wed Apr 5 23:06:09 2017 -0700

    first try at maybe update, with bail

commit d97bdbc2aeae8d14282fbbab01c61d4b0f84f3f2
Author: Colin Megill <colinmegill@gmail.com>
Date:   Wed Apr 5 23:01:53 2017 -0700

    only remove d3 elems if georesolution changed

commit ad0b667bc910022aad43d18eb973402c5831394b
Author: Colin Megill <colinmegill@gmail.com>
Date:   Tue Apr 4 20:25:27 2017 -0700

    re-add removeAllDemes, we still need it for geo resolution changes

commit eed467b53f4dad92cc886b2cc7787d9acf69fd06
Author: Colin Megill <colinmegill@gmail.com>
Date:   Tue Apr 4 20:25:11 2017 -0700

    comments

commit b84ca0a7dd9b6687c39a78af2ae8caf56ffa1c1d
Author: Colin Megill <colinmegill@gmail.com>
Date:   Tue Apr 4 19:42:38 2017 -0700

    cleanup, tmp comment animation code for dev

commit 3d1f45148fa4be7ffb873c70aff30abade5ccdb7
Author: Colin Megill <colinmegill@gmail.com>
Date:   Tue Apr 4 19:42:14 2017 -0700

    maybeUpdate gets prevProps

commit 8173478e3a794b22ac663fb2ad842e15431fc1f7
Author: Colin Megill <colinmegill@gmail.com>
Date:   Tue Apr 4 19:41:59 2017 -0700

    flesh out maybeUpdate for transitions

commit 3d542c4ee4f1f1c051045a93d5c5a1d80cbe684b
Author: Colin Megill <colinmegill@gmail.com>
Date:   Tue Apr 4 19:13:21 2017 -0700

    import latlongs as obj

commit 5ec3ca44b6566e712953695e9a83ca2d2fcf8df4
Author: Colin Megill <colinmegill@gmail.com>
Date:   Tue Apr 4 19:12:21 2017 -0700

    transmission length for transition animation

commit 766b035b3808916d16c65e718c3c9f4befe27c68
Author: Colin Megill <colinmegill@gmail.com>
Date:   Tue Apr 4 18:58:22 2017 -0700

    part two perf latlongs

commit 897d4676afafa60e3e14772051e43145e2d5e7a3
Author: Colin Megill <colinmegill@gmail.com>
Date:   Tue Apr 4 18:57:19 2017 -0700

    perf latlongs func ~2x

commit 356cf4021e38d0d4754cb37fa03e2e0503417035
Author: Colin Megill <colinmegill@gmail.com>
Date:   Tue Apr 4 18:49:18 2017 -0700

    keep a reference to latlongs in state

commit 7970f41fab68fb55f28a6bb19248215322a1313d
Author: Colin Megill <colinmegill@gmail.com>
Date:   Tue Apr 4 18:48:45 2017 -0700

    don't fire 'maybe remove'

commit e565658ada72e620830d703c5b54bb82e9f5ea5a
Author: Colin Megill <colinmegill@gmail.com>
Date:   Tue Apr 4 18:47:39 2017 -0700

    break out 'maybeRemove' since no redraw

commit 4a3d75940ed739006e0ad46f5180bea34407a7fb
Author: Colin Megill <colinmegill@gmail.com>
Date:   Tue Apr 4 18:46:19 2017 -0700

    whitespace, comments

commit 9e1ff0072810160796ca17e82c5b57beeecf100a
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Tue Apr 4 16:09:44 2017 -0700

    fixed router.replace error

commit f9fe98f29cf61e0bc29bc153731775a03d2d833e
Author: Colin Megill <colinmegill@gmail.com>
Date:   Mon Apr 3 11:02:35 2017 -0700

    moving away from leaflet geodesic

commit 27d46ecd080c89a475df6d6179752b66a9e866a6
Merge: 131569ad 4b5d6ec1
Author: Trevor Bedford <trevor@bedford.io>
Date:   Tue Mar 28 18:58:40 2017 -0700

    Merge branch 'npm-is-a-joke'

commit 4b5d6ec197aed128d93812cd67df0186ed653883
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Tue Mar 28 14:24:11 2017 -0700

    move react-router-dom to 4.0.0 (non beta)
    
    This is actually unrelated to the previous error, but hopefully this version will be stable for a while at least.

commit 91c037c4a2bf5cdcd64d991ff45f0fc850065ef7
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Tue Mar 28 14:03:55 2017 -0700

    fix react-router-dom introduced error
    
    introduced who knows where - my guess is in an update to history or some other dependency of react-router-dom

commit 9b02d3c33a1949268e70ed2c23e1784243794da0
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Mon Mar 27 17:31:02 2017 -0700

    zoom key changed to option / alt
    
    ctrl didn't work with pan

commit b5f604db7ce9fcb48bd3292033cbf1ea4a6dba29
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Mon Mar 27 17:22:40 2017 -0700

    entropy zoom while holding ctrl

commit 6dbb9e93b1d7c2d68b505b81ec9dc1c584cf9249
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Mon Mar 27 10:04:24 2017 -0700

    entropy code tidy + fixes

commit ea1c3126f32a88c4f3674c7c6f7f65352012f5a8
Author: Colin Megill <colinmegill@gmail.com>
Date:   Mon Mar 27 01:04:10 2017 -0700

    advance date slider on setInterval tick

commit d7044e1a68a1184060c82e764d3b5ea7b5f9b706
Author: Colin Megill <colinmegill@gmail.com>
Date:   Sun Mar 26 22:23:47 2017 -0700

    kill error in footer

commit b0604a348b76098b4cb78187599b8e0edbcfb30d
Author: Colin Megill <colinmegill@gmail.com>
Date:   Sun Mar 26 22:22:54 2017 -0700

    snap to a date pair with a button

commit 28aa36dc5d5ffa45ba8e4891ce47ac1bd4014737
Author: Colin Megill <colinmegill@gmail.com>
Date:   Thu Mar 23 14:23:55 2017 -0700

    bring back play button

commit 6774e96d48988ad8dbdcc984bb13dcfe883b549e
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Wed Mar 22 16:07:45 2017 -0700

    entropy Nt & AA

commit 1860595ebd18b4b3e776f9f3e1a2779153a4f471
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Wed Mar 22 15:25:53 2017 -0700

    entropy brush

commit 03c0ed34461711d2b21619554e79f545921f83fd
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Wed Mar 22 14:31:29 2017 -0700

    entropy using D3.js v4
    
    entropy axis + annotations
    
    
    zoom working. poorly.
    
    
    D3 v4

commit 131569ad9c1ca835c2c8aece799dc54b37316140
Author: Trevor Bedford <trevor@bedford.io>
Date:   Mon Mar 20 18:10:36 2017 -0700

    version bump to 1.1.4 for release

commit c9a7641035add5334ba47202ea91c3852ebb3054
Author: Trevor Bedford <trevor@bedford.io>
Date:   Mon Mar 20 18:03:09 2017 -0700

    Adjust tweet order

commit f5073dac816f9119147116c4266763101a015787
Merge: e26e3744 86f10971
Author: Trevor Bedford <trevor@bedford.io>
Date:   Mon Mar 20 17:46:08 2017 -0700

    Merge pull request #286 from nextstrain/258-date-bounds
    
    Update date range from metadata on load

commit 86f109717d72e09e44fabcd472cb3a25417919cf
Author: Trevor Bedford <trevor@bedford.io>
Date:   Mon Mar 20 17:45:13 2017 -0700

    Move d3.dateScale and d3.dateFormat to redux
    
    state.controls.dateScale and state.controls.dateFormat available throughout app

commit 17e9d4f16337bbcd95be28c2ebb46e1c5d553c48
Author: Trevor Bedford <trevor@bedford.io>
Date:   Mon Mar 20 17:31:36 2017 -0700

    Fix bug in numeric to calendar date conversion
    
    Switching to d3 scales should also improve performance

commit d38e4c9d513c2dc4ada24b76fde15c958022db83
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Fri Mar 17 17:01:32 2017 -0700

    entropy bar styles improved

commit b51582e6de875145d1c20f547dc342fe2efc5eec
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Fri Mar 17 16:49:15 2017 -0700

    entropy AA / NT switch

commit 684c66c4051710697b9b1e8458767c6e3c653ca8
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Fri Mar 17 13:18:38 2017 -0700

    entropy code restructured

commit e26e3744ef640ce9e34306f76fcf27bc03e47bc3
Merge: c70f8f66 a21b59b1
Author: Trevor Bedford <trevor@bedford.io>
Date:   Mon Mar 20 16:16:18 2017 -0700

    Merge pull request #287 from nextstrain/snappy
    
    Improve app performance

commit 1a2d1b44c4bfe024002e58244e81215bb987436b
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Mon Mar 20 11:04:09 2017 -0700

    JSON dates no longer overwrite URL query

commit 16ad1852293168761b74f51110ac84fd292bc6fe
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Mon Mar 20 10:58:28 2017 -0700

    fix URL query restore bug

commit a21b59b13e094b37d233d8535622783cc51e0e91
Author: Trevor Bedford <trevor@bedford.io>
Date:   Sun Mar 19 18:18:09 2017 -0700

    Remove radium from some components
    
    Profiling was showing an overhead due to radium

commit 78710104b520fb9f3f7b57ea4925a0b1a12d8a03
Author: Trevor Bedford <trevor@bedford.io>
Date:   Sun Mar 19 13:16:20 2017 -0700

    Switch to modified react-sidebar
    
    * The command saveSidebarWidth was being run on each component update and was causing 50ms thrashing. This resolves the issue.
    * nextstrain/react-sidebar@ 8dd3211f99de3d7ca708d68973c8e76990aeec61

commit 7bf4f788d5828bc970c46b4663a6111b8fc4504e
Author: Trevor Bedford <trevor@bedford.io>
Date:   Sat Mar 18 22:48:04 2017 -0700

    Snap radii on legend match
    
    I think snapping tree attributes and styles on updateMultipleArray gives a snappier feeling app. Particularly noticable on legend mouseover and date slider drag.

commit ed745b92bb4a00b0e5f347a9c8ecd5859c2942b2
Author: Trevor Bedford <trevor@bedford.io>
Date:   Sat Mar 18 19:46:54 2017 -0700

    Update date range from metadata on load

commit c70f8f66784534a8f7e19db2840685f8ffde45a7
Author: Trevor Bedford <trevor@bedford.io>
Date:   Fri Mar 17 17:52:33 2017 -0700

    version bump to 1.1.3 for release

commit 0c575bd69416a0e79599bd4d44d58b0cfe4d659d
Author: Trevor Bedford <trevor@bedford.io>
Date:   Fri Mar 17 16:19:26 2017 -0700

    Fix merge bug with transmission colors

commit d2192f7582989810d986ca349f960fb1b890bd7d
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Fri Mar 17 16:04:30 2017 -0700

    bug fix for map colorScale version

commit 88cdf064ffe911f98d47ee9ed6eb827e122a9e78
Merge: d89efe2e c92b0fd9
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Fri Mar 17 15:48:56 2017 -0700

    Merge pull request #253 from nextstrain/controls-to-map
    
    Map responds to controls

commit c92b0fd9d7dcac9239f0a79e106aa6d914b762c5
Merge: 74f032e2 d89efe2e
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Fri Mar 17 15:48:20 2017 -0700

    Merge branch 'master' into controls-to-map
    
    * master:
      Fix bug with display of genotype colorby control
      tip modal click behavior. closes #252
      Map colors by genotype. Fixes #220.
      version bump to 1.1.2 for release
      add gates tweet

commit 74f032e208cc552520004318a03942cbb33106fb
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Fri Mar 17 14:01:33 2017 -0700

    Revert "debugging console.log statements"
    
    This reverts commit 07b7c291b24eb53eb919d724cfb47d44046b1912.

commit df0b6efaa77b40eb5f11b98569b6a631ee65998e
Author: Colin Megill <colinmegill@gmail.com>
Date:   Fri Mar 17 15:37:18 2017 -0700

    use prevprops rather than version, change every time

commit 07b7c291b24eb53eb919d724cfb47d44046b1912
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Fri Mar 17 14:01:33 2017 -0700

    debugging console.log statements

commit d89efe2e327c4d9070f3f73a668fc9b7cc4ab728
Merge: 4c26f154 495c5db3
Author: Colin Megill <colinmegill@gmail.com>
Date:   Thu Mar 16 17:29:55 2017 -0700

    Merge pull request #282 from nextstrain/map-colorby-gt
    
    Map colors by genotype

commit 4c26f154dc46cfe29527375f363d0ad13a108b5d
Author: Trevor Bedford <trevor@bedford.io>
Date:   Thu Mar 16 16:41:35 2017 -0700

    Fix bug with display of genotype colorby control
    
    Updating genotype colorby should change value and not placeholder

commit 696d646e8a2ac1097fb13b1378dd140b3c4dfb29
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Thu Mar 16 14:33:49 2017 -0700

    tip modal click behavior. closes #252

commit 7e5461f2e501eb05ea7e09d2ba2d77810834383e
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Thu Mar 16 13:53:27 2017 -0700

    node attr "tip-visible" removed

commit ed8296c2bc8611b4ad5a673bbba4b3e1b9567a90
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Thu Mar 16 13:46:09 2017 -0700

    visibility fixed for tip selected modal

commit 5741b19f81ffaf5771bfb85639a3a37830071ced
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Thu Mar 16 13:29:29 2017 -0700

    clean up treeHelpers (comments etc)

commit f997d14d70305c027baf31cb9dd8af953a9492be
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Thu Mar 16 13:26:07 2017 -0700

    filtering traces branches to root, dates are slice-like
    
    The filtering (e.g. author) takes all tips in view and traces them to the root. Dmin/DMax are hard slices - they cut off branches outside of these bounds. This naturally affects transmissions & demes on the map

commit 04da1f090ba64f73605a4c2b80fc24091f978e03
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Wed Mar 15 18:10:26 2017 -0700

    tipVisibility is now visibility as it applies to internal nodes as well

commit 144592a8afe34044c21c0a0aaf2c6c5f4945c7ef
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Wed Mar 15 17:56:11 2017 -0700

    branch thicknesses only if visibile

commit 7dc124478ac7948ab0a44aeacabe6492be23ac44
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Wed Mar 15 17:25:08 2017 -0700

    tipVisibility valid for internal nodes & so are transmissions

commit 495c5db3526734620811cc2d9c2aaea463fe383f
Author: Trevor Bedford <trevor@bedford.io>
Date:   Wed Mar 15 15:56:27 2017 -0700

    Map colors by genotype. Fixes #220.

commit d7a2ee68f0ba2ee97ca7e8aa2216539a3ef8486b
Author: Trevor Bedford <trevor@bedford.io>
Date:   Tue Mar 14 14:49:46 2017 -0700

    version bump to 1.1.2 for release

commit 8efdc08c0595b97ec0c77b10aa7bd04dfb2938d2
Merge: 34f3efd6 d8416dd1
Author: Colin Megill <colinmegill@gmail.com>
Date:   Tue Mar 14 14:41:29 2017 -0700

    Merge pull request #254 from nextstrain/LeTweet
    
    add gates tweet

commit d8416dd1a6296a4c257e62281e5d1ffc41e79b7d
Author: Colin Megill <colinmegill@gmail.com>
Date:   Tue Mar 14 14:40:51 2017 -0700

    add gates tweet

commit e06c630828a2cc338a9f6a8ccc8d4da0e7e093a2
Author: Colin Megill <colinmegill@gmail.com>
Date:   Mon Mar 13 15:55:01 2017 -0700

    abstract and simply conditions on which we draw demes

commit a838345e75880b1a58db0d4c8fd11390bae7134c
Author: Colin Megill <colinmegill@gmail.com>
Date:   Mon Mar 13 15:35:55 2017 -0700

    simplify / abstract d3 dom removal code

commit ade263d1eb41efb8d24ba8612e94ec99bcc7492f
Author: Colin Megill <colinmegill@gmail.com>
Date:   Mon Mar 13 15:33:57 2017 -0700

    transmissions listen for 'hidden' state in children

commit d4180aa13019c7a99035e40a2f5faa24ad99718b
Author: Colin Megill <colinmegill@gmail.com>
Date:   Mon Mar 13 15:33:43 2017 -0700

    tips listen for 'hidden' state in nodes

commit 6dc85505d04ed84804296adc9ee3317f8700ee9a
Author: Colin Megill <colinmegill@gmail.com>
Date:   Mon Mar 13 15:33:16 2017 -0700

    tip visibility arg to lat longs

commit 1c92b5edc9e62be436a1f86070b382f4600c37f0
Author: Colin Megill <colinmegill@gmail.com>
Date:   Mon Mar 13 15:33:02 2017 -0700

    tip visibility passed to lat longs

commit 61a9d5ed8d769a1f8b72fc2786b5485021db136f
Author: Colin Megill <colinmegill@gmail.com>
Date:   Mon Mar 13 15:32:44 2017 -0700

    map listens to tip visibility

commit defe1a5477c09ba416fe833285de903e9db47c33
Author: Colin Megill <colinmegill@gmail.com>
Date:   Mon Mar 13 15:32:22 2017 -0700

    cleanup white space

commit 5df5e841df97d008831d5a419218085b9aaa5e78
Author: Colin Megill <colinmegill@gmail.com>
Date:   Mon Mar 13 15:31:54 2017 -0700

    add history and redux to package json

commit 34f3efd6a72ccb4b01c52d1ab05e722577ec6244
Author: Trevor Bedford <trevor@bedford.io>
Date:   Fri Mar 10 10:08:09 2017 -0800

    version bump to 1.1.1 for release

commit c2cceaea07ed398084d6ab4282e3c90852dba9c4
Author: Trevor Bedford <trevor@bedford.io>
Date:   Fri Mar 10 10:07:26 2017 -0800

    Fix link

commit 7b1f8a1643c10d58ed917da74bb09c493f26e621
Author: Trevor Bedford <trevor@bedford.io>
Date:   Fri Mar 10 10:02:30 2017 -0800

    version bump to 1.1.0 for release

commit 791a7df361335c9813a4ed3b0d41596dd625cd2b
Author: Trevor Bedford <trevor@bedford.io>
Date:   Fri Mar 10 10:00:20 2017 -0800

    One more case fix for H7N9

commit 729b6423b22c9a90e93d07c00f07d7388f9c8dc8
Author: Trevor Bedford <trevor@bedford.io>
Date:   Fri Mar 10 09:58:16 2017 -0800

    Look for lowercase URL for H7N(

commit 136e54234b4c94710b170ab09f95fc8a1953122e
Author: Trevor Bedford <trevor@bedford.io>
Date:   Fri Mar 10 08:40:30 2017 -0800

    Downcase H7N9 to h7n9.
    
    I believe that the URL should be completely lowercase. Seems safer. We can correct the displayed text, but the URL should be permanent. Hence this change. This is in line with our use of zika vs Zika and ebola vs Ebola.

commit f82fb57e1ac22cb2674bdf313ad0a7fd55a0be57
Author: Trevor Bedford <trevor@bedford.io>
Date:   Thu Mar 9 16:25:05 2017 -0800

    Minor fixes for H7N9

commit f16fe9c73fe644b9149273ca98e5a457c2e42620
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Thu Mar 9 09:36:17 2017 -0800

    H7N9 acknowledgements: submitting labs

commit 859a004b0e0ed4c79563bd15931790ae24fc4eb8
Merge: e2e4bb01 cba84536
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Wed Mar 8 21:03:32 2017 -0800

    Merge pull request #251 from nextstrain/H7N9
    
    H7N9 dataset

commit cba845365675fcdcc89f78c755724255eca01e4c
Merge: a1a2249e 3b4a6e1e
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Wed Mar 8 20:34:39 2017 -0800

    merge data-source-switching

commit a1a2249e8760dbb917ce044dcbd750af238ad1e1
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Wed Mar 8 20:32:16 2017 -0800

    style change to dropdown selector

commit ddf4f256173656ffce3ca74385189efda181ba69
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Wed Mar 8 20:29:08 2017 -0800

    H7N9 about paragraph

commit 7a4999726e14a59ab756f79c4a0108783575d93c
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Wed Mar 8 20:11:35 2017 -0800

    H7N9 author information (temporary)

commit aa20f319d14030de23cd9f80436fbd069b496072
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Wed Mar 8 17:51:08 2017 -0800

    splash etc changed for H7N9

commit 269dd468efcbc1317cf7f2b71323a5fb19648cad
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Wed Mar 8 17:28:54 2017 -0800

    search (query) URL params specified in globals per dataset

commit f93e858fc9b68e3ee1a3d897002c9891e37a13cb
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Wed Mar 8 16:59:56 2017 -0800

    flu URL parsing
    
    
    H7N9 paths

commit 6544de3aade6ad2dc87ee7f2e9a8b154c4c18211
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Mon Mar 6 15:54:32 2017 -0800

    hovered branch displays colorBy attr + value

commit 4a77f44312bbe47070747f86c608bafbdacaf876
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Fri Mar 3 16:18:38 2017 -0800

    tip modal handles undefined data

commit 3b4a6e1e117d407a2b33258e4697fe1c8dc84b99
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Fri Mar 3 15:11:46 2017 -0800

    local data sources via "node dev-server.js local"

commit 94bbee957de99a4073e21c1c3e1f18bba1ed1810
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Fri Mar 3 14:13:00 2017 -0800

    H7N9 dataset

commit e2e4bb0174a9c83109ad79a3167a35ec07f95b90
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Thu Mar 2 18:52:56 2017 -0800

    version bump to 1.0.4 for release

commit 09b3a10340c3bb69000b109947b1f7888d0caf6d
Merge: e5e75f4d 89141ba3
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Thu Mar 2 18:51:46 2017 -0800

    Merge pull request #250 from nextstrain/twitter-width
    
    Single column responsive tweets

commit 89141ba3c75f1c4d17204e9b273673d01d76492a
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Thu Mar 2 18:50:16 2017 -0800

    another tweet

commit 81f5e2c7badda9c15d2b176fea89d08740d6498e
Author: Colin Megill <colinmegill@gmail.com>
Date:   Thu Mar 2 18:08:09 2017 -0800

    remove layout aids

commit 29e1e3c1623fd2f51b99d753f06c8d6788ba0aaa
Author: Colin Megill <colinmegill@gmail.com>
Date:   Thu Mar 2 18:04:28 2017 -0800

    Add wrapper elements, classes to twitter helper

commit 5565479c90ca57a0ed3f456e53f6585d70be002f
Author: Colin Megill <colinmegill@gmail.com>
Date:   Thu Mar 2 18:04:03 2017 -0800

    add twitter flex row and column classes

commit 0a136a9f4862feedf35e0939a5c109b1e35f3be0
Author: Colin Megill <colinmegill@gmail.com>
Date:   Thu Mar 2 18:03:51 2017 -0800

    remove wrapper from twitter cards

commit 57b65b5e9926a1b315df4862d2f7ca94d950fa00
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Thu Mar 2 11:58:15 2017 -0800

    New tweets & tweets now in seperate file

commit bd6fd884d8f77cb4f1697ee48b176f6c32650897
Author: Colin Megill <colinmegill@gmail.com>
Date:   Thu Mar 2 10:56:27 2017 -0800

    Single column responsive tweets

commit e5e75f4d58fe2304fedd3e5ac184c47b0afc6b35
Author: Trevor Bedford <trevor@bedford.io>
Date:   Wed Mar 1 13:04:03 2017 -0800

    version bump to 1.0.3 for release

commit 142461f465843f2f199282c07ff57c047427fb76
Merge: 7ee6ad41 44bb684a
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Wed Mar 1 12:27:17 2017 -0800

    Merge pull request #247 from nextstrain/bugs
    
    minor bug fixes and improvments

commit 44bb684ab21692586335edf8cb0280b72ed77e1e
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Wed Mar 1 12:22:12 2017 -0800

    fix radium warnings

commit 301fd314a45021bcbb81c9b0dd94d689fc72b38b
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Wed Mar 1 12:15:53 2017 -0800

    fix react / twitter warning

commit 97fdcbb9c888424dda2783cf110f4581b509428c
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Wed Mar 1 12:10:59 2017 -0800

    generateLogos moved to helper fn

commit 208d6495de1490ff62b623d5a1616eb3b3ebfb36
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Wed Mar 1 12:04:33 2017 -0800

    fetch data script URLs updated

commit 85651e38015da8797f5ae12804e7d77c5f9ead1b
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Wed Mar 1 11:59:03 2017 -0800

    Influenza links open in new tab/page

commit f5ead7e936913ec4dc98f77b7b4985c24eab47fc
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Wed Mar 1 10:09:45 2017 -0800

    localhost uses unique GA token

commit 714116f0599d0b3cb0603117684748ff794821fd
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Tue Feb 28 14:40:06 2017 -0800

    reset redux controls state when navigating (back) to App

commit 7ee6ad41c6ff64bc1518e16b3d16af9152c5fd7e
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Tue Feb 28 10:06:43 2017 -0800

    version bump to 1.0.2 for release

commit f6ec64f13964cd423a25f01f3bafdd5f74d9adcf
Author: Trevor Bedford <trevor@bedford.io>
Date:   Tue Feb 28 08:27:36 2017 -0500

    version bump to 1.0.1 for release

commit 3f0374237caef662513b7e1265d0bedeb6ab362e
Author: Trevor Bedford <trevor@bedford.io>
Date:   Tue Feb 28 08:27:14 2017 -0500

    Fix link, fix dataset title, fix twitter responsive

commit bc56ec6b90282b61750df2aa7f13f647c49bc3f4
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Tue Feb 28 00:27:17 2017 -0800

    version bump to 1.0.0 for release

commit bb9227ed334a8aacaf5518e1742e483efb419e85
Merge: dde73500 0aff30f1
Author: Colin Megill <colinmegill@gmail.com>
Date:   Tue Feb 28 00:25:36 2017 -0800

    Merge pull request #245 from nextstrain/colin-hotfix-2
    
    twitter cards alwasy render

commit 0aff30f1a4c1f4074ce9c064f8df8dd7b28a8fb9
Author: Colin Megill <colinmegill@gmail.com>
Date:   Tue Feb 28 00:25:09 2017 -0800

    convert splash to a stateful component to fire twitter script

commit 6203325f2458f719a568243934a3d7fc0bb3b405
Author: Colin Megill <colinmegill@gmail.com>
Date:   Tue Feb 28 00:24:51 2017 -0800

    remove twitter from index

commit dde73500b070dd0761bed97b2ea5b78f17f7557d
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Tue Feb 28 00:18:11 2017 -0800

    version bump to 0.5.0 for release

commit 42fa575e3f702f25d5f5f29d94e6132364aaa5d8
Merge: c347f582 795bd536
Author: Colin Megill <colinmegill@gmail.com>
Date:   Tue Feb 28 00:16:48 2017 -0800

    Merge pull request #244 from nextstrain/colin-hotfix-2
    
    splash header, footer, social

commit 795bd5360f378076b310b410cce00b4d6e162042
Author: Colin Megill <colinmegill@gmail.com>
Date:   Tue Feb 28 00:14:09 2017 -0800

    Show nextstrain on lander

commit 2c7edb7e87c141f76de382038a197fd43bcacac1
Author: Colin Megill <colinmegill@gmail.com>
Date:   Tue Feb 28 00:09:53 2017 -0800

    explore title

commit 82504928516d9fac39a1bc0f161dc05cbdf1c3a2
Author: Colin Megill <colinmegill@gmail.com>
Date:   Tue Feb 28 00:07:15 2017 -0800

    hero refactor

commit 87d41eb2e9418b10766746deffe58aaf962f5137
Author: Colin Megill <colinmegill@gmail.com>
Date:   Tue Feb 28 00:06:51 2017 -0800

    for now, add footer helper to splash

commit b95c9ae6c074d596f11ef72fa492891c32aaa27d
Author: Colin Megill <colinmegill@gmail.com>
Date:   Tue Feb 28 00:06:28 2017 -0800

    Dark colors for light background

commit 5db07d622afea6629ecf5c92f056bfed28faffc2
Author: Colin Megill <colinmegill@gmail.com>
Date:   Tue Feb 28 00:04:17 2017 -0800

    Add tweets

commit c347f582bd4a4af9a25be6824e46618f8ded1fb3
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Mon Feb 27 23:59:10 2017 -0800

    Tip labels iff <50 tips. Never on initial render. No transitions.

commit bb2e29b1b5601ff49ba1b36f25d7b58ce3c120b4
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Mon Feb 27 23:31:47 2017 -0800

    more functional temporal regression. Fixes #234

commit 55998db26ece836070b5b0f76e892c7d5dd99c10
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Mon Feb 27 23:07:26 2017 -0800

    fix typo in phyloTree

commit d6178abfecbd7c94a1a664949804bd48d5fceb35
Author: Colin Megill <colinmegill@gmail.com>
Date:   Mon Feb 27 23:03:51 2017 -0800

    max width 960, margins auto on title bar

commit 41199e2fb3fe014812ee89cf02bb0b749391b1e6
Author: Colin Megill <colinmegill@gmail.com>
Date:   Mon Feb 27 23:03:35 2017 -0800

    Always show logo colors

commit 86478cfa667856409995dcf3e122fdf464d1fa42
Author: Colin Megill <colinmegill@gmail.com>
Date:   Mon Feb 27 23:03:17 2017 -0800

    add tweets to splash page

commit 3df5410140aed985a37075c5d564d564948734d1
Author: Colin Megill <colinmegill@gmail.com>
Date:   Mon Feb 27 23:03:05 2017 -0800

    add twitter embed code to index

commit 7a56f0d7f31f630e651dc6dd9f6d89d30eaccb5b
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Mon Feb 27 22:56:28 2017 -0800

    padding to footer in app maintains background color

commit fe67b43d3383c1a7242c750332733cddb8f7858a
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Mon Feb 27 22:50:02 2017 -0800

    google analytics disabled in development (until we have a 2nd property)

commit 03edf34bf16c6e79b0f9431cec6f6a71dd01ace6
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Mon Feb 27 22:34:02 2017 -0800

    version bump to 0.4.1 for release

commit e1ba19bee9d0df3ad781c4d8cbce45870ea833de
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Mon Feb 27 22:33:05 2017 -0800

    versioning now x.y.z

commit bb2c80f89f86b6a840d3a5a32c8113b54d3080f6
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Mon Feb 27 21:48:01 2017 -0800

    About page - screenshots are ok. Closes #179

commit 9a78f5417a846882d227a8a1dc9202aae0dece7f
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Mon Feb 27 21:46:51 2017 -0800

    About Page - current datasets + future directions

commit 2c83bc4851e143b233c09c93abbdc08adc1e1434
Merge: c867291d 6d64a5a3
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Mon Feb 27 20:45:17 2017 -0800

    Merge pull request #243 from nextstrain/image-licences
    
    images changed + attributed. Closes #190

commit c867291de81e17f0b12e683d273a06b7bcb04b0e
Merge: 528d1995 072a70b0
Author: Colin Megill <colinmegill@gmail.com>
Date:   Mon Feb 27 20:21:10 2017 -0800

    Merge pull request #242 from nextstrain/map-listens-to-sidebar
    
    compute responsive

commit 072a70b02636da5bfed875dc29066502061dea20
Author: Colin Megill <colinmegill@gmail.com>
Date:   Mon Feb 27 20:20:30 2017 -0800

    compute responsive

commit 528d1995adf62b6655d496bfed16a4f3c1caca1e
Merge: 8e693354 574fbc6e
Author: Colin Megill <colinmegill@gmail.com>
Date:   Mon Feb 27 20:10:04 2017 -0800

    Merge pull request #241 from nextstrain/dont-hide-sidebar
    
    Revert "hide scrollbar in sidebar (webkit only)"

commit 8e6933546d896542fa014516532e7264001f1cd1
Merge: 63b0ecc6 60c95b6b
Author: Colin Megill <colinmegill@gmail.com>
Date:   Mon Feb 27 20:09:54 2017 -0800

    Merge pull request #240 from nextstrain/fix-responsive
    
    fix responsive

commit 6d64a5a34680223a1e24ae888971d8e0c816f384
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Mon Feb 27 19:49:50 2017 -0800

    images changed + attributed. Closes #190

commit 60c95b6b34f80a8239ca27929df65fced6f9b095
Author: Colin Megill <colinmegill@gmail.com>
Date:   Mon Feb 27 19:02:57 2017 -0800

    fitToViewer

commit 63b0ecc6c8fccb60f49fc2ab73429a28bade7531
Author: Trevor Bedford <trevor@bedford.io>
Date:   Mon Feb 27 21:59:34 2017 -0500

    Improve splash text slightly. Per #218.

commit 574fbc6ef9af2f98a023b15f5c65ed928421dc99
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Mon Feb 27 18:37:37 2017 -0800

    Revert "hide scrollbar in sidebar (webkit only)"
    
    This reverts commit 36d28fac6c4f56bf0321a574fc3597190f9ad726.

commit cededdeda58b08846601fb8b19fefefe04239b70
Author: Colin Megill <colinmegill@gmail.com>
Date:   Mon Feb 27 18:37:34 2017 -0800

    pan works

commit 612f206eb7c6398066f64a75fff0396ac524839a
Author: Trevor Bedford <trevor@bedford.io>
Date:   Mon Feb 27 21:28:54 2017 -0500

    version bump to 0.4 for release

commit dedab6cdf646c8174cd2e20639bd6b184ff2ed54
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Mon Feb 27 17:51:16 2017 -0800

    version bump to 0.3 for release

commit 79141028ecce97a2ff3c53172e1cd4d85c9ff896
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Mon Feb 27 17:50:54 2017 -0800

    (minor) release script push tags as well

commit 671fe4b90edd907cbe66e254816bcb0de449a494
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Mon Feb 27 17:45:13 2017 -0800

    (minor) forgot to push master to github as well

commit 0f6f0a0247401070f054aaac2515ea913cba57f0
Author: Trevor Bedford <trevor@bedford.io>
Date:   Mon Feb 27 20:42:21 2017 -0500

    This fixes the responsive issue at cost of functionality

commit c5a43fc3aafc3564b1826f5ee038626607cf5b5b
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Mon Feb 27 17:39:47 2017 -0800

    version bump to 0.2

commit 14721de0aa14309587d595bc78791b4bddbd9c06
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Mon Feb 27 17:39:21 2017 -0800

    (minor) bug fix in release script

commit 47a2e5a976924a1d656bf7e4cfad89e82c478c9e
Merge: 692c8ee6 f6e8149c
Author: Trevor Bedford <trevor@bedford.io>
Date:   Mon Feb 27 20:35:31 2017 -0500

    Merge pull request #236 from nextstrain/strip-labels
    
    Remove tip and branch labels

commit f6e8149c127794d51038360fd07ef01f7f17cfbd
Author: Trevor Bedford <trevor@bedford.io>
Date:   Mon Feb 27 20:33:11 2017 -0500

    Remove tip and branch labels

commit 692c8ee613384ce85a5068b05be99899279de701
Merge: f866158f dc129a1d
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Mon Feb 27 17:26:31 2017 -0800

    Merge pull request #235 from nextstrain/release-script
    
    release script

commit dc129a1d1e2ad754cb2f84c1e2fe040addbd61d8
Merge: 93f24abb f866158f
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Mon Feb 27 17:25:53 2017 -0800

    Merge branch 'master' into release-script
    
    * master:
      Revise methods. Fixes #145.
      Add special thanks to about. Fixes #222.
      typo

commit 93f24abb2dc7b1d40eb0a2b6bb20861882b07f5b
Merge: 1e624ffe 8618e3ac
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Mon Feb 27 17:23:06 2017 -0800

    Merge branch 'master' into release-script
    
    * master:
      small revisions to methods
      include biozentrum logo and open new tab on logo click

commit 1e624ffe8bb4abacb26ba5ff2f0e8cd16e85b635
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Mon Feb 27 17:16:16 2017 -0800

    (minor) release script bug fix

commit 32e9121cf3f79c660eed65f4405b0402dd616563
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Mon Feb 27 17:05:30 2017 -0800

    (minor) remove commented out bit

commit a5960d867254055e1c8c0577e741a0df9b635beb
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Mon Feb 27 16:44:57 2017 -0800

    version + release script

commit f866158f12ac347242832fbe4a40e837d1c37e7f
Author: Trevor Bedford <trevor@bedford.io>
Date:   Mon Feb 27 19:25:47 2017 -0500

    Revise methods. Fixes #145.

commit 528028701f90696385a3bbbbbf573f962b86fbe9
Author: Trevor Bedford <trevor@bedford.io>
Date:   Mon Feb 27 19:03:36 2017 -0500

    Add special thanks to about. Fixes #222.

commit a2bcfdd88dc81b591d5095b928aade4701c7f29e
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Mon Feb 27 15:54:11 2017 -0800

    version number in About page

commit 0aa1c1c73d5238a5a2e7e38e3982f245b278a57c
Merge: 8618e3ac c6f94749
Author: Trevor Bedford <trevor@bedford.io>
Date:   Mon Feb 27 18:42:25 2017 -0500

    Merged branch colin-hotfixes into master

commit 8618e3aca08dfd295bc7d4b6a47d8e1778b2a66b
Merge: c988a24f 108b2063
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Mon Feb 27 13:59:02 2017 -0800

    Merge pull request #233 from nextstrain/static_revisions
    
    minor static page improvements

commit c988a24f78d87283592fc2eac8a6c9d5ca3a2b45
Merge: 028a4123 457a556d
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Mon Feb 27 13:47:37 2017 -0800

    Merge pull request #232 from nextstrain/google-analytics
    
    implement google analytics

commit 457a556dbcd426c43c4575357e53fddaf376d184
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Mon Feb 27 13:43:46 2017 -0800

    analytics events for control panel actions

commit c6f947498352174f4964e53412188c9e6d9996b0
Author: Colin Megill <colinmegill@gmail.com>
Date:   Mon Feb 27 12:54:21 2017 -0800

    typo

commit becde1fff37c4d42414084ec48a3bfc9f6ea5436
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Mon Feb 27 12:45:55 2017 -0800

    google analytics

commit 028a412334ce17337935043d7205bfea36c106b9
Merge: 5c7b46fe 1edb9485
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Mon Feb 27 11:21:21 2017 -0800

    Merge pull request #231 from nextstrain/minor-fixes
    
    a few minor fixes

commit 1edb9485286a2e226267cb42b3b9f273b48f27c9
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Mon Feb 27 11:14:26 2017 -0800

    debounce date-slider actions. Fixes #210

commit e72b01c52c59a5b57cbe822a5216bd3aebbc3057
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Mon Feb 27 10:06:22 2017 -0800

    reset SVGpan on "return to entire tree". Fixes #223

commit 4fbc2b1b4bc9e507c03a50ab87ce71435142ff11
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Mon Feb 27 09:50:47 2017 -0800

    split restrictTreeToSingleTip into 2 actions to make intention clearer

commit 8f45f637d3f732767f44505a74846dd71d02266a
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Mon Feb 27 09:49:51 2017 -0800

    reduce timeout duration to recalc branch thicknesses when zooming out

commit be3fa38abcd2923b4790b8bbe1e9a709d2145b9d
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Mon Feb 27 09:30:59 2017 -0800

    prevent react <select> warning

commit 159018c83090464c2194a0e39b82d80dc8228438
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Mon Feb 27 09:24:39 2017 -0800

    don't try to load frequency data (prevents 404)

commit 5c7b46fe354b46cea8a84b67844227782b9cbfc0
Author: Richard Neher <richard.neher@tuebingen.mpg.de>
Date:   Mon Feb 27 14:51:28 2017 +0100

    prevent grid updates when there is not grid

commit 108b206378211ac0593dd23239c1744c572dc21c
Author: Richard Neher <richard.neher@tuebingen.mpg.de>
Date:   Mon Feb 27 11:32:46 2017 +0100

    small revisions to methods

commit 18780b533e37ecdc03d8179c53175d21e687c4a2
Author: Richard Neher <richard.neher@tuebingen.mpg.de>
Date:   Mon Feb 27 11:11:52 2017 +0100

    include biozentrum logo and open new tab on logo click

commit 27f30598300f468d0455a3e06c44817112a58486
Author: Trevor Bedford <trevor@bedford.io>
Date:   Sun Feb 26 23:38:56 2017 -0500

    Link to  division-level Ebola from splash. Fixes #219.

commit 1ba2ca2964551883719ca00e0a638cd241180e63
Author: Trevor Bedford <trevor@bedford.io>
Date:   Sun Feb 26 23:31:26 2017 -0500

    Auto-collapse legend if too long. Fixes #205.

commit 49336ae3a8e03587604eb1042ae398cd04bbb731
Merge: dac2cdce f098d19f
Author: Trevor Bedford <trevor@bedford.io>
Date:   Sun Feb 26 23:10:15 2017 -0500

    Merged branch 225-word-breaks into master

commit f098d19f7310e3ed98d3d6fafaf13e84ad86e4f6
Author: Trevor Bedford <trevor@bedford.io>
Date:   Sun Feb 26 23:10:07 2017 -0500

    Break words in panels to fit to space. Fixes #225.

commit dac2cdcea562487df382d75bcaf34fd0ad0c1d1b
Merge: fc68a9f1 78f691b4
Author: Trevor Bedford <trevor@bedford.io>
Date:   Sun Feb 26 22:58:20 2017 -0500

    Merged branch 227-controls-order into master

commit 78f691b4bc24c2b37cb0b6ba658196977b0fef88
Author: Trevor Bedford <trevor@bedford.io>
Date:   Sun Feb 26 22:58:05 2017 -0500

    Improve controls ordering. Fixes #227.

commit fc68a9f161669396a333500ed8bdd5611362eaed
Merge: fdde0120 ddda8f98
Author: Trevor Bedford <trevor@bedford.io>
Date:   Sun Feb 26 22:43:43 2017 -0500

    Merge pull request #229 from nextstrain/217-card-sizing
    
    Implement better layout behavior

commit ddda8f9843462f156ed944676805e3ece7cf2413
Author: Trevor Bedford <trevor@bedford.io>
Date:   Sun Feb 26 22:42:43 2017 -0500

    Implement better layout behavior. Fixes #217.
    
    I think this gives a nice trade-off between behavior on mobile, laptop and desktop.

commit fdde01205f4c026960cbc37cdb893949a3c3f32c
Merge: d99b3c78 7d244c8c
Author: Trevor Bedford <trevor@bedford.io>
Date:   Sun Feb 26 22:22:45 2017 -0500

    Merge pull request #216 from nextstrain/citations
    
    Citations

commit 7d244c8c9c13ebcc05a248b8ce32a3f69ee85637
Author: Trevor Bedford <trevor@bedford.io>
Date:   Sun Feb 26 21:19:17 2017 -0500

    Be more careful with URLs

commit c036857b9930fd1533cafc64edfe3f306d6421d5
Author: Trevor Bedford <trevor@bedford.io>
Date:   Sun Feb 26 21:12:26 2017 -0500

    Safety check for metadata

commit d99b3c781447275c9d7523a1174b7eca1639b5fb
Merge: 54518c22 e0d2250d
Author: Trevor Bedford <trevor@bedford.io>
Date:   Sun Feb 26 18:03:42 2017 -0800

    Merge pull request #215 from nextstrain/make-time-default
    
    Default metric to time rather than divergence

commit 54518c22f5a83144c83ab5bb1f1b580d40f27a2c
Merge: 875bbbae d25c15d9
Author: Trevor Bedford <trevor@bedford.io>
Date:   Sun Feb 26 17:57:02 2017 -0800

    Merge pull request #214 from nextstrain/experimental_merge
    
    Experimental merge

commit e0d2250dc7b279ace4d1808209c8517061a1a1a7
Author: Trevor Bedford <trevor@bedford.io>
Date:   Sun Feb 26 13:58:47 2017 -0800

    Default metric to time rather than divergence

commit de8cc012c4cf9a35f6fd7afce65311af21d9526a
Author: Trevor Bedford <trevor@bedford.io>
Date:   Sun Feb 26 13:42:12 2017 -0800

    Include data updated data in footer

commit 2510d0646ef420420988805223dc19c06fc91952
Author: Trevor Bedford <trevor@bedford.io>
Date:   Sun Feb 26 13:29:37 2017 -0800

    Move citations to flexbox

commit 19623d0a98f5caca004f4e46bdebf6689731ef53
Author: Trevor Bedford <trevor@bedford.io>
Date:   Sun Feb 26 13:14:31 2017 -0800

    Exclude "" and "?" authors from citations

commit adfdde138f66b874dee0e1a88e48686acbeaff7b
Author: Trevor Bedford <trevor@bedford.io>
Date:   Sun Feb 26 12:58:07 2017 -0800

    Align footer with cards above

commit f4a9dc8dd7ac7afad8529dfe0ce18c6ae7278380
Author: Trevor Bedford <trevor@bedford.io>
Date:   Sun Feb 26 11:52:52 2017 -0800

    Include data acknowledgement and dynamic citations list
    
    * Citations are constructed from tree.node.attr.authors

commit d25c15d9c1e21de8c5093a9aa312fed4b93d42fa
Author: Richard Neher <richard.neher@tuebingen.mpg.de>
Date:   Sun Feb 26 20:33:14 2017 +0100

    marker style and comments

commit ee743412d6d0230e526c08e8e20f5b0dc324f49f
Author: Richard Neher <richard.neher@tuebingen.mpg.de>
Date:   Sun Feb 26 20:23:22 2017 +0100

    adjust the number of ticks on transmission to be distance dependent

commit 7467ae3108abb12b4dbd1fd4a67dc693714d7723
Author: Richard Neher <richard.neher@tuebingen.mpg.de>
Date:   Sun Feb 26 20:00:17 2017 +0100

    make transmission markers be part of the line

commit 78db22c9398352e0b512c9d3b396999e7a7289a7
Author: Richard Neher <richard.neher@tuebingen.mpg.de>
Date:   Sun Feb 26 18:34:08 2017 +0100

    removed unused lines

commit a06e82832f256f5c5aca43b7188aa546d7f91872
Author: Richard Neher <richard.neher@tuebingen.mpg.de>
Date:   Sun Feb 26 18:33:21 2017 +0100

    uses left/right, top/bottom instead of width and height

commit 72789fb87be2b2d967e4f81c9d8b875393f79fea
Merge: d983e1a9 a3177a5f
Author: Richard Neher <richard.neher@tuebingen.mpg.de>
Date:   Sun Feb 26 18:12:02 2017 +0100

    Merge remote-tracking branch 'origin/info-panel' into experimental_merge

commit d983e1a9eba193bb99652c8d41ab90390734c8c0
Author: Richard Neher <richard.neher@tuebingen.mpg.de>
Date:   Thu Feb 23 10:40:30 2017 +0100

    cherry picked auto range onto map

commit ced0d341a6470db683bbb01bfdc596b044d5ea4a
Author: Richard Neher <richard.neher@tuebingen.mpg.de>
Date:   Sun Feb 26 17:41:42 2017 +0100

    map now renders on first load

commit 6b8353e0cd19f57e56bee1b6feaf26e226267ecd
Merge: 4a0c53a4 a1a36498
Author: Richard Neher <richard.neher@tuebingen.mpg.de>
Date:   Sun Feb 26 13:13:05 2017 +0100

    messy merge -- map broken

commit 4a0c53a4bd90d69dfb025ca0b04ab8e9b1fbe73e
Author: Richard Neher <richard.neher@tuebingen.mpg.de>
Date:   Sun Feb 26 12:24:20 2017 +0100

    this adds tip labels, addresses #56 and #207

commit 875bbbaeedbe6f51528dae2e0c4c27e7229d4fb1
Merge: c9979dae 83ff8853
Author: Trevor Bedford <trevor@bedford.io>
Date:   Sat Feb 25 23:47:51 2017 -0800

    Merge pull request #213 from nextstrain/205-legend-fix
    
    Simple fix to legend toggle

commit 83ff885351fe0ee0a93abaae3e61e948d6da3c6d
Author: Trevor Bedford <trevor@bedford.io>
Date:   Sat Feb 25 23:47:13 2017 -0800

    Simple fix to legend toggle
    
    No longer beautiful. But functional. Fixes #205.

commit a3177a5f0c1c705cc645f82bef2fde3f1733e072
Author: Trevor Bedford <trevor@bedford.io>
Date:   Sat Feb 25 20:47:05 2017 -0800

    Small fix to tooltip labeling

commit 58ac38672953d5117e1ea3c53c73c322619c77fa
Author: Trevor Bedford <trevor@bedford.io>
Date:   Sat Feb 25 20:42:03 2017 -0800

    Styling of branch selected panel. Per #175.

commit 5fef713e75dbf42769935875b5f932c21e97e0d0
Author: Trevor Bedford <trevor@bedford.io>
Date:   Sat Feb 25 18:34:26 2017 -0800

    Style tooltip and info panel and include link
    
    Fixes #180. Progress on #175.

commit c9979daef980b8537a6a933c6e8e540fe6d2f3d5
Author: Trevor Bedford <trevor@bedford.io>
Date:   Sat Feb 25 16:02:19 2017 -0800

    Remove flu from dataset options

commit b5bf8c33525513ae12cb6d098e376a8994296800
Merge: 9410e757 c2e80bb6
Author: Trevor Bedford <trevor@bedford.io>
Date:   Sat Feb 25 14:34:12 2017 -0800

    Merge pull request #208 from nextstrain/zoom_clade_grid_tooltip
    
    Zoom clade grid tooltip

commit 9410e75726ee954cf7d61799369f4881026e2be4
Merge: 7c46876d 9765199f
Author: Trevor Bedford <trevor@bedford.io>
Date:   Sat Feb 25 14:33:54 2017 -0800

    Merge pull request #204 from nextstrain/titlebar
    
    Minify titlebar and improve responsiveness

commit c2e80bb6dde0ec51b47285d60bee60c686adeb11
Author: Richard Neher <richard.neher@tuebingen.mpg.de>
Date:   Sat Feb 25 22:47:12 2017 +0100

    dismiss panel

commit 206f03ff3b6af57ab1d452939ae207bb77661d6c
Author: Richard Neher <richard.neher@tuebingen.mpg.de>
Date:   Sat Feb 25 22:16:28 2017 +0100

    clear previous timeout to fix tree fragmentations

commit 8d67fa3cd6d1afc615316b3826db5ae7ea390b70
Merge: f3c22364 9765199f
Author: Richard Neher <richard.neher@tuebingen.mpg.de>
Date:   Sat Feb 25 21:50:24 2017 +0100

    Merge remote-tracking branch 'origin/titlebar' into zoom_clade_grid_tooltip

commit f3c223643053b21a423d313bcbbf9ef9ca40c537
Author: Richard Neher <richard.neher@tuebingen.mpg.de>
Date:   Sat Feb 25 21:48:33 2017 +0100

    changed positioning --> needs to be harmonized with tooltip dimensions and padding

commit 8a46c59b7b0826c47a81e40c49c615fea0a9798d
Author: Richard Neher <richard.neher@tuebingen.mpg.de>
Date:   Sat Feb 25 21:41:18 2017 +0100

    added comments, only rerender when there is a zoom out to be done

commit c94b5811f26fd32823663c98c3878c83b159d7d1
Author: Richard Neher <richard.neher@tuebingen.mpg.de>
Date:   Sat Feb 25 21:31:05 2017 +0100

    married zoom out with visibility and branch selected panel

commit 11c3c93d94fac7e6a5af215825e6ea99c01f6006
Merge: 6161eee9 2cd3a58d
Author: Richard Neher <richard.neher@tuebingen.mpg.de>
Date:   Sat Feb 25 21:07:11 2017 +0100

    merged grid_zoom

commit 2cd3a58d78e9085d18ff430439cacb71d1e89907
Author: Richard Neher <richard.neher@tuebingen.mpg.de>
Date:   Sat Feb 25 20:53:14 2017 +0100

    rename callback

commit 570ad323e9fd83ebdc4d5275747beb34c62bd32b
Author: Richard Neher <richard.neher@tuebingen.mpg.de>
Date:   Sat Feb 25 20:35:21 2017 +0100

    if we reached max Zoom-out, walk up the tree by using the parent clade as zoom focus (do nothing when zoom focus is root)

commit 352110f37997b860c39687345340eb2925973ee0
Author: Richard Neher <richard.neher@tuebingen.mpg.de>
Date:   Sat Feb 25 20:10:46 2017 +0100

    grid update works now (updates after a 200ms delay)

commit 6161eee971b18f7fb7c1748e6a4068ff53f097ad
Author: Richard Neher <richard.neher@tuebingen.mpg.de>
Date:   Sat Feb 25 19:46:11 2017 +0100

    fixes tool tip positions viewer direct access to viewer. works at different zoom levels

commit 130d5c6838ee7723fad344f7598958164957bcba
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Fri Feb 24 21:29:00 2017 -0800

    tree hover tooltip at mouse position (broken)
    
    
    tree hover tooltip location moved

commit 9765199f50ea3ab6c48c78acb8f7fe9927e30142
Author: Trevor Bedford <trevor@bedford.io>
Date:   Fri Feb 24 20:51:49 2017 -0800

    Improve splash page tile breaks

commit dcdca3a52f73cffeaa47adfc2fdebc1ecef44a4f
Author: Trevor Bedford <trevor@bedford.io>
Date:   Fri Feb 24 20:46:47 2017 -0800

    Fix column breaks

commit 0df985c5f47d29d3874b3558bff59a0a751f3848
Author: Trevor Bedford <trevor@bedford.io>
Date:   Fri Feb 24 20:32:51 2017 -0800

    Make whole tile clickable on splash

commit 16ae8cf717c3f8de21ed1042f9cfe1815baee859
Author: Trevor Bedford <trevor@bedford.io>
Date:   Fri Feb 24 20:31:06 2017 -0800

    Make splash page title responsive

commit a80981fed81f575c0846b907d8b01d71de3d03f8
Author: Trevor Bedford <trevor@bedford.io>
Date:   Fri Feb 24 20:16:51 2017 -0800

    Remove help page

commit ae8dd754e4f59da0b268973860f9c76598684f63
Author: Trevor Bedford <trevor@bedford.io>
Date:   Fri Feb 24 20:15:36 2017 -0800

    Cleanup title and fix layout
    
    Better use of flexbox

commit 7c46876d833aba5dcccb24d11270ed2488a1111d
Author: Trevor Bedford <trevor@bedford.io>
Date:   Fri Feb 24 17:39:23 2017 -0800

    Fix warning about defaultValue

commit a0d73644cf77ec044d398a8638c5673ab3727b39
Merge: 31a2a3cb a880e437
Author: Trevor Bedford <trevor@bedford.io>
Date:   Fri Feb 24 17:35:43 2017 -0800

    Merged branch master into titlebar

commit 4d86cb00abab0db7832e0858aefffc4aad68b357
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Fri Feb 24 16:52:39 2017 -0800

    hover panel styled, still below legend

commit a1a364982f8b88503261c9070d4b188f26f33a14
Author: Trevor Bedford <trevor@bedford.io>
Date:   Fri Feb 24 15:56:10 2017 -0800

    Fix transmission display

commit 8ac7a59903b59bb92257be39adf681d11754d314
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Fri Feb 24 15:56:08 2017 -0800

    path to selected tip highlighted on tree behind modal

commit 820ac9fb3a8dc6ee447644ddcdaf873b9ec5e201
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Fri Feb 24 15:28:35 2017 -0800

    tip radius stays big after clicked + bug fix

commit 6b0c1918dc6f26ab6c8e1799999ddede4d59a8d2
Author: Colin Megill <colinmegill@gmail.com>
Date:   Fri Feb 24 15:46:41 2017 -0800

    add geores state to map, change demes

commit 5ad80e7e3981794b5386e345406f8add1c599fe3
Author: Colin Megill <colinmegill@gmail.com>
Date:   Fri Feb 24 15:46:20 2017 -0800

    in the middle of changing the logic to maphelpers lat long

commit dc610b041f644402e9ca92738e671e14efb04fd7
Author: Colin Megill <colinmegill@gmail.com>
Date:   Fri Feb 24 15:46:01 2017 -0800

    change geo resolution

commit 6e932e4ba955a08eb715bae1c4ab7a4bb080d26e
Author: Colin Megill <colinmegill@gmail.com>
Date:   Fri Feb 24 15:45:51 2017 -0800

    demes

commit 2b79d0000a8094e28733358de2af05ca2d1e30f1
Author: Colin Megill <colinmegill@gmail.com>
Date:   Fri Feb 24 15:45:24 2017 -0800

    add default to globals

commit b5dd26d70d546d1b909abbfe2689158128b1bf20
Author: Colin Megill <colinmegill@gmail.com>
Date:   Fri Feb 24 15:45:14 2017 -0800

    add controls to reducer

commit 8986a5fb7956b716f003c51aca2fe166803ecfd6
Author: Colin Megill <colinmegill@gmail.com>
Date:   Fri Feb 24 15:45:05 2017 -0800

    add georesolution control

commit 8f7ceed8c8991037469666c815d6a0a7dbe5ffe8
Author: Colin Megill <colinmegill@gmail.com>
Date:   Fri Feb 24 15:44:53 2017 -0800

    add geoResolution type

commit 3a228d47cdd1d18da882068329d5b630e9e5c499
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Fri Feb 24 13:33:19 2017 -0800

    selected tip displays modal with info

commit 2a3a1b727dd47173887514cbbe170da7728ec4cd
Author: Richard Neher <richard.neher@tuebingen.mpg.de>
Date:   Fri Feb 24 23:01:21 2017 +0100

    experimental shot at grid update

commit 335ce3ee1d2904541a222f42d21bd43af6ca7275
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Fri Feb 24 13:17:26 2017 -0800

    zoom to clade filters tip visibility

commit 0b637380cd9418b86642d1c6f966d964dd806a2f
Author: Colin Megill <colinmegill@gmail.com>
Date:   Fri Feb 24 12:48:09 2017 -0800

    cleanup

commit 25af2f76cda936cd244eb4fa55d300110d86485e
Author: Colin Megill <colinmegill@gmail.com>
Date:   Fri Feb 24 12:47:46 2017 -0800

    switching between division and country working again

commit d9ca71e136468a3cfd8273f3bb45c0c0c5031d5c
Author: Colin Megill <colinmegill@gmail.com>
Date:   Fri Feb 24 12:18:14 2017 -0800

    all lines shown, all arrows shown, part of 198

commit 47572fbb7b169cbf9e6568ba627db6f4b128e3d3
Author: Colin Megill <colinmegill@gmail.com>
Date:   Fri Feb 24 12:17:46 2017 -0800

    this commit loads div properly again but tmp breaks switching

commit 86051a2b89feb0faf91a72a25e1081e1f3efc92f
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Fri Feb 24 11:56:50 2017 -0800

    treeView code cleaned up a bit

commit 7e9958187fe27b8cd23a9e51ce18f787d96db3f6
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Fri Feb 24 11:47:17 2017 -0800

    clade zoom displays new branch selected panel

commit a880e437a10effb9bb3c1442ea28482f41bdbb17
Merge: f76e0a36 dc564c59
Author: Richard Neher <richard.neher@unibas.ch>
Date:   Fri Feb 24 18:23:52 2017 +0100

    Merge pull request #202 from nextstrain/dynamic-branch-thickness
    
    Dynamic branch thickness

commit f76e0a36d9a5b1d12e0794c76e4c3a3abd5388be
Merge: aefb5de1 679374f1
Author: Richard Neher <richard.neher@unibas.ch>
Date:   Fri Feb 24 18:22:54 2017 +0100

    Merge pull request #201 from nextstrain/hover-stem-only
    
    branch highlighting on stem only

commit dc564c59f4ff4024e1bfcc230472b651d8272533
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Thu Feb 23 17:39:28 2017 -0800

    fix edge case when no tips visibile

commit 2512d4c65a1371cb535414623fb47cb4f2312645
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Thu Feb 23 17:36:58 2017 -0800

    date ranges from URL set on initial tree render
    
    phyloTree render method modified to set tipVisibility, as an immediate call to updateMultiple... doesn't work. The tree reducer now calculates branchThicknesses & tipVisibility & updated tipCounts

commit 3e9e7ff156bbe0289b8d94e9d4f27d8a959e7384
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Thu Feb 23 17:30:13 2017 -0800

    fix race condition for nodeColor, colorScale
    
    reducers now use loadStatus, not loading (but this was never used by any code)

commit ea0a35c6d8a02dad861c95e037b21d1c962e3680
Author: Colin Megill <colinmegill@gmail.com>
Date:   Thu Feb 23 17:10:27 2017 -0800

    zoom creates triangles. tmp limit zoom for perf.

commit a101a2167aca13856717a1acd88e1a31844c33f7
Author: Colin Megill <colinmegill@gmail.com>
Date:   Thu Feb 23 17:09:34 2017 -0800

    increase space between triangles, decrease freq

commit 778bcaecb59e6d6472053d9705674bb20ad4aaff
Author: Colin Megill <colinmegill@gmail.com>
Date:   Thu Feb 23 16:05:43 2017 -0800

    remove play button

commit 679374f1bc3f89f5db277f9de083a82393941bf3
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Thu Feb 23 13:28:19 2017 -0800

    branch highlighting & callbacks on stem only

commit ece1cb52e35fedbee9ba41f59d22fb09a95dc34a
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Thu Feb 23 10:32:55 2017 -0800

    whitespace changes

commit b5943286cbd1ffca636a6740e6dd91b2ae82e945
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Wed Feb 22 16:40:24 2017 -0800

    branch thicknesses updated dynamically (date-slider & filters)

commit 8167c1a4f76a33d3c45b1d6b5a680650db14991a
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Wed Feb 22 15:30:40 2017 -0800

    phyloTree render sets branchThickness
    
    this is necessary when versioning is used

commit 8212cfa0bd87fe65172081b603ed31f5d1337ec5
Author: Richard Neher <richard.neher@tuebingen.mpg.de>
Date:   Wed Feb 22 21:20:05 2017 +0100

    trigger redraw on branchthickness change

commit dd8d03601af40c4da2efe029a8fdd5aae23efcec
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Wed Feb 22 10:32:47 2017 -0800

    set branchThicknessVersion in reducer

commit aefb5de19d1ba5fdaffd86bfce5412f52d683efb
Merge: 43ca13d8 413a4433
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Thu Feb 23 10:24:02 2017 -0800

    Merge pull request #199 from nextstrain/branch-tip-hover
    
    branch & tip hover functionality

commit 413a443325f49c494274ec0386747033ffea5599
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Thu Feb 23 10:14:59 2017 -0800

    whitespace changes

commit 082f1fa828665aad7bb97546fe122ada6bbf19f5
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Wed Feb 22 14:37:35 2017 -0800

    branch/tip hover now callbacks in treeView
    
    Clicking has no changes on tree (yet)
    phyloTree branch ids changed

commit 43ca13d886dd56cd83c043610c3febb3c8620438
Author: Richard Neher <richard.neher@tuebingen.mpg.de>
Date:   Thu Feb 23 12:14:11 2017 +0100

    updated link to neherlab

commit 4b2a8ef86c13fd8ccc4c3b8979ee3d5631f0fc1e
Author: Trevor Bedford <trevor@bedford.io>
Date:   Wed Feb 22 22:18:04 2017 -0800

    Serve favicon

commit 798317045642a3f3be9d88fe2f3ca1a660908fa3
Author: Colin Megill <colinmegill@gmail.com>
Date:   Wed Feb 22 21:48:56 2017 -0800

    dataset now switching between region, country, division

commit d541a3bb49ac2eb9a04b3801f07154eca7c971aa
Merge: 7ceff2f5 c63f6db7
Author: Trevor Bedford <trevor@bedford.io>
Date:   Wed Feb 22 18:41:03 2017 -0800

    Merge pull request #197 from nextstrain/bundle-compression
    
    Compress bundle and serve compressed bundle

commit c63f6db714f2ddc2b7e01a346ff98d3a27f966d4
Author: Trevor Bedford <trevor@bedford.io>
Date:   Wed Feb 22 17:14:50 2017 -0800

    Compress bundle and serve compressed bundle
    
    * Webpack now produces `dist/bundle.js.gz`
    * Express now serves this

commit 7ceff2f57dcc487d456346d0185e7af7adc08972
Merge: 3af93988 4685f0c5
Author: Trevor Bedford <trevor@bedford.io>
Date:   Wed Feb 22 14:40:18 2017 -0800

    Merge pull request #196 from nextstrain/trimmed-bundle
    
    Trimmed bundle

commit 4685f0c5df64ac0ee1f43499e76b0d1507652fc2
Author: Trevor Bedford <trevor@bedford.io>
Date:   Wed Feb 22 14:27:38 2017 -0800

    Ignore moment locales in webpack
    
    Most of moment's cruft was having across the world locale support. This only includes 'en' in the webpack bundle. Via https://github.com/jmblog/how-to-optimize-momentjs-with-webpack.

commit c0cd9609e5a8f5ef237acaf484a27e2f1d328a5c
Author: Trevor Bedford <trevor@bedford.io>
Date:   Wed Feb 22 13:29:21 2017 -0800

    Switch from Victory to VictoryChart

commit 3af93988461fed791042a13c4045680351a3ad3f
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Wed Feb 22 09:12:56 2017 -0800

    ensure browserDimensions always in redux

commit 31a2a3cb44b3d5e329f32cdecc8ac352a33729b6
Author: Trevor Bedford <trevor@bedford.io>
Date:   Wed Feb 22 00:30:04 2017 -0800

    Minify titlebar in App
    
    * Switch to dark color theme for titlebar
    * Still need to do some layout tweaks relating to flexbox

commit 2d20d46ab31b07d8086648031d0093b512cefe96
Author: Colin Megill <colinmegill@gmail.com>
Date:   Tue Feb 21 17:24:48 2017 -0800

    compute responsive on dataset change even if width height hasn't changed

commit 2201ae30dbf62aa2de8f9e3970b34282ab01c34c
Author: Colin Megill <colinmegill@gmail.com>
Date:   Tue Feb 21 17:23:54 2017 -0800

    only setup leaflet if L doesn't already exist

commit 5d581994ad14cdfc92e70b3931624ae56770e2f7
Author: Colin Megill <colinmegill@gmail.com>
Date:   Tue Feb 21 17:23:23 2017 -0800

    remove log in latlongs

commit 3121f84bba5e48a822f5647e3ce814b9a49a6904
Author: Colin Megill <colinmegill@gmail.com>
Date:   Tue Feb 21 17:23:13 2017 -0800

    dataset guid now coming from .tree in redux

commit a1e7736692ee666aa6194f6967919173bc0d3fd5
Author: Colin Megill <colinmegill@gmail.com>
Date:   Tue Feb 21 17:22:46 2017 -0800

    create map gets its own function

commit 21be76e521f65345406399414a36a3c0718d8edf
Merge: 9501f7e8 34738360
Author: Trevor Bedford <trevor@bedford.io>
Date:   Tue Feb 21 13:33:32 2017 -0800

    Merge pull request #192 from nextstrain/123-fetch-data
    
    Fetch data from data.nextstrain.org

commit 34738360d9d3ab35a4f2a694aa725700a40a7738
Author: Trevor Bedford <trevor@bedford.io>
Date:   Tue Feb 21 12:54:53 2017 -0800

    Fix heroku

commit 9e55bce915332927203c9a08d0ed3f6962dfd2b5
Author: Trevor Bedford <trevor@bedford.io>
Date:   Tue Feb 21 12:48:14 2017 -0800

    Fetch data from data.nextstrain.org
    
    * I set up a new bucket nextstrain-data with Cloudfront and Route 53 to serve it to data.nextstrain.org
    * Heroku will always fetch data from this URL
    * Can swap dataURLStem during development to use local data

commit 9501f7e8352e122be07b0fa80b860e07b15ec770
Merge: 3d19169e 0a2f3547
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Tue Feb 21 12:06:20 2017 -0800

    Merge pull request #189 from nextstrain/static-content
    
    Static content improvements

commit 0a2f3547fcf3f8dfb8b578fd27f19837eaa8fb50
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Tue Feb 21 12:03:07 2017 -0800

    added nextflu identifier to splash page influenza card

commit 37107c0880dd2e68bc7050e8323f91a8b5480a66
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Tue Feb 21 10:31:36 2017 -0800

    allow logos to wrap when needed (about page)

commit 360ebe4fe487f471f19eddd35a783b27daf4cfae
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Tue Feb 21 10:21:59 2017 -0800

    browser dimensions always in redux

commit e1a100e7cbfa50bfd7e54b61267ff7eec5531553
Author: Trevor Bedford <trevor@bedford.io>
Date:   Tue Feb 21 10:05:01 2017 -0800

    With font revision, we're no longer using typekit

commit d9ebcfc55af7d855051442a012091922537e64dc
Author: Trevor Bedford <trevor@bedford.io>
Date:   Tue Feb 21 00:07:15 2017 -0800

    Styling improvements
    
    * Indicate location on titlebar
    * "Learn More" button on splash

commit 3fe8c9de87855b5294ef83a2fabbad663d093404
Author: Trevor Bedford <trevor@bedford.io>
Date:   Mon Feb 20 22:42:44 2017 -0800

    Add keys to logo array

commit 9b39171471003a9764248890d4f8e751eab6fcc4
Author: Trevor Bedford <trevor@bedford.io>
Date:   Mon Feb 20 20:41:08 2017 -0800

    Minor style changes

commit a68b0c4eb7c8c9543b05cf7f4afec9ca0386d093
Author: Trevor Bedford <trevor@bedford.io>
Date:   Mon Feb 20 20:25:48 2017 -0800

    Switch to 2-column static layout

commit a211e4ceff09a21b178a6024512eec5f2d89baee
Author: Trevor Bedford <trevor@bedford.io>
Date:   Mon Feb 20 17:51:19 2017 -0800

    Fonts pass. Everything now Lato.

commit 4faf6886b6f97009b6a87aa715518ba1746ae789
Author: Trevor Bedford <trevor@bedford.io>
Date:   Mon Feb 20 16:41:41 2017 -0800

    Improve splash page layout. Per #187.

commit 2a904f8e76218e5517da878391739534fc2741f0
Author: Trevor Bedford <trevor@bedford.io>
Date:   Mon Feb 20 15:18:54 2017 -0800

    Update about page. Progress on #188.

commit 3d19169e0628ea006a57d7f687dcd1b86822b6ae
Merge: cab1ec9c a8077a66
Author: Trevor Bedford <trevor@bedford.io>
Date:   Mon Feb 20 13:38:52 2017 -0800

    Merge pull request #186 from nextstrain/branchlabels
    
    Branchlabels

commit cab1ec9ca13e84b4fc04bb47dbc94b869d73e141
Merge: 61f4ef54 36d28fac
Author: Trevor Bedford <trevor@bedford.io>
Date:   Mon Feb 20 13:11:47 2017 -0800

    Merge pull request #185 from nextstrain/static-content
    
    static content & style improvements

commit a8077a66cebded4f6657eb51ad614b8dbb1fbede
Author: Richard Neher <richard.neher@tuebingen.mpg.de>
Date:   Sat Feb 18 19:36:04 2017 +0100

    this addresses #174 -- need to find ways to make label format data set specific

commit 27e7dfb72631329610f7e83539acba33175e0020
Author: Richard Neher <richard.neher@tuebingen.mpg.de>
Date:   Sat Feb 18 11:48:54 2017 +0100

    added BL update to updateGeometryFade

commit 81bb07c395e33a17eeb0f4d02eaac27ac619529a
Merge: ed56dabc 61f4ef54
Author: Richard Neher <richard.neher@tuebingen.mpg.de>
Date:   Sat Feb 18 10:52:42 2017 +0100

    Merge branch 'master' into branchlabels

commit 61f4ef547add4b42db0d58c75153feb6e3175ace
Merge: 8581be1e 8091d9f5
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Fri Feb 17 16:27:48 2017 -0800

    Merge pull request #183 from nextstrain/chop_branches
    
    Chop branches

commit 36d28fac6c4f56bf0321a574fc3597190f9ad726
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Fri Feb 17 14:59:42 2017 -0800

    hide scrollbar in sidebar (webkit only)

commit fb93b3ed15cb263c81a528cbb3748e683d180983
Merge: 8fbb2c01 965ca45a
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Fri Feb 17 14:02:21 2017 -0800

    Merge branch 'fix-sidebar' into static-content
    
    * fix-sidebar:
      fix sidebar layout issue

commit ed56dabc2c9f62fcbfc42ca7ddedc289053662e9
Author: Richard Neher <richard.neher@tuebingen.mpg.de>
Date:   Fri Feb 17 23:07:11 2017 +0100

    added hide and show funcs for branch labels -- progress towards #174

commit 73dfd0f35dd93b4b8675531d19918448963fcaba
Author: Richard Neher <richard.neher@tuebingen.mpg.de>
Date:   Fri Feb 17 23:03:54 2017 +0100

    adds branch labels to tree

commit 965ca45a6fda7d74be0ad71e857bd77a001a7c81
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Fri Feb 17 14:00:23 2017 -0800

    fix sidebar layout issue
    
    better seperation of global CSS styles

commit 8fbb2c01ffa11899d21bb0495eed21d7a063bfc0
Author: Richard Neher <richard.neher@tuebingen.mpg.de>
Date:   Fri Feb 17 19:25:12 2017 +0100

    fix colorby genotype

commit 56af9616fb8ce3643b2ecc3e1d279fc74747d735
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Thu Feb 16 18:16:35 2017 -0800

    splash updated

commit 9cc3da5fe1ab28c5f1a97c4f7b0949c573800c2d
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Thu Feb 16 17:14:19 2017 -0800

    titlebar displays current page

commit 6848ca7c959159c06380f882adcd48afc15112b4
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Thu Feb 16 16:59:07 2017 -0800

    Help page taken from nextflu

commit d7deeb4c3dc537fed7a8beda2d98cc12215947b0
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Thu Feb 16 16:19:04 2017 -0800

    styling improved, methods added
    
    bootstrap grid is 16KB before minimisation (webpack does this for us)

commit e05216c63d77b2b5cf582fb128cf2b862da34620
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Wed Feb 15 17:48:12 2017 -0800

    move (some) styles to CSS

commit 2afcc50482eb2f59fc3e6a31428db22b929d788d
Merge: 34a91c00 8581be1e
Author: Colin Megill <colinmegill@gmail.com>
Date:   Wed Feb 15 17:05:20 2017 -0800

    Merged branch master into map-v2

commit 34a91c00de6d7804989454e68a236c7ceebb2fe3
Merge: 6ebd25cc 6dccf55f
Author: Colin Megill <colinmegill@gmail.com>
Date:   Wed Feb 15 17:04:37 2017 -0800

    Merged branch map-v2-james into map-v2

commit 8581be1ee02f424ff99a1040194c3495079a8f10
Merge: 466612fb 71159e67
Author: Trevor Bedford <trevor@bedford.io>
Date:   Wed Feb 15 16:21:14 2017 -0800

    Merge pull request #182 from nextstrain/178-filters
    
    178-filters

commit 466612fb0937396a4fdc1424693dc3416fdadb89
Merge: de2fcbe7 65c6a0c3
Author: Trevor Bedford <trevor@bedford.io>
Date:   Wed Feb 15 16:17:23 2017 -0800

    Merge pull request #181 from nextstrain/120-top-level-routing
    
    120 top level routing

commit 71159e6759096aa90bda28d4130d66ee7ebf170b
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Wed Feb 15 16:09:42 2017 -0800

    Filters update tree. Fixes #178

commit 65c6a0c3f9ad821fb608b3508e5b7f0708f26fc1
Merge: 9b37a2b0 e8fcbda1
Author: james hadfield <jh22@sanger.ac.uk>
Date:   Wed Feb 15 12:30:04 2017 -0800

    Merge branch 'sunken-titlebar' into 120-top-level-routing
    
    * sunken-titlebar:
      Adjustments to titlebar spacing and styling
      Sunken titlebar

commit 6dccf55f4228569a5a1141a5f4c9b135d00ec91c
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Wed Feb 15 11:41:56 2017 -0800

    fix map tip colors bug

commit 9b37a2b07febc6e14e69663678d74ce8acb75ada
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Wed Feb 15 09:37:11 2017 -0800

    git commit no longer in about page
    
    due to heroku incompatability

commit e8fcbda12066f00a0cb0717c315a9a45ef3b9a9d
Author: Trevor Bedford <trevor@bedford.io>
Date:   Wed Feb 15 09:24:25 2017 -0800

    Adjustments to titlebar spacing and styling

commit de2fcbe72f0a8b77d07fd7d5ebe95d9b31b9e7f4
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Wed Feb 15 09:11:54 2017 -0800

    remove genericScale console log

commit 6ebd25ccf2bac9d985e4df1d320ae6b3559732b6
Author: Colin Megill <colinmegill@gmail.com>
Date:   Tue Feb 14 23:38:43 2017 -0800

    comment out map redux aspects for merge, to be rewritten

commit 061b266c94e31d8ba8958d241fa058ca8a6efc79
Merge: 87893038 dbc85689
Author: Colin Megill <colinmegill@gmail.com>
Date:   Tue Feb 14 23:33:16 2017 -0800

    Merge branch 'master'
    
    Conflicts:
            src/actions/index.js
            src/actions/loadData.js
            src/components/app.js
            src/components/controls/color-by.js
            src/components/map/map.js
            src/components/tree/treeView.js

commit 19a7f3e8a9d8c6eb18c5e123b1fbf025a7422ef7
Author: Trevor Bedford <trevor@bedford.io>
Date:   Tue Feb 14 21:30:31 2017 -0800

    Sunken titlebar
    
    Avoids Escher interaction with sidebar. Also, unified links under "brandColor".

commit a539788000bbf7a481a5db934c4abef270a155e1
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Tue Feb 14 17:28:10 2017 -0800

    splash page

commit c0e241098ffa483d92569a02cd4d36867f6d303b
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Tue Feb 14 15:49:32 2017 -0800

    move more files to old_code

commit 4c6cc48e0e20e5fd6fc790e12f864de6619e7e11
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Tue Feb 14 15:45:27 2017 -0800

    About page started
    
    Header styles have been moved around a bit

commit 3676795083937ad7f963e449b6c31f3db4135653
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Tue Feb 14 15:30:35 2017 -0800

    titlebar moved inside top level components
    
    note the behaviour in app when sidebar is toggled

commit 8091d9f5a844690d9cb2d078596bf1e48a804768
Author: Richard Neher <richard.neher@tuebingen.mpg.de>
Date:   Tue Feb 14 22:56:44 2017 +0100

    hide grid when using unrooted layout, fix missing svg elements when loading on unrooted

commit 762356ddaa924ec78bea5c3496ab8405a0acec97
Author: Richard Neher <richard.neher@tuebingen.mpg.de>
Date:   Tue Feb 14 22:15:56 2017 +0100

    add thickness offsets to radial

commit a712bf11ed64eb076c4ba1130572ed8326dd56d2
Author: Richard Neher <richard.neher@tuebingen.mpg.de>
Date:   Tue Feb 14 21:58:34 2017 +0100

    split stem and T, fixes non-joining in rectangular *if* stroke-width is set prior to drawing

commit e9121d02cddc4cc38323b9f87aa61e5e8a93727b
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Tue Feb 14 12:28:29 2017 -0800

    Overall architecture uses RR. Includes titlebar. Fixes #120. Fixes #121.

commit 48d82f616c74ab335bf79bc58290c89cd2fa0dc5
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Tue Feb 14 10:35:38 2017 -0800

    title components more reusable

commit 6ae639be4b131fa1f067faf74e7423e428a3eee4
Author: Richard Neher <richard.neher@tuebingen.mpg.de>
Date:   Tue Feb 14 18:33:01 2017 +0100

    subtract branch thickness from T-bar width

commit 87893038a2f7adfe976485a3368b05ff4529cc83
Author: Colin Megill <colinmegill@gmail.com>
Date:   Mon Feb 13 22:19:44 2017 -0800

    stroke opacity on paths

commit f96611c733669dc764473e0c8777813d592e8a57
Author: Colin Megill <colinmegill@gmail.com>
Date:   Mon Feb 13 22:17:43 2017 -0800

    .75 for now

commit d72bf0733219fcd3afa3dc46c4efd56d9adb5c25
Author: Colin Megill <colinmegill@gmail.com>
Date:   Mon Feb 13 22:17:30 2017 -0800

    pass map into draw for leaflet

commit 0144178ff48422d1171556453432246d8f7ce86a
Author: Colin Megill <colinmegill@gmail.com>
Date:   Mon Feb 13 22:16:34 2017 -0800

    move draw directional

commit 21e59e86fd9c09ab02eaea8b32b56dabdf562528
Author: Colin Megill <colinmegill@gmail.com>
Date:   Mon Feb 13 22:15:55 2017 -0800

    re-add drawing paths, keep in leaflet for now

commit dace36ebe1ef4c33983fb9657385cc007298e78a
Author: Colin Megill <colinmegill@gmail.com>
Date:   Mon Feb 13 22:15:42 2017 -0800

    pass map into draw tips

commit 0d0ff13a1c3190ad500fc7828806fa96ad724770
Author: Colin Megill <colinmegill@gmail.com>
Date:   Mon Feb 13 21:00:41 2017 -0800

    Cleaner d3 select attaches directly to leaflet svg, fixes zoom bug

commit dc61a73e4e14e91e79dee1640b881677302d5c59
Author: Colin Megill <colinmegill@gmail.com>
Date:   Mon Feb 13 18:42:33 2017 -0800

    color by from

commit dbc856898272bfe92d3fb68529a879af0a39b47e
Merge: 0b1f2c90 899483f7
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Mon Feb 13 16:21:19 2017 -0800

    Merge pull request #176 from nextstrain/move-to-redux
    
    Move to redux

commit a265ac2fb0146eb54ef70acab0339665c0b294ac
Author: Colin Megill <colinmegill@gmail.com>
Date:   Mon Feb 13 14:44:31 2017 -0800

    link to other possible reason for cutoff

commit 899483f783735339d869935ee08b9a1b19b48f57
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Fri Feb 10 17:50:20 2017 -0800

    fix minor merge errors
    
    ColorBy label was repeated
    Indentation errors

commit 8f06e345c7fcf6073188a893be97e5aff7d6fd09
Merge: 806b1b11 0b1f2c90
Author: Trevor Bedford <trevor@bedford.io>
Date:   Fri Feb 10 17:19:59 2017 -0800

    Merge branch 'master' into temp
    
    * master:
      Include helper function to average colors
      fixes zoom for terminal nodes
      Make legend auto show/hide based on browser width
      Favor minHeight over maxAspectRatio
      Dynamically adjust chevron placement
      Make legend collapsable
      Add legend title. Fixes #83.
      Make buttons more understated
      Dynamically size legend backing. Fixes #89.
      Layout tweaks to better fill space
      Layout adjustments
      Streamline date picker style
      Separate title font and style buttons
      Font rework
      Adjustments to line up controls
      Styles pass

commit 806b1b11b380c2bae696b2eec24604f784cd163b
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Fri Feb 10 15:55:30 2017 -0800

    actions files renamed

commit 5c8c4fa1ef7113b2de214240807ca1a335356f18
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Fri Feb 10 14:05:34 2017 -0800

    tree data moved to redux
    
    tipVisibility
    tipRadii
    nodeColors

commit 97d37a08efa7a37387ee81769204821a0887cc41
Author: Colin Megill <colinmegill@gmail.com>
Date:   Fri Feb 10 14:50:24 2017 -0800

    comments & links

commit 12cf3c940aac2cc4fa219ad31e85c1c4075cb459
Author: Colin Megill <colinmegill@gmail.com>
Date:   Fri Feb 10 14:29:58 2017 -0800

    d3 correctly repositions on leaflet zoom in out, switching datasets

commit 4ddc316cbeab306aa48999d28b525474687a0ac5
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Fri Feb 10 12:50:46 2017 -0800

    URL updates consistent
    
    changed colorBy action to not take router (it's done in the component)
    changeURL is now back to changeURLquery (!)

commit 8066e2a1e32e8fd4386d96c836df452fe3e6bc56
Author: Colin Megill <colinmegill@gmail.com>
Date:   Fri Feb 10 01:01:41 2017 -0800

    refactor map.js, call latlong directly, store d3node in state, methods

commit a7173c9b1e294c3ae5d3e8062878590f71d5b84c
Author: Colin Megill <colinmegill@gmail.com>
Date:   Fri Feb 10 01:00:18 2017 -0800

    d3 rendering both paths and tips directly

commit 84658dbb041a26c0ef6807babb2d258fe3e76852
Author: Colin Megill <colinmegill@gmail.com>
Date:   Fri Feb 10 00:58:31 2017 -0800

    return flatter partial transmission list

commit 7853f12eb6fe9b1c95974b94d3ac7247c337d734
Author: Colin Megill <colinmegill@gmail.com>
Date:   Fri Feb 10 00:37:46 2017 -0800

    lowercase 'division' to match others

commit 82e50abcf4cbb19a32e2f1f5780c61dbbec34acf
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Thu Feb 9 14:10:55 2017 -0800

    Control components manage their own props
    
    No more passing ...props

commit 5c0021f5bebf2fd19f7c68a8f58ffad911e04275
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Thu Feb 9 13:18:06 2017 -0800

    choose-virus selector in sync with data

commit f5b3ee07173269beb54eed53af940ecc5d004236
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Thu Feb 9 12:14:36 2017 -0800

    App no longer passes down router
    
    All calls in code are to context.router, never props.router

commit f5b436ba101f0e882ccb48d4dad3b8f97f3165bf
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Thu Feb 9 12:02:51 2017 -0800

    App no longer stores location in state

commit 78744843852cc67be25fd1b7cd152121252cc0f9
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Thu Feb 9 10:12:21 2017 -0800

    App no longer listens to redux state
    
    Connect still used to provide this.props.dispatch

commit e55f58047aba30d6d1b37b33f0f492e3b2242f49
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Wed Feb 8 22:32:04 2017 -0800

    removed {...props} from filter components
    
    Props are type checked and explicitly passed down

commit 35920d45ef97d6f8ed2c59b8317764b521c66a31
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Wed Feb 8 22:05:47 2017 -0800

    changeRoute removed
    
    Filters are still very much broken

commit 072b2624f8a97f34e0be53963ea4351f31d858cf
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Wed Feb 8 20:55:01 2017 -0800

    Frequencies genotype prop calculated in component
    
    (moved from App)

commit acca54906a7e25779a84dca691375e5de9a2bd10
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Wed Feb 8 16:42:16 2017 -0800

    dataset selector now changes dataset but doesn't change the selector

commit f5b7c6c8711dd57f6bc4853ba3ff2c85b0b57fc4
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Wed Feb 8 15:09:01 2017 -0800

    URL parsing moved out of App.js
    
    * this brakes some things!

commit 5330389ab680e588a559a3b2fcb42bbd1b1f9e38
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Wed Feb 8 14:44:19 2017 -0800

    Initial redux state no longer in app.js
    
    * the defaults are not dispatched via actions but set as the default state in the reducer
    * URL parsing and state changes are handled by restoreStateFromURL (in util/urlHelpers.js)
    * the only URL param *not* to load from URL is tipViz (known bug)

commit b2d3ab686959e673d38245c30470452c244b56fe
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Wed Feb 8 14:17:25 2017 -0800

    rename modifyURLquery to modifyURL

commit 66497410e7bbcb730e5090cf022e44909c66c372
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Wed Feb 8 13:15:15 2017 -0800

    fixed treeView errors
    
    * toolTip wasn't being displayed
    * branch widths weren't being displayed

commit c114cf3ac8ded7f943c471b5f55dc7399cd034c0
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Wed Feb 8 11:50:27 2017 -0800

    tree re-scales on sidebar change
    
    And when browser dims change

commit 4ee75b67ce1fef4e627a57b15e5c50e0de4fcde5
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Tue Feb 7 23:17:09 2017 -0800

    RR works with dateRange, treeLayout + treeMetric
    
    manually changing URL of dateRange still broken

commit 9e0df488c8fcca36c150cc84c050d1ffefef35d7
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Tue Feb 7 22:12:00 2017 -0800

    colorBy working with RR
    
    uses "modifyURLquery" helper fn

commit a4415bf9f420cc3bc2c40a857d36ca420514c61c
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Tue Feb 7 20:48:07 2017 -0800

    fixed RR errors from sidebar (URL still broken)

commit 2892424f52fdbee028ee19aa660f900f1ae3f0c3
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Tue Feb 7 15:24:29 2017 -0800

    react-router v4 (lots broken)

commit 7ea68850966538e1ec24337b6cf7debf98a3b580
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Tue Feb 7 13:08:16 2017 -0800

    load data via "loadJSONs" action

commit 3d75fe66e387f8a11e3ea6b2916a963a4e7307ef
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Tue Feb 7 09:23:15 2017 -0800

    treeView now uses shouldComponentUpdate
    
    The click / hover logic is now in SCU
    treeView renders are now infrequent

commit 7959a634ed4826203b3eea17df5c9460374b50e4
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Mon Feb 6 22:54:39 2017 -0800

    move tipVisibility to treeView

commit ec6169e0205a87920a02d0354f63b9ea1704e84c
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Mon Feb 6 20:51:56 2017 -0800

    treeView CWRP tidied up

commit 0d432635d8e00b8ea3fe3670a7d49ee1526934e2
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Mon Feb 6 18:02:29 2017 -0800

    branchThickness now in treeView

commit 2e021445f5fb00cfe4e85e9a0984dfe50819fb30
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Mon Feb 6 17:01:56 2017 -0800

    move unused files to folder "old_code"

commit 4c50410addc01a0e222922c57a730e0ae87bc37d
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Fri Feb 3 16:17:47 2017 -0800

    colorScale moved to redux

commit 38819ec4aed8cd17a962f0c58eb6076d3e307791
Author: Colin Megill <colinmegill@gmail.com>
Date:   Mon Feb 6 20:22:46 2017 -0800

    beginning work on abstracting to controls

commit ff0971389f401fe6c9cc1615c5e5e04a1792ad80
Author: Colin Megill <colinmegill@gmail.com>
Date:   Mon Feb 6 20:21:57 2017 -0800

    set map back to half screen for deploy crunch

commit 816832f7ea6a1855050d194580647e41b312e02a
Author: Colin Megill <colinmegill@gmail.com>
Date:   Mon Feb 6 20:21:36 2017 -0800

    white space

commit 0b1f2c90f7d45732935c88e60e2c854a42213d9c
Author: Trevor Bedford <trevor@bedford.io>
Date:   Mon Feb 6 20:17:53 2017 -0800

    Include helper function to average colors

commit ca4a53e073320d4aea2fa90ac1013413a71ea581
Merge: eac681c5 939725a7
Author: Trevor Bedford <trevor@bedford.io>
Date:   Mon Feb 6 09:03:55 2017 -0800

    Merge pull request #170 from nextstrain/fix_zoom
    
    Fix zoom for terminal nodes

commit eac681c532cf6f6e1b4d1bbed0b5e5cf540ef09b
Merge: fae98268 d84b84b9
Author: Trevor Bedford <trevor@bedford.io>
Date:   Mon Feb 6 09:01:01 2017 -0800

    Merge pull request #169 from nextstrain/97-legend-collapse
    
    Make legend collapsible

commit f8e46aa065a56b481f6cde2967fa8f7b7892f128
Merge: 500af52e fae98268
Author: Colin Megill <colinmegill@gmail.com>
Date:   Mon Feb 6 00:40:47 2017 -0800

    Merge branch 'master'
    
    Conflicts:
            src/components/app.js
            src/components/map/map.js
            src/components/tree/treeView.js
            src/util/globals.js
            src/util/phyloTree.js

commit 939725a7ab980fd88998a8d7044aa73ee93eaeea
Author: Richard Neher <richard.neher@tuebingen.mpg.de>
Date:   Mon Feb 6 09:36:45 2017 +0100

    fixes zoom for terminal nodes

commit 500af52eb2b6b6fa8d4059f71900b925bc04a86c
Author: Colin Megill <colinmegill@gmail.com>
Date:   Mon Feb 6 00:24:02 2017 -0800

    delete commented out code

commit d84b84b95226254c11c246c7c5ea722efc35a8d6
Author: Trevor Bedford <trevor@bedford.io>
Date:   Sun Feb 5 13:10:06 2017 -0800

    Make legend auto show/hide based on browser width

commit fae98268aee5c863fa04beee806ccb85119e9842
Author: Trevor Bedford <trevor@bedford.io>
Date:   Sun Feb 5 12:46:44 2017 -0800

    Favor minHeight over maxAspectRatio
    
    * Fixes bug when in mobile and sidebar open

commit e6695672abe337649879b493e1864ae32a3d4dbe
Author: Trevor Bedford <trevor@bedford.io>
Date:   Sun Feb 5 12:15:40 2017 -0800

    Dynamically adjust chevron placement

commit 53851c0ae87a4378a33f161e215875c449003a45
Author: Trevor Bedford <trevor@bedford.io>
Date:   Sun Feb 5 11:55:21 2017 -0800

    Make legend collapsable
    
    * Add chevon next to legend title to show/hide legend
    * Animate transition

commit 60ffc40a0f97fc451101f73e6daf96984ce3fc35
Merge: ed0ff4c3 1e877394
Author: Trevor Bedford <trevor@bedford.io>
Date:   Sun Feb 5 09:54:42 2017 -0800

    Merge pull request #168 from nextstrain/styles-pass
    
    Styles pass

commit 1e877394a4dfc6e216c0f13886831513c491a5bf
Author: Trevor Bedford <trevor@bedford.io>
Date:   Sat Feb 4 16:23:00 2017 -0800

    Add legend title. Fixes #83.

commit e60c90c8fb4175672ea05ce32911d770826b0d60
Author: Trevor Bedford <trevor@bedford.io>
Date:   Sat Feb 4 14:39:29 2017 -0800

    Make buttons more understated

commit 4da78e576e91eae423bc1c00fd8fde6e8eb27c38
Author: Trevor Bedford <trevor@bedford.io>
Date:   Sat Feb 4 14:25:55 2017 -0800

    Dynamically size legend backing. Fixes #89.

commit 7d88a839f6a26abe493d3bc07427cdaafc7034a7
Author: Trevor Bedford <trevor@bedford.io>
Date:   Sat Feb 4 08:51:34 2017 -0800

    Layout tweaks to better fill space
    
    * Add minHeight and maxAspectRatio to compute responsive

commit 2fa10956933429430e6dc931b14db50fe2caf6ee
Author: Trevor Bedford <trevor@bedford.io>
Date:   Fri Feb 3 20:37:50 2017 -0800

    Layout adjustments

commit cd99d596a01367ede6448703dd731d441f9e0684
Author: Trevor Bedford <trevor@bedford.io>
Date:   Fri Feb 3 17:57:34 2017 -0800

    Streamline date picker style

commit 878dcfcfe98abe2c33d9a75dcfe4265d5deeadaa
Author: Trevor Bedford <trevor@bedford.io>
Date:   Fri Feb 3 17:09:02 2017 -0800

    Separate title font and style buttons
    
    * Make new titleFont param. Set to Quicksand.
    * Make headerFont Lato.
    * Style buttons with selected as filled.

commit 9b7c007978561852ffdfd6bacefff240d99a79e2
Author: Trevor Bedford <trevor@bedford.io>
Date:   Fri Feb 3 14:38:35 2017 -0800

    Font rework
    
    * Switch to Google Fonts
    * Specify dataFont and headerFont in globalStyles
    * Apply these throughout

commit 47c752a60fc20adedea2bc91487795120e41629f
Author: Trevor Bedford <trevor@bedford.io>
Date:   Fri Feb 3 12:02:06 2017 -0800

    Adjustments to line up controls

commit ed0ff4c3ccee9b8216f7fffec6aa681fbbe01f30
Author: Richard Neher <richard.neher@tuebingen.mpg.de>
Date:   Fri Feb 3 20:31:34 2017 +0100

    avoid division by zero, fixes #163

commit df5ad4b467d79334ba967f3016d263ffd7d07957
Author: Trevor Bedford <trevor@bedford.io>
Date:   Fri Feb 3 09:46:26 2017 -0800

    Styles pass
    
    * Adjust tip radius  on legend match
    * Adjust sidebar contents ordering and spacing
    * Color sidebar toggle
    * Improve slider appearance and behavior (no more overlapping handles)
    * Slight changes to tree transition durations

commit 032d5948f2e84c7dfd29fbf0fc3a3c048d0bbb0a
Merge: ee7e45b9 0d0addb3
Author: Trevor Bedford <trevor@bedford.io>
Date:   Thu Feb 2 20:39:41 2017 -0800

    Merge pull request #166 from nextstrain/165-tree-styling
    
    Color styling improvements to tips and branches

commit 0d0addb3776b34cb2d1ad4f9c0fe5f9777a248a9
Author: Trevor Bedford <trevor@bedford.io>
Date:   Thu Feb 2 17:55:26 2017 -0800

    Implement branchThickness based on global frequency

commit 6c885e77436384fb5eaa772634b3050bde3e2650
Author: Trevor Bedford <trevor@bedford.io>
Date:   Thu Feb 2 17:05:22 2017 -0800

    Color styling improvements to tips and branches

commit ee7e45b931ab141374fd6e9b3680af008f127613
Merge: b645c7ca 188fb9a1
Author: Trevor Bedford <trevor@bedford.io>
Date:   Thu Feb 2 15:23:56 2017 -0800

    Merge pull request #164 from nextstrain/fix-genotype-coloring-v2
    
    Fix color by genotype after entropy click

commit 188fb9a1cf98ff6dbf5d0aefde472aab0f1ebc2a
Author: Trevor Bedford <trevor@bedford.io>
Date:   Thu Feb 2 14:43:10 2017 -0800

    Fix color by genotype after entropy click
    
    This additionally populates the text box after entropy click

commit b645c7caf7440810b6ae8eddfb4361065aed7775
Merge: cdd96f31 2dfb2ac1
Author: Trevor Bedford <trevor@bedford.io>
Date:   Thu Feb 2 14:26:32 2017 -0800

    Merge pull request #162 from nextstrain/phylo-comments-v2
    
    Phylo comments v2

commit 2dfb2ac18abebd2336107fb3ca2805d7c27f192d
Author: Trevor Bedford <trevor@bedford.io>
Date:   Thu Feb 2 14:07:12 2017 -0800

    Fix branch and tip mouseout

commit 1948e4f957c33ff744c13c9bfdc1eaa94c0f5818
Author: Richard Neher <richard.neher@tuebingen.mpg.de>
Date:   Thu Feb 2 22:32:13 2017 +0100

    comments in phyltree

commit cdd96f312a9994cc8eea9d0b310a1f332481ceca
Merge: fa49bda7 5d2062af
Author: Trevor Bedford <trevor@bedford.io>
Date:   Thu Feb 2 13:48:26 2017 -0800

    Merge pull request #156 from nextstrain/115-changing-dataset
    
    115 changing dataset

commit 5d2062af7379b4b18b72721485433411fd1fc80d
Author: Trevor Bedford <trevor@bedford.io>
Date:   Thu Feb 2 13:34:55 2017 -0800

    Use "c" for colorBy query param and fix initial loading of colorBy

commit 2e57696f213fcfb7ee6148f83a95184cfafd70db
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Thu Feb 2 10:27:52 2017 -0800

    Fix case where request more colors than in globals
    
    * note that this solution loops back over colours, which isn't ideal
    * the legend only holds 26 items, which also isn't ideal

commit 090e877be40d4ed76d564ebcb5a6ae55349293cb
Author: Trevor Bedford <trevor@bedford.io>
Date:   Wed Feb 1 23:51:21 2017 -0800

    Redo color ramp and use for discrete atributes

commit 45f32db7b32157b210209bee82c347ecacbeac0e
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Wed Feb 1 18:53:11 2017 -0800

    provide colors for incomplete metadata colours
    
    This uses a grayscale ramp to provide colours for those countries appearing in the tree but not given colours in metadata. This is only for situations where *some* countries have been given colours.

commit fa49bda7583e2441fd204daaa38af7a3e6dd7874
Author: Trevor Bedford <trevor@bedford.io>
Date:   Wed Feb 1 17:51:53 2017 -0800

    Revert "Streamline "colorBy" query param to just "c""
    
    This reverts commit 08f506942485ad63cd5b89fd7fb8475565812731.

commit 08f506942485ad63cd5b89fd7fb8475565812731
Author: Trevor Bedford <trevor@bedford.io>
Date:   Wed Feb 1 17:51:53 2017 -0800

    Streamline "colorBy" query param to just "c"

commit 88886e32b793a1d726f512dbbb66f92c029ed85f
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Wed Feb 1 17:38:00 2017 -0800

    remove more unused color-related code

commit a06312c77f7a746b39b16bf83504af0a2edd5641
Merge: 6976cbd9 ebacedfd
Author: Trevor Bedford <trevor@bedford.io>
Date:   Wed Feb 1 17:36:08 2017 -0800

    Merged branch remove-npm-cruft into master

commit f76d2780d33c7820f274016b7f44b0b039192b81
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Wed Feb 1 17:11:58 2017 -0800

    remove dayasets.yaml
    
    we currently use a hard-coded version and will move to parsing a JSON in the data directory

commit 645bfbe12bbb9ed2ee460c27221abf765a80df5b
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Wed Feb 1 17:08:54 2017 -0800

    colorBy router updates now happen in the reducer

commit 74bbfa7d1181f3825b63a0eb463ee783b1696989
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Wed Feb 1 16:24:20 2017 -0800

    Code removal related to color scales

commit 0ea86e6d14e81beb83223973c514e6ce500e5537
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Wed Feb 1 16:23:33 2017 -0800

    Color Scales work when not supplied in JSON
    
    * Branch inference isn't done - so the branches have "unknown" color if the attribute isn't set for them in the tree JSON
    * Router parsing of colorBy queries doesn't work so you must manually set the "color by" in the sidebar

commit c8968db71f7f5735c174ed42f8854b79e58fddf0
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Tue Jan 31 17:30:23 2017 -0800

    Turn off confidence intervals
    
    To be implemented on a separate branch

commit 6976cbd9c390234b4b7264364a964c78ea2c8260
Merge: e88502d7 566256a7
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Tue Jan 31 17:19:26 2017 -0800

    Merge pull request #155 from nextstrain/151-console-errors
    
    fixed console errors

commit c3b352fa2f69f6d558b17efa869573cd8d039818
Author: Colin Megill <colinmegill@gmail.com>
Date:   Tue Jan 31 15:39:20 2017 -0800

    animation working

commit 566256a7583faf7e61e6f1ee651956f39a2bd8c7
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Fri Jan 27 16:30:13 2017 -0800

    minor tree type-error fix

commit 2b270a7f2fa39362e40f1a5a78a2bf0d8e0908d8
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Fri Jan 27 16:29:33 2017 -0800

    Tree CI errors fixed. Closes #151

commit 5ab8f6fdd0d3c35814e1de2f96ba13c63e8387cb
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Fri Jan 27 15:23:19 2017 -0800

    all svg items are cleared on dataset change
    
    * allows cleaner inspection of the DOM
    * grid elements now in a group

commit e88502d76b759d0b2fe60f67c0e1144da90dbfd3
Merge: bf8cdfb9 f9afe153
Author: Trevor Bedford <trevor@bedford.io>
Date:   Tue Jan 31 15:22:32 2017 -0800

    Merge branch '124-react-router'
    
    Conflicts:
            src/components/controls/choose-layout.js
            src/components/controls/choose-metric.js

commit bf030bcd8c135313dd5b133e7ba58b116f308555
Author: Colin Megill <colinmegill@gmail.com>
Date:   Sun Jan 29 12:42:29 2017 -0800

    lat long

commit f9afe1535dbd07473548e32c9c898193eafedfa0
Author: Trevor Bedford <trevor@bedford.io>
Date:   Sun Jan 29 09:45:40 2017 -0800

    Move colorBy query param to redux
    
    This was a bit more involved than layout, dmin, etc...
    
    * The colorScale state in App was kind of mess. It was getting recomputed every render pass via componentWillReceiveProps. I removed state for the moment, creating colorScale on render. Suggest recreating a saner state of colorScale via redux.
    * There are still a couple load bugs (notably when trying to reload a genotype coloring from query params), but nothing that wasn't there before.

commit 1ca44d80204a03f9c56043dffcd145fa5fc89abf
Author: Trevor Bedford <trevor@bedford.io>
Date:   Sat Jan 28 12:47:40 2017 -0800

    Update dmin and dmax independently
    
    Also fix calendar / numeric date conversion.

commit ebacedfd0ba3ddc91bd826de2629f7854df7c607
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Sat Jan 28 11:57:45 2017 -0800

    remove more unused npm packages

commit 6a7a591f2400eeff68146e8619762a6dffb5a181
Author: Trevor Bedford <trevor@bedford.io>
Date:   Sat Jan 28 11:40:17 2017 -0800

    Streamline naming of layouts.
    
    * "Rectangular" query param becomes "rect"
    * "RootToTip" query param becomes "clock"

commit 3b5913ac0115f80e1a64605761b1aa408e359310
Author: Trevor Bedford <trevor@bedford.io>
Date:   Sat Jan 28 11:14:03 2017 -0800

    Convert from numDates to calendarDates. Fixes #119.

commit 3c55f130e2ddeb421de8c9e1e72bde99f07fe3ab
Author: Trevor Bedford <trevor@bedford.io>
Date:   Sat Jan 28 09:56:15 2017 -0800

    Move dmin and dmax to redux and react-router

commit d6c54a8bd77820bfbf406ddb0cee493f614e77d5
Author: Trevor Bedford <trevor@bedford.io>
Date:   Fri Jan 27 20:45:23 2017 -0800

    Manage distance measure state and query params

commit 1740eb523bac387bd4c4e01e9d77640a8773e087
Author: Trevor Bedford <trevor@bedford.io>
Date:   Fri Jan 27 20:24:14 2017 -0800

    Manage layout state and query params with redux + react-router

commit f801aabb55323de18efe6b0bb3648c78583cd195
Author: Trevor Bedford <trevor@bedford.io>
Date:   Fri Jan 27 15:59:35 2017 -0800

    Move layout to redux store. Fixes #150.

commit df54b8d20443ad1fa257674ff46dfbc86488fc30
Author: Trevor Bedford <trevor@bedford.io>
Date:   Thu Jan 26 18:32:37 2017 -0800

    Remove unused npm packages

commit bf8cdfb96e2d45565d1cc129566a64e1d2a813b9
Merge: a953454f ce03c926
Author: Trevor Bedford <trevor@bedford.io>
Date:   Thu Jan 26 17:55:39 2017 -0800

    Merged branch 113-calendar into master

commit ce03c9263bb7b850d33bc1cac6746031e7b95249
Author: Trevor Bedford <trevor@bedford.io>
Date:   Thu Jan 26 17:55:23 2017 -0800

    Switch sidebar date format to YYYY-MM-DD. Fixes #113.

commit a953454fe00e3012650f86c10204d17e11e51022
Merge: ea76c7ab ee8fbdc3
Author: Trevor Bedford <trevor@bedford.io>
Date:   Thu Jan 26 17:32:31 2017 -0800

    Merged branch 118-divergence into master

commit ee8fbdc37baa9e196644ffe54ba638d10062d719
Author: Trevor Bedford <trevor@bedford.io>
Date:   Thu Jan 26 17:32:00 2017 -0800

    Adjust sidebar naming. Fixes #118.

commit 25635ccb689bd9c618d5065b104deb3ee2f0973b
Author: Trevor Bedford <trevor@bedford.io>
Date:   Thu Jan 26 16:47:51 2017 -0800

    Route to app using react router. Closes #124.

commit ea76c7ab342d9658359458340f1aea9c6327c026
Merge: 04993713 9688cabf
Author: james hadfield <jameshadfield@users.noreply.github.com>
Date:   Thu Jan 26 14:46:24 2017 -0800

    Merge pull request #147 from nextstrain/139-infobox
    
    infopanel improvements

commit 9688cabf6109df00d8df5ab6bf59fcac60fe2500
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Thu Jan 26 14:41:19 2017 -0800

    infoPanel dissapears on mouseout, closes #130

commit b4d677b31d107801da7092e25d316b4fe2ddff2f
Author: James Hadfield <jh22@sanger.ac.uk>
Date:   Thu Jan 26 14:18:45 2017 -0800

    Infopanel (reset removed, zoom is link), closes #139

commit 12e9e99be42cb274f7e7d0bae340087731aa03e4
Author: Colin Megill <colinmegill@gmail.com>
Date:   Tue Jan 24 12:49:27 2017 -0800

    fix console error from incorrect ordering of conditionals

commit f67194ff143fdf6bf9ad42a9ae1c8b7ec636333a
Author: Colin Megill <colinmegill@gmail.com>
Date:   Tue Jan 24 12:48:59 2017 -0800

    animation progress via redux

commit a553bf0a40ae8b8878426cf28e63bb5849045c88
Author: Colin Megill <colinmegill@gmail.com>
Date:   Tue Jan 24 12:48:43 2017 -0800

    break out latlong into its own helper, d3ify map

commit 240fdf9de6bb8dd6d2fde53de5cba252a62e399d
Author: Colin Megill <colinmegill@gmail.com>
Date:   Tue Jan 24 12:48:03 2017 -0800

    change animation duration

commit 12a6a95509261c34365541d81f68f8070a01cea6
Author: Colin Megill <colinmegill@gmail.com>
Date:   Tue Jan 24 12:47:50 2017 -0800

    move animation out of app into map

commit 51cc119924d0aa46516db8066092799cbb6638b2
Author: Colin Megill <colinmegill@gmail.com>
Date:   Tue Jan 24 12:47:26 2017 -0800

    comment out console for now

commit 7f044046925116ba780537f33f9e3cea426d7232
Author: Colin Megill <colinmegill@gmail.com>
Date:   Fri Jan 20 01:38:00 2017 -0500

    time bar

commit 3893881b6b4fa8710eea3506be53f383bce89785
Author: Colin Megill <colinmegill@gmail.com>
Date:   Thu Jan 19 21:12:21 2017 -0500

    red line

commit ca95fac3355074b692b1201d7464c88e925b8e79
Author: Colin Megill <colinmegill@gmail.com>
Date:   Thu Jan 19 21:10:47 2017 -0500

    click handler in map setState in animation in app

commit f6f8ac3457e6b205bc12b3f7d4dbab7a422b430d
Author: Colin Megill <colinmegill@gmail.com>
Date:   Thu Jan 19 14:43:45 2017 -0500

    D3 drawing circles

commit 88982bec4e812390896708b04b1d500984662795
Author: Colin Megill <colinmegill@gmail.com>
Date:   Sun Jan 8 14:54:38 2017 -0500

    map clears and resets on dataset change, closes #76 closes #74

commit 5080b5da29aa5b23c52f48917b67a806b0425f05
Author: Colin Megill <colinmegill@gmail.com>
Date:   Sun Jan 8 14:11:36 2017 -0500

    pass guid to map so it is aware of dataset

commit 8732b3b77440efbfe35b4817ae12790b64a5a2ba
Author: Colin Megill <colinmegill@gmail.com>
Date:   Sun Jan 8 14:11:16 2017 -0500

    add dataset guid null to map state, like we do in tree

commit 049937139090c28d9e62b0a82fef0a072930caae
Merge: f95e32cc ce738264
Author: Colin Megill <colinmegill@gmail.com>
Date:   Tue Jan 3 12:12:57 2017 -0500

    Merge pull request #106 from nextstrain/fix_legend_zoom
    
    Fix legend zoom

commit ce738264071f5f94c7e00210d44df512f492fb09
Merge: eb21996e b112dafb
Author: Richard Neher <richard.neher@tuebingen.mpg.de>
Date:   Sun Jan 1 17:55:12 2017 +0100

    Merge branch 'confidence' into fix_legend_zoom

commit b112dafbe6b2c021328d02f7420944f06cd5c2c8
Author: Richard Neher <richard.neher@tuebingen.mpg.de>
Date:   Sun Jan 1 17:52:46 2017 +0100

    spec confidence in treeview

commit eb21996e0b68d29c89b76b5f3bab1e5802ab40ae
Author: Richard Neher <richard.neher@tuebingen.mpg.de>
Date:   Sun Jan 1 17:47:48 2017 +0100

    specify confidence as option

commit f794244803bef6dfc1658950f88307a627e09bc5
Author: Richard Neher <richard.neher@tuebingen.mpg.de>
Date:   Sun Jan 1 17:41:41 2017 +0100

    first shot at confidence intervals

commit d5b9faee73cb27d3e3edfedc99010b5a65e40ef2
Author: Richard Neher <richard.neher@tuebingen.mpg.de>
Date:   Sun Jan 1 17:38:25 2017 +0100

    fixed typo in phylotree Math.Pi -> Math.PI

commit 4796f4434d3c3a838a8ca85e5dc0f6921f31be5b
Author: Richard Neher <richard.neher@tuebingen.mpg.de>
Date:   Sat Dec 31 20:54:58 2016 +0100

    tree reloading only when necessary

commit 6e015f7812b94e95d4adf0c0d81c09d1cd9c12ec
Author: Richard Neher <richard.neher@tuebingen.mpg.de>
Date:   Sat Dec 31 20:41:51 2016 +0100

    map circle radius to sqrt of count + offset

commit 1559c3cb8a91e3b9905065362c5a06cc05cb2bc4
Author: Richard Neher <richard.neher@tuebingen.mpg.de>
Date:   Sat Dec 31 20:37:17 2016 +0100

    format numeric legend, parse colormaps from metadata.color_options

commit 51a5aad6f843b080f677f4aff58420dd9ad03aa6
Author: Richard Neher <richard.neher@tuebingen.mpg.de>
Date:   Sat Dec 31 18:37:40 2016 +0100

    avoid zoom into terminal node, zoom into parent instead

commit f95e32ccf812fc065e49ec0a913f7e691658ef75
Merge: 592c406e 12ad8715
Author: Colin Megill <colinmegill@gmail.com>
Date:   Fri Dec 30 17:40:19 2016 -0500

    Merge pull request #101 from nextstrain/single-column
    
    Pixel based responsive panel layout

commit 12ad87154526648fce025046908649ad92205cf5
Author: Colin Megill <colinmegill@gmail.com>
Date:   Fri Dec 30 17:39:35 2016 -0500

    Remove logs, entropy always 1

commit 03055dddeb84dfe819d43cbab78c54d9408caf37
Author: Colin Megill <colinmegill@gmail.com>
Date:   Fri Dec 30 17:39:02 2016 -0500

    make entropy line up

commit 136fc05f790e82595d29dd455bf661d8b78528f4
Author: Trevor Bedford <trevor@bedford.io>
Date:   Fri Dec 30 13:43:43 2016 -0800

    Fix OSX scrollbar issue

commit 43c20b039ed4234086188944bec71c00eb1d2d58
Author: Colin Megill <colinmegill@gmail.com>
Date:   Fri Dec 30 15:38:03 2016 -0500

    Responsive 2.0

commit 438d15d5f1246febec62994686f40631f8185613
Author: Colin Megill <colinmegill@gmail.com>
Date:   Fri Dec 30 15:37:48 2016 -0500

    remove div structure on app

commit eef9536f1bfe688757dde6408e5ffb362fc66181
Author: Colin Megill <colinmegill@gmail.com>
Date:   Fri Dec 30 15:37:30 2016 -0500

    entropy now full width

commit 0d086f9cad826d77caefb4ef9ddf9514b2cb86e3
Author: Colin Megill <colinmegill@gmail.com>
Date:   Fri Dec 30 15:37:07 2016 -0500

    Background is 100% of document height

commit 10110a68c6b3c09c4c119e4dcd95c43459af8f55
Author: Colin Megill <colinmegill@gmail.com>
Date:   Tue Dec 27 17:48:54 2016 -0500

    Responsive v1.2

commit 4a75d6394f1c602daec56acb84c54d440b9d89a8
Author: Colin Megill <colinmegill@gmail.com>
Date:   Tue Dec 27 12:44:30 2016 -0500

    card becomes inline block

commit 5922f385a39e9252300265265142e7a761c369c2
Author: Colin Megill <colinmegill@gmail.com>
Date:   Tue Dec 27 12:44:19 2016 -0500

    wrap tree in spans for inline

commit b734e302d940f73863cc0c15ad1092127051620a
Author: Colin Megill <colinmegill@gmail.com>
Date:   Tue Dec 27 10:47:16 2016 -0500

    removing excess div

commit c4796d9a475b80defb4058bf265d829a6a3c73bf
Author: Colin Megill <colinmegill@gmail.com>
Date:   Thu Dec 22 00:09:24 2016 -0500

    adding div id's for testing purposes

commit 7cb968b05575d5844fcf94df9763388bdd856073
Author: Colin Megill <colinmegill@gmail.com>
Date:   Wed Dec 21 23:06:21 2016 -0500

    squash react errors after removing production flag

commit c28e59e4b4cef5460b1c43b0f06d48c4d43ff263
Author: Colin Megill <colinmegill@gmail.com>
Date:   Wed Dec 21 19:46:15 2016 -0500

    row vs column in app flex based on browser width

commit eedc5a3aadacf22d71186073cf97f18eb6389caa
Author: Colin Megill <colinmegill@gmail.com>
Date:   Wed Dec 21 19:44:39 2016 -0500

    conditional horizontal width based on browser size on tree (columns)

commit 46187ae67c86b879e8c693d049f539dd1a4c7396
Author: Colin Megill <colinmegill@gmail.com>
Date:   Wed Dec 21 19:34:13 2016 -0500

    add two column breakpoint to globals

commit 212ad036424f65bfa4ae9e049f0706a97c944e9f
Author: Colin Megill <colinmegill@gmail.com>
Date:   Tue Dec 20 14:57:51 2016 -0500

    throttle resize handler, resize tree on resize browser

commit 9ee0a77e1fae9f8131fa0532e70063496f279bfb
Author: Colin Megill <colinmegill@gmail.com>
Date:   Sat Dec 17 15:49:22 2016 -0500

    responsive v1.1

commit 45b76a19bc87418e57da3daa96cc661d7505476c
Author: Colin Megill <colinmegill@gmail.com>
Date:   Thu Dec 15 11:44:10 2016 -0600

    Responsive v1

commit 9969e34bd17f422a35d9dbd4178e307da3ae54a1
Author: Colin Megill <colinmegill@gmail.com>
Date:   Mon Nov 28 18:17:04 2016 -0800

    naive two column

commit 84c7c367b3f51fdef2bd1674ea70ac5d65f35467
Author: Colin Megill <colinmegill@gmail.com>
Date:   Mon Nov 28 12:53:54 2016 -0800

    overflow on card

commit 34290859b88146f9553f2a3e52da230e583315ee
Author: Colin Megill <colinmegill@gmail.com>
Date:   Thu Dec 15 02:27:58 2016 -0600

    responsive map height v1

commit 671b02c1a7292522dbd77fc0f00421fa61d9fe59
Author: Colin Megill <colinmegill@gmail.com>
Date:   Fri Dec 9 02:33:33 2016 -0800

    height calculated based on innerHeight

commit 7996ea1810d87dc62fe986c73fd198abfd1f8773
Author: Colin Megill <colinmegill@gmail.com>
Date:   Thu Dec 8 02:07:28 2016 -0800

    resize listener now connected to global state

commit 88b54779363fc4df8e9c247f1f8b5bebfbc3f37a
Author: Colin Megill <colinmegill@gmail.com>
Date:   Thu Dec 8 00:32:02 2016 -0800

    add sleep

commit 592c406ed62ed4968789525b6871ca278fcde981
Author: Trevor Bedford <trevor@bedford.io>
Date:   Wed Nov 30 16:46:03 2016 -0500

    Move webpack build to follow npm install

commit de5be6a5c72a00524e0c6bebd423284a600bdf8d
Author: Colin Megill <colinmegill@gmail.com>
Date:   Wed Nov 30 12:44:53 2016 -0800

    fetch polyfill

commit a9185440004f9fff6894aa7769d2d95c0d1aafd2
Author: Trevor Bedford <trevor@bedford.io>
Date:   Wed Nov 30 13:39:32 2016 -0500

    Move express back to devDependencies

commit 7fd28276dc35ad77947e6a62837bf16303654174
Author: Trevor Bedford <trevor@bedford.io>
Date:   Wed Nov 30 11:31:52 2016 -0500

    Allow port to be set by heroku

commit 1e95150c68b02c68d1b48734175aa9f81b2cb971
Author: Trevor Bedford <trevor@bedford.io>
Date:   Wed Nov 30 11:24:11 2016 -0500

    Build bundle.js when running production

commit a9b15a957ba6e92a53e23848b3daae8fda1941f2
Author: Trevor Bedford <trevor@bedford.io>
Date:   Wed Nov 30 11:21:51 2016 -0500

    Change production port to 8080

commit 17fbe1a9d2360672fa10c87119bb0f4d3b019265
Author: Trevor Bedford <trevor@bedford.io>
Date:   Wed Nov 30 11:17:44 2016 -0500

    Update to use production server and local data

commit acef1327299a89fb5e1a84321cde76af5b77f5f6
Author: Trevor Bedford <trevor@bedford.io>
Date:   Wed Nov 30 09:53:46 2016 -0500

    Fix shell script call

commit 3ea65ed15fd1b23adc5a4fb4e9f98d0834f39b14
Author: Trevor Bedford <trevor@bedford.io>
Date:   Wed Nov 30 09:49:04 2016 -0500

    Include fetchAndStart command and include heroku Procfile

commit b3c78993cab2b4757bfef6a65ab1366f6055e88f
Author: Trevor Bedford <trevor@bedford.io>
Date:   Wed Nov 30 09:38:26 2016 -0500

    Add express to dependencies for heroku deploy

commit df068a32bab13e30404e2195182719a7df71cddc
Merge: db60f655 c237b1b2
Author: Colin Megill <colinmegill@gmail.com>
Date:   Mon Nov 28 12:53:15 2016 -0800

    Merge pull request #91 from nextstrain/sidebar-close-tab
    
    Toggle sidebar

commit c237b1b2437d4ca9c33b6efaa6eda50b2a3b9e80
Author: Colin Megill <colinmegill@gmail.com>
Date:   Mon Nov 28 11:05:09 2016 -0800

    toggle sidebar works

commit 449f0286c48fe46d5dad2ea80b32a743bd867836
Author: Colin Megill <colinmegill@gmail.com>
Date:   Mon Nov 28 11:04:56 2016 -0800

    fix eslint multispace error

commit 81bc3209b0fa9927062d15402d1d6f4dab52771b
Merge: 7189e0de dbc6014b
Author: Colin Megill <colinmegill@gmail.com>
Date:   Mon Nov 28 09:04:41 2016 -0800

    Merged branch sidebar-close-tab into sidebar-close-tab

commit 7189e0de27a79e03267bbfed230f4f9a0a8c3123
Author: Colin Megill <colinmegill@gmail.com>
Date:   Mon Nov 28 09:03:58 2016 -0800

    open close functionality working

commit dbc6014bca5af045205f242fb8d6d3d60bfb744c
Author: Colin Megill <colinmegill@gmail.com>
Date:   Mon Nov 28 09:03:58 2016 -0800

    functionality working

commit db60f6553609326d0e6c9afaa4e019d76924cfbf
Merge: e523de80 0736b5ef
Author: Richard Neher <richard.neher@tuebingen.mpg.de>
Date:   Mon Nov 28 07:51:42 2016 -0800

    Merge pull request #90 from nextstrain/unrooted
    
    Unrooted layout & infopanel

commit 0736b5efd258f51dba489e95d4cf9bc9b4607081
Author: Richard Neher <richard.neher@tuebingen.mpg.de>
Date:   Sun Nov 27 08:26:34 2016 -0800

    added draft of root to tip button

commit b2b432a6820777a29589a66796ec0dd9ee1f9bbc
Author: Richard Neher <richard.neher@tuebingen.mpg.de>
Date:   Sat Nov 26 12:40:38 2016 -0800

    don't setDistance when switching to rootToTip to maintain consistency with qparams

commit 96a2c98d15dbd3cfdae1c4c127bc076a9925edbb
Author: Richard Neher <richard.neher@tuebingen.mpg.de>
Date:   Sat Nov 26 12:02:24 2016 -0800

    forcing unrooted square (not optimal, but correct) and allow zoom into radial. reset layout on dismiss

commit cf51fb8703d5f53d3fc0290b41af1573eafa4dd1
Author: Richard Neher <richard.neher@tuebingen.mpg.de>
Date:   Sat Nov 26 11:29:02 2016 -0800

    zoom works for rectangular

commit bcda98f8be5622b22367ba51e69f4278c85248b6
Author: Richard Neher <richard.neher@tuebingen.mpg.de>
Date:   Fri Nov 25 22:18:07 2016 -0800

    cursor -> pointer on hover

commit c1b9235e8001cefb1ee098ef5c855e1e1dcf8eec
Author: Richard Neher <richard.neher@tuebingen.mpg.de>
Date:   Fri Nov 25 22:09:28 2016 -0800

    conditionals for selection

commit 361cc0d6880832742506224d39024b9e90bbefa9
Merge: 31309748 ea9828c0
Author: Richard Neher <richard.neher@tuebingen.mpg.de>
Date:   Fri Nov 25 22:01:05 2016 -0800

    merged

commit 31309748e2ec2c245a7f221ad075801bb7d02179
Author: Richard Neher <richard.neher@tuebingen.mpg.de>
Date:   Fri Nov 25 21:58:58 2016 -0800

    selection of branches and tips now utilizes element IDs

commit ea9828c09289d9bf9ee9384bfc7c44504550847a
Author: Colin Megill <colinmegill@gmail.com>
Date:   Fri Nov 25 19:48:13 2016 -0800

    infopanel hover & click feature complete

commit 1b1c952e19f5e4a17b594ae3eb39cae1b35051e9
Author: Richard Neher <richard.neher@tuebingen.mpg.de>
Date:   Thu Nov 24 12:01:51 2016 -0800

    put map back

commit c564cda4fc38052ee31d4daaf055277a03c4ee80
Merge: fc50bbf5 37f586b1
Author: Richard Neher <richard.neher@tuebingen.mpg.de>
Date:   Thu Nov 24 11:54:39 2016 -0800

    merged legend tool tips

commit 37f586b106d94b2d3fb7db6674584877f3878816
Author: Colin Megill <colinmegill@gmail.com>
Date:   Thu Nov 24 00:08:38 2016 +0000

    only setstate hover if there isn't a click

commit 6db2083b9c7ceb7167d0621cea834813b7d66f72
Author: Colin Megill <colinmegill@gmail.com>
Date:   Thu Nov 24 00:07:17 2016 +0000

    expand conditions in treeview to evaluate additional click states

commit d0b645a9a515ab56bae5c6490739249679f06466
Author: Colin Megill <colinmegill@gmail.com>
Date:   Thu Nov 24 00:02:32 2016 +0000

    conditionally render an x in panel

commit 1fd1e81e00fca71979727e5f4c7835135689cdd0
Author: Colin Megill <colinmegill@gmail.com>
Date:   Wed Nov 23 23:32:25 2016 +0000

    bind callback passed to infopanel

commit 5732ba6b3560ae742319a7a97cbac75b3e5f6a92
Author: Colin Megill <colinmegill@gmail.com>
Date:   Wed Nov 23 23:32:02 2016 +0000

    comments & legibility in phyloTree

commit b42102d215e222e815602cc59a338ce9b6e44881
Author: Colin Megill <colinmegill@gmail.com>
Date:   Wed Nov 23 22:23:00 2016 +0000

    condense arguments in preparation for abstracting hover/click

commit 12418e631840fa222c58142468a1e761741ef60c
Author: Colin Megill <colinmegill@gmail.com>
Date:   Wed Nov 23 22:08:20 2016 +0000

    kill react error when click is null and there is no x on panel

commit 67e7f7fdd7fa11c294b1397cd3a0dea201eec865
Author: Colin Megill <colinmegill@gmail.com>
Date:   Wed Nov 23 21:52:40 2016 +0000

    set hovered to null if click

commit 04615022ae97b2f3ea948c750c1bfef01e4fd66b
Author: Colin Megill <colinmegill@gmail.com>
Date:   Wed Nov 23 21:50:18 2016 +0000

    Pass callback to infopanel

commit 5c96e44cb24185568bf9c1f00cbf4714578df689
Author: Colin Megill <colinmegill@gmail.com>
Date:   Wed Nov 23 21:48:01 2016 +0000

    test oldselected value

commit 79c3bd7f7786ab31471306bd601b44ad99bdc478
Author: Colin Megill <colinmegill@gmail.com>
Date:   Wed Nov 23 21:46:25 2016 +0000

    dismiss click selection in tree from infopanel callback

commit 4e636cc7df6d35179f02bde8068aa630cddccd5f
Author: Colin Megill <colinmegill@gmail.com>
Date:   Wed Nov 23 19:38:09 2016 +0000

    hover selects node or branch with dotted lines

commit 55701185b3eb5a1517c6985905d907877ab878d7
Merge: cc4865f6 fffdfcf6
Author: Colin Megill <colinmegill@gmail.com>
Date:   Wed Nov 23 15:06:53 2016 +0000

    Merged branch local_data into legend-tooltip

commit cc4865f6310561c81e0098a9bada8ff7b8f13676
Author: Colin Megill <colinmegill@gmail.com>
Date:   Wed Nov 23 15:06:37 2016 +0000

    partway through select work, not abstracted yet

commit 7ae812e0cd3e250027fc688dd76b2cffb23dbf56
Author: Colin Megill <colinmegill@gmail.com>
Date:   Wed Nov 23 11:05:58 2016 +0100

    branch and tip hover populate infopanel, working on dash highlights

commit fc50bbf5e1d09908be2209450c6c3264f298e98c
Author: Richard Neher <richard.neher@tuebingen.mpg.de>
Date:   Mon Nov 21 10:35:06 2016 -0800

    unrooted layout

commit 058181d102bbe6b5edecdd344daee090e82c679f
Merge: 19b12306 01045939
Author: Richard Neher <richard.neher@tuebingen.mpg.de>
Date:   Sat Nov 19 22:36:14 2016 -0800

    Merge branch 'radium_prune' into yaxis

commit 01045939c5369659232a33b2e06b810999467443
Author: Richard Neher <richard.neher@tuebingen.mpg.de>
Date:   Sat Nov 19 22:34:39 2016 -0800

    make metadata available in frequency chart

commit f6c4302c9d26f567b8d591c80d7e63016de63592
Author: Richard Neher <richard.neher@tuebingen.mpg.de>
Date:   Sat Nov 19 22:22:32 2016 -0800

    another..

commit d26858f81f7fd7fd83336ac57e04f5ee354ef25b
Author: Richard Neher <richard.neher@tuebingen.mpg.de>
Date:   Sat Nov 19 22:21:49 2016 -0800

    removed a lot of radium and other cruft

commit 19b12306c341a007c7f828da43f6e1c4d9c4549d
Author: Richard Neher <richard.neher@tuebingen.mpg.de>
Date:   Sat Nov 19 21:36:42 2016 -0800

    coding style/comments

commit b4b74a8690f676aa5ab117a1886de4cdc45c7490
Author: Richard Neher <richard.neher@tuebingen.mpg.de>
Date:   Sat Nov 19 21:13:58 2016 -0800

    this forces the regression to run through the root

commit fe106ac1ca9635a0b6b88545bc6931e867b582fd
Author: Richard Neher <richard.neher@tuebingen.mpg.de>
Date:   Sat Nov 19 12:49:50 2016 -0800

    first stab at yaxis and tootToTip regression

commit e523de800deb72ba622c8fff9b5424fafa7cbccf
Author: Richard Neher <richard.neher@tuebingen.mpg.de>
Date:   Sat Nov 19 11:11:38 2016 -0800

    added default params struct to phylotree

commit 0f9766bc141d00a96716e0f17734a5b05d9b1440
Author: Colin Megill <colinmegill@gmail.com>
Date:   Wed Nov 16 21:56:31 2016 +0100

    info panel with tip hover

commit 85014f8b497bf6681669e3a08c509e0c0d6f820c
Author: Richard Neher <richard.neher@tuebingen.mpg.de>
Date:   Sun Nov 13 19:30:24 2016 -0800

    fixed path truncation

commit ab9102aed82a703b9e284b46690c6178c27f38a9
Author: Colin Megill <colinmegill@gmail.com>
Date:   Sun Nov 13 16:13:02 2016 +0000

    First pass at tooltip, hardcoded svg width and content

commit fffdfcf6484f522dafb6d9ff670e36c80f8c0046
Author: Colin Megill <colinmegill@gmail.com>
Date:   Sun Nov 13 11:59:53 2016 +0100

    local zika, not generalized to all datasets yet

commit f363ee50a72237969507c6ae782106782ac014ba
Merge: 81dc4d4d 3b4a194c
Author: Colin Megill <colinmegill@gmail.com>
Date:   Sun Nov 13 06:47:59 2016 -0800

    Merge pull request #88 from nextstrain/pure_js_tree
    
    js tree with zoom

commit 3b4a194c3c9cc7cf02557467d242a80a66cd1e12
Author: Colin Megill <colinmegill@gmail.com>
Date:   Sun Nov 13 14:47:29 2016 +0000

    cleanup

commit 51c7c9123d4b2e87580353032d90d8cfd861204a
Author: Colin Megill <colinmegill@gmail.com>
Date:   Sun Nov 13 14:18:05 2016 +0100

    unrooted icon

commit 6bdc4f5648cce5110b61c7a21b43da23a8dfa52d
Author: Colin Megill <colinmegill@gmail.com>
Date:   Sun Nov 13 13:57:16 2016 +0100

    fixes pan and zoom by attaching tree to internal svg group

commit 4e9e47333f68361589d56eb4c7d0dc69b63a228f
Author: Richard Neher <richard.neher@tuebingen.mpg.de>
Date:   Sat Nov 12 17:15:19 2016 -0800

    NO MORE GHOSTS

commit 2d552f1e3a274b1892f85daf2f65bd9f9a7b33b8
Author: Richard Neher <richard.neher@tuebingen.mpg.de>
Date:   Sat Nov 12 12:00:45 2016 -0800

    another stab at the initial coloring

commit 87f28738741af9754ddef333a5f4afa4e1025bea
Author: Richard Neher <richard.neher@tuebingen.mpg.de>
Date:   Sat Nov 12 09:46:53 2016 -0800

    assign node color with function rather than state, fixes initial lack of color

commit 6c322fd4b2c3146dd35dd2333e4a2499db483c9d
Author: Richard Neher <richard.neher@tuebingen.mpg.de>
Date:   Sat Nov 12 07:56:15 2016 -0800

    added root to tip plot, button needs styling

commit 4631f92be89fed20aea0de00b59aa809ad4660ae
Author: Richard Neher <richard.neher@tuebingen.mpg.de>
Date:   Sat Nov 12 07:31:36 2016 -0800

    read color options from meta, fixes #62

commit fcd9ed4ce6d4cb0cbaba290208a1f8c026175107
Author: Richard Neher <richard.neher@tuebingen.mpg.de>
Date:   Fri Nov 11 22:12:17 2016 -0800

    only render frequencies when specified in meta

commit fc8c778daec783325b46f623be2395da3d15b034
Author: Richard Neher <richard.neher@tuebingen.mpg.de>
Date:   Fri Nov 11 21:04:05 2016 -0800

    DD/MM/YYYY date, fixed #84

commit 9d2e83e45dcdd686ab6ea34fa49661d873c9c114
Author: Richard Neher <richard.neher@tuebingen.mpg.de>
Date:   Fri Nov 11 20:56:53 2016 -0800

    made radial-tree square, fixed #86

commit 970d385b0e5cba76c3ff8de8e7c32848014a9982
Author: Richard Neher <richard.neher@tuebingen.mpg.de>
Date:   Fri Nov 11 19:59:15 2016 -0800

    grid now under the tree, fixed #85

commit 35cb89b0194781865255bf2f7550b06066dd5b62
Author: Richard Neher <richard.neher@tuebingen.mpg.de>
Date:   Fri Nov 11 18:57:50 2016 -0800

    mostly fixed the layering problem

commit 13e5ca975b703afb6e730cf6a098d4909e8fa71e
Author: Colin Megill <colinmegill@gmail.com>
Date:   Fri Nov 11 14:19:16 2016 -0800

    center tree

commit 77e3de8b059be71da6d70f855d39e3fe1e272779
Author: Colin Megill <colinmegill@gmail.com>
Date:   Fri Nov 11 12:31:50 2016 -0800

    Clean up console

commit 628cddda320caf56aa7c9de1b81195f162f7f867
Author: Richard Neher <richard.neher@tuebingen.mpg.de>
Date:   Fri Nov 11 09:58:03 2016 -0800

    remove log statements

commit 83620018eadd6aed4b90b0e5a14d03a81b0628e2
Merge: 82e48740 81dc4d4d
Author: Richard Neher <richard.neher@tuebingen.mpg.de>
Date:   Fri Nov 11 09:53:28 2016 -0800

    merged master into pure_js, adapted grid and option handling

commit 82e48740b15da0f3b7c6b08b9ac6d6d9cff167f3
Merge: aa0563cd 3d307308
Author: Richard Neher <richard.neher@tuebingen.mpg.de>
Date:   Fri Nov 11 09:44:40 2016 -0800

    merged viewer fix, put legend on top

commit 3d30730815a9a5877a5bad07a6beaef4d41a542a
Author: Colin Megill <colinmegill@gmail.com>
Date:   Fri Nov 11 01:38:21 2016 -0800

    add comments for refs

commit 40805b72d3ea29f9200d31a3cab9c385b1468c4c
Author: Colin Megill <colinmegill@gmail.com>
Date:   Fri Nov 11 01:35:40 2016 -0800

    Tree fixed, though zooming still needs to be updated to viewer 2.0 api

commit aa0563cdaec89a283ea90de154c18b2f1dd2ddee
Author: Richard Neher <richard.neher@tuebingen.mpg.de>
Date:   Thu Nov 10 21:20:25 2016 -0800

    multi-update works, but initial props are not always in place...

commit 81dc4d4d51484d4be973fa6cbac6f810e9b1b414
Author: Richard Neher <richard.neher@tuebingen.mpg.de>
Date:   Thu Nov 10 16:28:52 2016 -0800

    use curl and decompress

commit 7e4727dd307e9e5a3e0f6f6ba74ec5f2e9a454fc
Author: Richard Neher <richard.neher@tuebingen.mpg.de>
Date:   Thu Nov 10 16:11:48 2016 -0800

    grid

commit cfd79089cb4b9ac8698dba1da87bb41975cdbb66
Author: Richard Neher <richard.neher@tuebingen.mpg.de>
Date:   Thu Nov 10 16:11:24 2016 -0800

    flexible grid

commit c488c5fe3465f182b2798f35f0183d3da7cc2d1d
Author: Richard Neher <richard.neher@tuebingen.mpg.de>
Date:   Thu Nov 10 10:03:53 2016 -0800

    removed old grid

commit f3fcde5880271603d5c54bf60bc60b293330b7ba
Author: Richard Neher <richard.neher@tuebingen.mpg.de>
Date:   Thu Nov 10 10:00:56 2016 -0800

    added grid to phyloTree

commit 73bc4f37e670bc792eff921e1d197baf439f5108
Author: Richard Neher <richard.neher@tuebingen.mpg.de>
Date:   Wed Nov 9 16:46:33 2016 -0800

    rename array check func

commit a93b61bde2a9bb9bf858eba376c5260d2ce8193b
Author: Richard Neher <richard.neher@tuebingen.mpg.de>
Date:   Wed Nov 9 16:37:53 2016 -0800

    activated legend mouse-over

commit 036a05c485ceed35bf614a2fa63b6de78f1fac8c
Author: Richard Neher <richard.neher@tuebingen.mpg.de>
Date:   Wed Nov 9 15:12:32 2016 -0800

    conditional updating

commit 4dea4922b5ae813f13df2880e567b20b6ec13776
Author: Richard Neher <richard.neher@tuebingen.mpg.de>
Date:   Wed Nov 9 14:31:56 2016 -0800

    searching for the legend mouseovers

commit 388eb8ac94b566591b997a551df49e91215de674
Author: Richard Neher <richard.neher@tuebingen.mpg.de>
Date:   Wed Nov 9 12:13:13 2016 -0800

    viewer does not work

commit 2516ff4c51dbb9299843355d7d29dccbf71c6dfd
Author: Richard Neher <richard.neher@tuebingen.mpg.de>
Date:   Wed Nov 9 12:12:30 2016 -0800

    phylotree clean-up

commit 16c27aec7d9c017944e2727ad91cdc2a71ccf51f
Author: Richard Neher <richard.neher@tuebingen.mpg.de>
Date:   Wed Nov 9 11:49:40 2016 -0800

    reinstantiated legend, but Viewer does not yet work

commit 3926728b9a11f32ca955c659e465d3f35da0ae68
Author: Richard Neher <richard.neher@tuebingen.mpg.de>
Date:   Wed Nov 9 10:22:05 2016 -0800

    removed obsolete tree components

commit 23912a4fb423b93d7f14280714ed915bfcc2d452
Merge: 0a5da154 52901cb3
Author: Richard Neher <richard.neher@tuebingen.mpg.de>
Date:   Tue Nov 8 15:13:20 2016 -0800

    Merge branch 'pure_js_tree' of github.com:nextstrain/auspice into pure_js_tree

commit 52901cb32eb520c8655c9bbecc668fd12281daf4
Author: Trevor Bedford <trevor@bedford.io>
Date:   Tue Nov 8 14:57:01 2016 -0800

    Group tips and branches

commit 0a5da154c1013b8da8c26ecfe82ad880a6f8d11e
Author: Richard Neher <richard.neher@tuebingen.mpg.de>
Date:   Tue Nov 8 08:17:26 2016 -0800

    coding style

commit 0948e8d5fe160d71c0206f71b125fb44049d6d8f
Author: Colin Megill <colinmegill@gmail.com>
Date:   Mon Nov 7 17:07:37 2016 -0800

    small fixes multiplier on arrow sizes, check for metadata

commit 8a1ddc426ec505128dd72f559fed20e21136d6dc
Merge: 5fe623db 839b09b0
Author: Colin Megill <colinmegill@gmail.com>
Date:   Mon Nov 7 16:48:23 2016 -0800

    Merge pull request #78 from nextstrain/map-wrap
    
    map colors & directional arrows

commit 839b09b08b434ea5fe2be484fcc68cd8752c64d1
Author: Colin Megill <colinmegill@gmail.com>
Date:   Mon Nov 7 16:47:53 2016 -0800

    all line segments have directional arrows

commit 7ce9629482e46730b67f53b5186b2dae3bc38b3e
Author: Colin Megill <colinmegill@gmail.com>
Date:   Mon Nov 7 16:46:46 2016 -0800

    cleanup

commit 889e45ec9b8f83406e0a7a12db89f5fd00dd5ada
Author: Colin Megill <colinmegill@gmail.com>
Date:   Mon Nov 7 14:35:46 2016 -0800

    map colorscale working

commit cbc45fcb3510d0c6c24c3797a7bf62134237f89d
Merge: 85475f0b 5fe623db
Author: Colin Megill <colinmegill@gmail.com>
Date:   Mon Nov 7 12:59:41 2016 -0800

    Merged branch master into map-wrap

commit 5fe623db392661a985a7c2236741d3008c8c1c82
Author: Richard Neher <richard.neher@tuebingen.mpg.de>
Date:   Mon Nov 7 08:52:30 2016 -0800

    added script to fetch data from server via wget

commit 8dcc1e14aed22c9ad7b2b787456db26f939b2503
Author: Richard Neher <richard.neher@tuebingen.mpg.de>
Date:   Mon Nov 7 08:44:48 2016 -0800

    read color options from meta data, closes #43

commit 63952dc9437b846203e1627de6faf6a48f2f5f16
Author: Richard Neher <richard.neher@tuebingen.mpg.de>
Date:   Sun Nov 6 17:43:26 2016 -0800

    clear svg on rerender

commit efd11bbed75e467477017b766f38a0c5176256c2
Author: Richard Neher <richard.neher@tuebingen.mpg.de>
Date:   Sun Nov 6 05:43:16 2016 -0800

    implemented fading transition for layouts

commit 3388a2a78fc73a8f84a9dd171a4f27f5132b9806
Merge: 462b5f9e 87894ead
Author: Richard Neher <richard.neher@tuebingen.mpg.de>
Date:   Sat Nov 5 07:56:02 2016 -0700

    merged Colin's radial swap

commit 462b5f9ec96038bab5fd465d373e8a267c60a7c1
Author: Richard Neher <richard.neher@tuebingen.mpg.de>
Date:   Sat Nov 5 07:52:14 2016 -0700

    moved phyloTree to util

commit 85475f0b5538dbba5ce7d5c4db6916fca402468a
Author: Colin Megill <colinmegill@gmail.com>
Date:   Sat Nov 5 00:54:18 2016 -0700

    map with bounds, arrows & random colors

commit 3c1d0a8d3aed28430ad820fc7dfb761fe071864f
Author: Colin Megill <colinmegill@gmail.com>
Date:   Sat Nov 5 00:53:34 2016 -0700

    remove leaflet from index, now in codebase

commit ad68e486dbf95c3d5e7ec345446db4d198164baf
Author: Colin Megill <colinmegill@gmail.com>
Date:   Sat Nov 5 00:52:37 2016 -0700

    optional center prop to card to center map

commit efd8cb5bacdb6fd7d142bfb2fb4c9ef307af2097
Author: Colin Megill <colinmegill@gmail.com>
Date:   Sat Nov 5 00:52:22 2016 -0700

    Fire leaflet & plugins code from map on mount.

commit c63637ec80f676652203c45bc2642e4c3feda342
Merge: 68fb03da e49f2c74
Author: Colin Megill <colinmegill@gmail.com>
Date:   Fri Nov 4 14:51:42 2016 -0700

    Merge pull request #73 from nextstrain/sidebar-styles
    
    sidebar headings and componentization

commit 87894eadab0464be5bb1994eddd46cae9b7b703e
Author: Colin Megill <colinmegill@gmail.com>
Date:   Fri Nov 4 14:19:12 2016 -0700

    radial swap

commit b91047e8db91e3735298afb82ac0963df0a3cf92
Author: Richard Neher <richard.neher@tuebingen.mpg.de>
Date:   Fri Nov 4 07:12:39 2016 -0700

    first shot at pure js tree

commit e49f2c74d27721025282c222209bf43dd3657d35
Author: Colin Megill <colinmegill@gmail.com>
Date:   Mon Oct 31 08:58:16 2016 -0700

    sidebar headings and componentization

commit 68fb03da31b08857251fbcc3890f908210919304
Merge: 724d80b1 344cc8a7
Author: Colin Megill <colinmegill@gmail.com>
Date:   Wed Oct 26 15:02:42 2016 -0700

    Merge pull request #67 from nextstrain/grid-fade
    
    Fade grid during transition

commit 724d80b1f531f0e1103be286ec890138034e32e4
Merge: b2fe1d76 2fc672dc
Author: Colin Megill <colinmegill@gmail.com>
Date:   Wed Oct 26 11:22:31 2016 -0700

    Merge pull request #69 from nextstrain/zoom
    
    Zoom v1

commit 2fc672dc0efbbbf0a5b9c3f4765b73afd571f4aa
Author: Colin Megill <colinmegill@gmail.com>
Date:   Wed Oct 26 11:22:00 2016 -0700

    pan by default, click icons to zoom in and out

commit 344cc8a7c1cc3669a991b4c5fe1823219e055e69
Author: Trevor Bedford <trevor@bedford.io>
Date:   Wed Oct 26 10:07:08 2016 -0700

    Align timing with tree transition to be 1200ms

commit 74dffe2e8f42537f2184588c4b563cb3d06018c2
Author: Trevor Bedford <trevor@bedford.io>
Date:   Wed Oct 26 00:38:47 2016 -0700

    Fade grid during transition
    
    This is done using a CSS opacity transition and
    bookkeeping state within the grid component.

commit 6f9b99510849db858d95ccfd4206dddf94025bcf
Author: Colin Megill <colinmegill@gmail.com>
Date:   Wed Oct 26 00:20:33 2016 -0700

    pan & zoom v1

commit 42873495f99641ef28519532aa30dcbbc719d024
Author: Colin Megill <colinmegill@gmail.com>
Date:   Tue Oct 25 18:16:57 2016 -0700

    zoom icons in place

commit bc8a0cf9f5f24049d0f0691813a56c37f3929af5
Author: Colin Megill <colinmegill@gmail.com>
Date:   Tue Oct 25 12:39:17 2016 -0700

    starting on zoom/pan

commit b2fe1d768da8eb647bb14ae3a517cf94f96565a2
Author: Colin Megill <colinmegill@gmail.com>
Date:   Sun Oct 23 20:13:16 2016 -0700

    playing with headings

commit 19cd2eaa91769f87cd8d23e815f514a32d303c2c
Author: Colin Megill <colinmegill@gmail.com>
Date:   Sun Oct 23 17:18:10 2016 -0700

    Padding on controls

commit e1f773423b8a564b65160dc5191094ee5fe14480
Author: Richard <richard.neher@tuebingen.mpg.de>
Date:   Sun Oct 23 16:26:18 2016 +0200

    harmonize padding

commit 97cec26558e3799a7c9079add5b2cadcb5e2db4b
Author: Richard <richard.neher@tuebingen.mpg.de>
Date:   Sun Oct 23 16:16:43 2016 +0200

    added rudimentary legends to frequencies

commit f77216cad1567cdfa31834f542406cdddbf4ebf4
Author: Richard <richard.neher@tuebingen.mpg.de>
Date:   Sun Oct 23 16:03:45 2016 +0200

    frequencies card-ified

commit fbfce630e5fed5c955b2443a5e98531830f24ed8
Author: Richard Neher <richard.neher@tuebingen.mpg.de>
Date:   Sun Oct 23 12:39:30 2016 +0200

    remove internal nodes, improve entropy mapping logic

commit 13321252b7597335986654714292efafa3026e1a
Author: Richard Neher <richard.neher@tuebingen.mpg.de>
Date:   Sun Oct 23 12:21:36 2016 +0200

    prettier entropies

commit 98841667642f7c9c69bdc22067599f1c51add770
Author: Richard Neher <richard.neher@tuebingen.mpg.de>
Date:   Sun Oct 23 11:41:48 2016 +0200

    update colorby menu when qparams are updated from entropy

commit 1ffe220ce4d99cfab5c977361572c96d232c7106
Author: Richard Neher <richard.neher@tuebingen.mpg.de>
Date:   Sun Oct 23 11:18:46 2016 +0200

    entropy bars now clickable

commit d99cb9583150a6e564d5f1337dea46d9ebc5be35
Author: Richard Neher <richard.neher@tuebingen.mpg.de>
Date:   Sun Oct 23 10:02:29 2016 +0200

    1:1 ratio, rotated radial view

commit bd57087730d56275c01c8a66e160adbc397e0a7d
Author: Colin Megill <colinmegill@gmail.com>
Date:   Sun Oct 23 00:29:03 2016 -0700

    very fast barchart from scratch without victorychart

commit 85efbfa3581341dce45d47b182a26ff970702b73
Author: Richard Neher <richard.neher@tuebingen.mpg.de>
Date:   Sat Oct 22 19:41:15 2016 +0200

    xgrid

commit 0d3f19a269eabc338dc531bd17088b296b14b897
Author: Trevor Bedford <trevor@bedford.io>
Date:   Fri Oct 21 23:33:23 2016 -0700

    Reroute "#/" for S3 redirects

commit e92a32fccb5ad7e02e8edb767ce8d5800f237f26
Merge: c6fc00f9 0fcfa331
Author: Colin Megill <colinmegill@gmail.com>
Date:   Fri Oct 21 17:28:46 2016 -0700

    Merge pull request #63 from nextstrain/filters
    
    minor fixes

commit 0fcfa331647588f151fbd985734b09c6a5e0d3ff
Merge: d5f2c266 c6fc00f9
Author: Colin Megill <colinmegill@gmail.com>
Date:   Fri Oct 21 17:28:34 2016 -0700

    Merge branch 'master'
    
    Conflicts:
            src/util/globals.js

commit d5f2c266198fed2c0a3baf32045f552e1d1a71a6
Author: Colin Megill <colinmegill@gmail.com>
Date:   Fri Oct 21 16:50:37 2016 -0700

    comment for race condition

commit d4d9d79b1c2e1e64162adcabdc071be6ab5edb2a
Author: Colin Megill <colinmegill@gmail.com>
Date:   Fri Oct 21 16:50:16 2016 -0700

    don't require d3 twice

commit c6fc00f98091332a58354626715705f18a0cccf2
Author: Trevor Bedford <trevor@bedford.io>
Date:   Fri Oct 21 15:57:24 2016 -0700

    Add country color scale

commit 4316dfeacc2513c04c3022848a3ffd9d8dd2e162
Author: Trevor Bedford <trevor@bedford.io>
Date:   Fri Oct 21 15:43:56 2016 -0700

    Fix comma

commit c30a906e3f4ec3d125f1624479405857d1103b9e
Author: Colin Megill <colinmegill@gmail.com>
Date:   Fri Oct 21 15:09:19 2016 -0700

    comma

commit 6d9e87ad96f6b4d25d8ff4871fbe1fde3a8d0d74
Merge: b9adc01c 239cd3b7
Author: Colin Megill <colinmegill@gmail.com>
Date:   Fri Oct 21 14:47:47 2016 -0700

    Merge pull request #49 from nextstrain/styles
    
    Sidebar

commit 239cd3b705830f80ec9cdd7b9406d2694f819dc0
Merge: 3c970b50 0aa26b66
Author: Colin Megill <colinmegill@gmail.com>
Date:   Fri Oct 21 14:46:45 2016 -0700

    Merge branch 'filters'
    
    Conflicts:
            package.json
            src/components/app.js

commit 3c970b50fc21b43893e0453967d9ab0e05cdd497
Author: Colin Megill <colinmegill@gmail.com>
Date:   Fri Oct 21 12:35:43 2016 -0700

    sidebar and cards

commit 9949dc0436139f67901d90c966de13af5341b35e
Author: Colin Megill <colinmegill@gmail.com>
Date:   Fri Oct 21 12:34:54 2016 -0700

    add sans serif to global styles

commit 37711ca1d30b93b8caa1c71192c2b8933de81a4a
Author: Colin Megill <colinmegill@gmail.com>
Date:   Fri Oct 21 12:33:39 2016 -0700

    remove d3 tip

commit 0aa26b665223f3c05b222289fae98836461f3fda
Author: Richard <richard.neher@tuebingen.mpg.de>
Date:   Fri Oct 21 14:43:01 2016 +0200

    first shot at multiselect

commit 4fcdfb26d33a7dcd9800f8d95f7a258b0871cd94
Merge: c3908260 d1a95565
Author: Richard <richard.neher@tuebingen.mpg.de>
Date:   Thu Oct 20 11:58:08 2016 +0200

    Merge remote-tracking branch 'origin/map_logic' into filters

commit c3908260247761465b19b0c4921b2af557620adf
Author: Richard Neher <richard.neher@tuebingen.mpg.de>
Date:   Wed Oct 19 21:59:52 2016 +0200

    reinstantiate map

commit d1a955657bedb226c32597def177455766baf9ad
Author: Colin Megill <colinmegill@gmail.com>
Date:   Mon Oct 17 16:01:00 2016 -0700

    min zoom max zoom

commit 18f3b6740e23eead0cfc90775a36e2530b9b474b
Author: Colin Megill <colinmegill@gmail.com>
Date:   Mon Oct 17 13:32:34 2016 -0700

    create font components and add them to header

commit c0075be8cc74e4af4f629b9ee3d8c17af1f4fb28
Author: Colin Megill <colinmegill@gmail.com>
Date:   Mon Oct 17 13:32:14 2016 -0700

    add typekit

commit b9adc01c1f7464447d26c1cca4669b703f69e0c9
Merge: b9ca92ac 979ac66f
Author: Colin Megill <colinmegill@gmail.com>
Date:   Mon Oct 17 10:29:56 2016 -0700

    Merge pull request #47 from nextstrain/map
    
    Map has radius and transmissions

commit 979ac66f24a3be13d726da593f45db876c27efa6
Author: Colin Megill <colinmegill@gmail.com>
Date:   Mon Oct 17 10:13:22 2016 -0700

    transmission events on map

commit 7a847473ba1cf7595bd58ad01ddae270d8569cc3
Author: Colin Megill <colinmegill@gmail.com>
Date:   Mon Oct 17 10:13:02 2016 -0700

    remove log

commit 757cc93a1a8b7f0532cdfa777814e8400f074b79
Author: Richard Neher <richard.neher@tuebingen.mpg.de>
Date:   Sat Oct 15 16:49:20 2016 +0200

    read filter options from meta

commit 1579bb2e28b768b33a22b549765476fd7f17fb76
Author: Richard <richard.neher@tuebingen.mpg.de>
Date:   Fri Oct 14 16:31:45 2016 +0200

    removed logs

commit 11a936e169b79cb231f007af5ad9b9a7075c7c42
Author: Richard <richard.neher@tuebingen.mpg.de>
Date:   Fri Oct 14 16:24:54 2016 +0200

    frequencies now plot multiple curves. need to coverge on syntax

commit 30230c2d7395ff38fa22fb8ccd8b42e2d0d04ff5
Author: Richard <richard.neher@tuebingen.mpg.de>
Date:   Fri Oct 14 13:31:20 2016 +0200

    entropy chart works, both for nucleotides and amino acids, mouse-over, clicks, style to be implemented

commit 1028383b9034ab1d34e36724828952f894533498
Author: Richard <richard.neher@tuebingen.mpg.de>
Date:   Fri Oct 14 12:45:33 2016 +0200

    metadata.controls is not yet there

commit 1e8e692e9c4717a1cd6a1208477e99685c35a2f2
Author: Richard <richard.neher@tuebingen.mpg.de>
Date:   Fri Oct 14 12:38:26 2016 +0200

    pull filterOptions from meta

commit 74363d59b61f4ceb03425d0452dc2f724d05f417
Merge: ff04ab4d b11cc6dd
Author: Colin Megill <colinmegill@gmail.com>
Date:   Thu Oct 13 14:52:10 2016 -0700

    Merged branch map into map

commit ff04ab4d7c970fff9494d0c9867657edbf10329f
Author: Colin Megill <colinmegill@gmail.com>
Date:   Thu Oct 13 14:49:06 2016 -0700

    comment

commit f5325206e305075cf694e4b38f3440a0d226c009
Author: Colin Megill <colinmegill@gmail.com>
Date:   Wed Oct 12 15:54:58 2016 -0700

    aggregate same points and scale radius

commit b238a0f068938187e39d94b4c66dc2516446ba91
Author: Colin Megill <colinmegill@gmail.com>
Date:   Wed Oct 12 13:23:20 2016 -0700

    little red circles

commit 2e6fe43aecd75ad0e56bd16a9d8d8795cb3109f7
Author: Colin Megill <colinmegill@gmail.com>
Date:   Wed Oct 12 13:23:07 2016 -0700

    update lodash

commit b6c6a9eb50f8f3f303574ff69a800b64887145bd
Author: Colin Megill <colinmegill@gmail.com>
Date:   Wed Oct 12 12:11:56 2016 -0700

    don't re-render tips

commit 7c9f311605e9645d592e135d98b215098b762962
Author: Colin Megill <colinmegill@gmail.com>
Date:   Wed Oct 12 12:11:44 2016 -0700

    switch to mapbox tiles

commit d6a217349bb156884e059c45134073ceb05402df
Author: Colin Megill <colinmegill@gmail.com>
Date:   Fri Oct 7 12:42:55 2016 -0700

    tooltips on map for zika

commit f4a390be02561d9b88a1c0330c5077b90a27703a
Author: Colin Megill <colinmegill@gmail.com>
Date:   Wed Oct 5 23:56:55 2016 -0700

    map fixed width for now

commit 49420b2da376ff673f49cf810e224747e318e27e
Author: Colin Megill <colinmegill@gmail.com>
Date:   Tue Oct 4 10:48:31 2016 -0700

    psuedo code in comments

commit 265396455511f013eff5bf861878e1d979dabec3
Author: Colin Megill <colinmegill@gmail.com>
Date:   Mon Oct 3 12:19:35 2016 -0700

    log out nodes

commit 20cc84f36d0f0628e7e3394814b581326f61f0d8
Author: Colin Megill <colinmegill@gmail.com>
Date:   Sun Oct 2 00:31:01 2016 -0700

    map renders

commit 0b3692f450c04863b81443c316266f167d4d9569
Author: Colin Megill <colinmegill@gmail.com>
Date:   Sun Oct 2 00:02:15 2016 -0700

    adding map deps

commit b11cc6dd5107b650de22663b8c5f80f560ae1bf4
Author: Colin Megill <colinmegill@gmail.com>
Date:   Thu Oct 13 14:49:06 2016 -0700

    comment

commit c74c7811efa84fb966bc9f314c409ee3707f2755
Author: Richard Neher <richard.neher@tuebingen.mpg.de>
Date:   Thu Oct 13 22:35:06 2016 +0200

    added counts to pull-down

commit 9afda6cd7c401fcefd63abe914a45917733c641c
Author: Richard <richard.neher@tuebingen.mpg.de>
Date:   Thu Oct 13 18:15:29 2016 +0200

    filtering works

commit f39b43bc949adffa07eafcdd7528b645a420fd9e
Author: Colin Megill <colinmegill@gmail.com>
Date:   Wed Oct 12 15:54:58 2016 -0700

    aggregate same points and scale radius

commit 1553cdf3a13e1425b113eaa0f01f463c1c878ba9
Author: Colin Megill <colinmegill@gmail.com>
Date:   Wed Oct 12 13:23:20 2016 -0700

    little red circles

commit 47e2d928d1348f8641c631cdcceab767144aa494
Author: Colin Megill <colinmegill@gmail.com>
Date:   Wed Oct 12 13:23:07 2016 -0700

    update lodash

commit 79e182afce365fdd0d252678dc33ef2a4da9c6e6
Author: Colin Megill <colinmegill@gmail.com>
Date:   Wed Oct 12 12:11:56 2016 -0700

    don't re-render tips

commit 50444220f317df143308fbbff828fe682f0e24e7
Author: Colin Megill <colinmegill@gmail.com>
Date:   Wed Oct 12 12:11:44 2016 -0700

    switch to mapbox tiles

commit cc58de8353cc09c79c9bd4952efc307b8a9a5d3a
Author: Richard <richard.neher@tuebingen.mpg.de>
Date:   Tue Oct 11 14:36:46 2016 +0200

    added multiselect

commit 562492b1f086b7ef880fe1ba545f0bb91af78c12
Author: Richard Neher <richard.neher@tuebingen.mpg.de>
Date:   Mon Oct 10 20:59:46 2016 +0200

    started virus selector

commit 1ef863c7daa3676b6cb229a50d421cd164dfe95d
Author: Colin Megill <colinmegill@gmail.com>
Date:   Fri Oct 7 12:42:55 2016 -0700

    tooltips on map for zika

commit f7121840e271d796a72dc8da3e6b30ccfd1293a0
Author: Colin Megill <colinmegill@gmail.com>
Date:   Wed Oct 5 23:56:55 2016 -0700

    map fixed width for now

commit 3b30a599b6d45916c01630d448c2cb3f803d2e58
Author: Colin Megill <colinmegill@gmail.com>
Date:   Tue Oct 4 10:48:31 2016 -0700

    psuedo code in comments

commit 935ae1e853cb666d214a04a53350fa35e3c3b4b6
Author: Colin Megill <colinmegill@gmail.com>
Date:   Mon Oct 3 12:19:35 2016 -0700

    log out nodes

commit f758ef53dc7aef6460b39573f7150e0bc11a57a0
Author: Colin Megill <colinmegill@gmail.com>
Date:   Sun Oct 2 00:31:01 2016 -0700

    map renders

commit 9641d6f57f8305b791559cf70b31411fd936a3b1
Author: Colin Megill <colinmegill@gmail.com>
Date:   Sun Oct 2 00:02:15 2016 -0700

    adding map deps

commit cc014ad4ac402cf853ecb01309df164cd9a30c7a
Author: Richard <richard.neher@tuebingen.mpg.de>
Date:   Wed Oct 5 17:41:24 2016 +0200

    more lazy color updating:

commit f102d2e30a804de3e7415403617e8fc9b0c965cf
Author: Richard <richard.neher@tuebingen.mpg.de>
Date:   Wed Oct 5 16:10:42 2016 +0200

    genotype input field now appears only when genotype is selected in menu

commit b18c0e0ae1d2f124db1665382d65aaad94e95e11
Author: Richard Neher <richard.neher@tuebingen.mpg.de>
Date:   Tue Oct 4 23:23:44 2016 +0200

    everything in tree is props

commit 7ea956bd104b7fd17d2da00a39889414522ee381
Author: Richard <richard.neher@tuebingen.mpg.de>
Date:   Tue Oct 4 16:37:55 2016 +0200

    made date slider move by day, updateColorScale now returns rather than do setState

commit 0ccffad920a14cdb3f930cf45b7ebc2c9337128c
Author: Richard Neher <richard.neher@tuebingen.mpg.de>
Date:   Mon Oct 3 19:30:05 2016 +0200

    check in didUpdate whether tree is inplace

commit 2af17cd8038f6efd677359aabec27de1ba6f7caa
Author: Richard <richard.neher@tuebingen.mpg.de>
Date:   Mon Oct 3 17:29:51 2016 +0200

    pass color info through the tree as arrays

commit 5fa0aa641c5308088c2ef5d51fc5dad60bcb47ce
Author: Richard Neher <richard.neher@tuebingen.mpg.de>
Date:   Sun Oct 2 21:50:31 2016 +0200

    added various checks for exisiting query params

commit fea198fbc7e9614d32c1aed7db4ecda8675d15eb
Author: Richard Neher <richard.neher@tuebingen.mpg.de>
Date:   Sun Oct 2 21:10:36 2016 +0200

    color by genotype works

commit 5dbb27b378fd2bef60a83f574045db595013d627
Author: Richard <richard.neher@tuebingen.mpg.de>
Date:   Sat Oct 1 20:29:45 2016 +0200

    genotype coloring works, sort of

commit c8022ca0f45ec57dc0d8f0263b97e913eac93526
Author: Richard Neher <richard.neher@tuebingen.mpg.de>
Date:   Sat Oct 1 19:14:17 2016 +0200

    fiddled with genotype input

commit 94b8b4c1eb98b0b9024832cce9d99ca61c2c6f05
Author: Richard Neher <richard.neher@tuebingen.mpg.de>
Date:   Sat Oct 1 12:09:55 2016 +0200

    cleanup

commit ecea8c4c8e9a78354f7717c11fdac48017224ee7
Author: Richard Neher <richard.neher@tuebingen.mpg.de>
Date:   Sat Oct 1 11:52:06 2016 +0200

    fixed reloading loop, colorscales now tree-aware

commit a9610363d0ef08da25c821d23de8168b4f6c8bd7
Author: Richard <richard.neher@tuebingen.mpg.de>
Date:   Fri Sep 30 15:01:44 2016 +0200

    removed colorby action, handled by function in app, don't understand the store yet

commit 8ea3bc070579730787ccd82ec766cdb9598ea023
Merge: 4db12802 b9ca92ac
Author: Richard <richard.neher@tuebingen.mpg.de>
Date:   Fri Sep 30 12:06:00 2016 +0200

    Merge branch 'master' into redo_treereducer

commit b9ca92acd589914d2368e5326a74eba142ddc033
Merge: 3c40f50c 8f001305
Author: Richard Neher <richard.neher@tuebingen.mpg.de>
Date:   Fri Sep 30 12:05:26 2016 +0200

    Merge pull request #45 from nextstrain/treestyle
    
    Treestyle

commit 8f0013057a283c408e998d708439ad8c625e3ab3
Author: Richard <richard.neher@tuebingen.mpg.de>
Date:   Fri Sep 30 12:05:11 2016 +0200

    removing logs, rename branch.js to treeNode.js, also renamed the import

commit 4db12802edc70d2d6cfc00b8aedda09269930acf
Author: Richard <richard.neher@tuebingen.mpg.de>
Date:   Fri Sep 30 11:57:29 2016 +0200

    moved set-up tree into reducer

commit 1cadde1efe0af002b86caa96f6b828c4fc6ed2fc
Author: Richard <richard.neher@tuebingen.mpg.de>
Date:   Thu Sep 29 16:30:13 2016 +0200

    added a few more coloroptions, colorSclae and legend match map update

commit 268815708adbb39534d7871bbcfb1a6697c26a04
Author: Richard Neher <richard.neher@tuebingen.mpg.de>
Date:   Wed Sep 28 21:30:19 2016 +0200

    moved colorScales into colorby

commit 2cf2b73db8ac1b775065cf447d4c5e711d685166
Author: Richard <richard.neher@tuebingen.mpg.de>
Date:   Wed Sep 28 20:56:28 2016 +0200

    colorBy props

commit c6be42cfc9e1c47e6a91a6f6b0fc67dc5e87bebd
Author: Richard <richard.neher@tuebingen.mpg.de>
Date:   Wed Sep 28 15:28:37 2016 +0200

    default qparams

commit ac217dfcb9e04d5663085787da50df7fffee14a2
Author: Richard Neher <richard.neher@tuebingen.mpg.de>
Date:   Tue Sep 27 23:22:12 2016 +0200

    read colorBy from query

commit 856c20880c92258cc3044d3810e2e8600648f670
Author: Richard Neher <richard.neher@tuebingen.mpg.de>
Date:   Tue Sep 27 23:15:37 2016 +0200

    moved colorby into query params

commit 6c936dec0c4f5e6d2f8de6722825e2e78b3d717a
Author: Richard Neher <richard.neher@tuebingen.mpg.de>
Date:   Tue Sep 27 22:39:29 2016 +0200

    made date slider numeric data as in 2015.343 and added node visible/hidden

commit f9c5b9914170517009181698d7259839149e9aaf
Author: Richard Neher <richard.neher@tuebingen.mpg.de>
Date:   Mon Sep 26 22:27:19 2016 +0200

    moved tip behavior to tip

commit c2e7e993670f52c6ac1e79ba5d71df4cdc477eb2
Author: Colin Megill <colinmegill@gmail.com>
Date:   Mon Sep 26 13:02:52 2016 -0700

    renaming spree

commit e498f06903f9795f0269b14aed789f952728d0f1
Author: Richard <richard.neher@tuebingen.mpg.de>
Date:   Mon Sep 26 19:45:59 2016 +0200

    continuous flag to determine whether legendBoundMatch is needed

commit 5f25f8939ce8f63253aff1519f54948207597977
Author: Richard <richard.neher@tuebingen.mpg.de>
Date:   Mon Sep 26 19:24:53 2016 +0200

    call backs for color and size, different choices for node geometry

commit 199ac2d554834bf57349604a4a69f218824c7c14
Author: Richard <richard.neher@tuebingen.mpg.de>
Date:   Mon Sep 26 18:31:40 2016 +0200

    removed branch component, now rendered along with node

commit 3c40f50c76582024ae6e5dfa459ba42120070b74
Merge: 6225761c 2d243441
Author: Colin Megill <colinmegill@gmail.com>
Date:   Sun Sep 25 19:21:26 2016 -0700

    Merge pull request #42 from nextstrain/routerless-take-2
    
    Routerless take 2

commit 2d2434415c9a0c1557a6256edec7442244684c4f
Author: Richard Neher <richard.neher@tuebingen.mpg.de>
Date:   Sun Sep 25 22:32:31 2016 +0200

    and a bit of linting

commit 4a5e095cdf01877de27202cca72ee267f4d996f3
Author: Richard Neher <richard.neher@tuebingen.mpg.de>
Date:   Sun Sep 25 17:47:28 2016 +0200

    default layout and metric

commit 7a9052135570b6feb51cb093eac0807eea37ef12
Author: Richard Neher <richard.neher@tuebingen.mpg.de>
Date:   Sun Sep 25 00:14:40 2016 +0200

    added distanceMetric switches -- missing from prev commit

commit c3f8b15417d3a680ed56914939d19fc86c45c496
Author: Richard Neher <richard.neher@tuebingen.mpg.de>
Date:   Sun Sep 25 00:13:11 2016 +0200

    use this.props.layout within nodes instead of this.props.query.l

commit d0960f2872a0ed6bb7abdf6514ac32bae44ff1e8
Author: Richard Neher <richard.neher@tuebingen.mpg.de>
Date:   Sat Sep 24 23:50:13 2016 +0200

    fixed problem with radial layout for time tree (root has to be at 0.0 rather than 2010)

commit 699dfa02ae3f774bb310a015958edc473aec39f3
Author: Richard Neher <richard.neher@tuebingen.mpg.de>
Date:   Sat Sep 24 23:42:32 2016 +0200

    date slider now without router

commit 1de2a6fc9901ced4352fc9c4f95d3f2b1f4602dc
Author: Richard Neher <richard.neher@tuebingen.mpg.de>
Date:   Sat Sep 24 23:35:36 2016 +0200

    distance metric is now part of query params, animation between divergence and time tree in place

commit 118402bd91180237d60f2f012678db05b2c82a9c
Author: Richard Neher <richard.neher@tuebingen.mpg.de>
Date:   Sat Sep 24 23:04:27 2016 +0200

    moved virus path setting to app.js to complete path when left incomplete by control

commit f5ef4d755c6668b11ee5b14d69c2b277de65518a
Author: Richard Neher <richard.neher@tuebingen.mpg.de>
Date:   Sat Sep 24 21:55:00 2016 +0200

    virus selector without router works (changes route, leaves query intact)

commit d86f9ad7fdee3ec983a4c94bd4516c8f41f979a1
Author: Colin Megill <colinmegill@gmail.com>
Date:   Sat Sep 24 02:37:42 2016 -0700

    animation working

commit 71f879ca7c1acd4a29b6b08f3efd5d547c63d18f
Author: Colin Megill <colinmegill@gmail.com>
Date:   Sat Sep 24 01:59:54 2016 -0700

    minor cleanup

commit f357092e125c3e66972744fb10f858bcf710198a
Author: Colin Megill <colinmegill@gmail.com>
Date:   Sat Sep 24 01:44:21 2016 -0700

    event listeners in app - animation working!

commit b5c952287cc074616ad2908745d95baa0d5d84e2
Author: Colin Megill <colinmegill@gmail.com>
Date:   Sat Sep 24 01:43:59 2016 -0700

    setstate in choose layout

commit 6ca9795d0980a9fbe7adbc1ac0403e039e5a8d6c
Author: Colin Megill <colinmegill@gmail.com>
Date:   Sat Sep 24 01:43:21 2016 -0700

    clean up dead code in index

commit a834b78ead9b5190baff0e7937f1c84319fb57a7
Author: Colin Megill <colinmegill@gmail.com>
Date:   Sat Sep 24 00:43:19 2016 -0700

    event listener

commit 7d435acf06e012029c3edf66dae95266023e7b88
Author: Colin Megill <colinmegill@gmail.com>
Date:   Fri Sep 23 22:58:31 2016 -0700

    choose layout fires window.history.pushstate successfully

commit fe9dd7cc16611913a4f791c69d84f2aed493a1ff
Author: Colin Megill <colinmegill@gmail.com>
Date:   Fri Sep 23 21:42:26 2016 -0700

    remove react router, pass location down to tree and controls

commit bb87f399edd3e368287b5450970a47096f1a6adf
Author: Colin Megill <colinmegill@gmail.com>
Date:   Fri Sep 23 21:35:20 2016 -0700

    app router state

commit 6225761cde23cded61b1343e57747aa5d2ba7acd
Merge: 5a4d918c 5cb63c83
Author: Colin Megill <colinmegill@gmail.com>
Date:   Mon Sep 19 17:13:03 2016 -0700

    Merge pull request #41 from nextstrain/radial_merge
    
    Radial merge

commit 5cb63c83a287771588d7a06209ab3d9167b92d14
Author: Colin Megill <colinmegill@gmail.com>
Date:   Mon Sep 19 16:47:24 2016 -0700

    back to par after layouts, coloring, date range work again

commit f9f27def007701502aa443ebd51b4f7d35cff548
Author: Colin Megill <colinmegill@gmail.com>
Date:   Mon Sep 19 12:36:35 2016 -0700

    update radium and <select> to kill warnings

commit 31d5d3f220c35ede4a17b0ceb43c8111781142bd
Author: Colin Megill <colinmegill@gmail.com>
Date:   Mon Sep 19 11:56:12 2016 -0700

    update react router to kill console warnings re: proptypes

commit ebc9ec666d1c7e80131290e557d788adeb118d06
Author: Colin Megill <colinmegill@gmail.com>
Date:   Mon Sep 19 10:54:25 2016 -0700

    tree merge fix

commit a4aa3de55af0189a69bcb1ade3fd354e0f877fca
Merge: b4a3d219 5a4d918c
Author: Colin Megill <colinmegill@gmail.com>
Date:   Mon Sep 19 10:53:19 2016 -0700

    master into radial

commit b4a3d219fc803b01832f96335622522bdf7bcf04
Author: Colin Megill <colinmegill@gmail.com>
Date:   Fri Sep 16 15:11:59 2016 -0700

    switching layouts! and defaultlayout

commit b5e8011627bb0ed4a01f91cdd913106b807da510
Author: Colin Megill <colinmegill@gmail.com>
Date:   Fri Sep 16 14:57:38 2016 -0700

    move choosevirus into controls

commit 43f4425ee06e9362936ffe674b4496dd687ec746
Author: Colin Megill <colinmegill@gmail.com>
Date:   Fri Sep 16 13:44:22 2016 -0700

    move layout to query params

commit 25fd1e19642843e14e3744b8d5541ff995d33a15
Author: Colin Megill <colinmegill@gmail.com>
Date:   Fri Sep 16 13:44:06 2016 -0700

    choose layout buttons svg

commit 5a4d918cdf4fe3663e7f206ebe7609aed68cf5a7
Author: Trevor Bedford <trevor@bedford.io>
Date:   Tue Sep 13 12:30:22 2016 -0700

    Update readme.

commit 32de9d4ade498268c20978ea08b084464e73fac3
Author: Richard Neher <richard.neher@tuebingen.mpg.de>
Date:   Sat Sep 10 17:28:50 2016 +0200

    fixed left-over nodes after changing data set

commit 4be09aef508b24c7ca0f7646d98d30d940edca8e
Author: Richard Neher <richard.neher@tuebingen.mpg.de>
Date:   Sat Sep 10 16:23:57 2016 +0200

    fixed the arcs bending the wrong way

commit 2a1b90f6e3a0f577b237cecb2c7ad01968a610bd
Author: Richard Neher <richard.neher@tuebingen.mpg.de>
Date:   Sat Sep 10 00:49:13 2016 +0200

    tree renders again, radial and rectangular

commit 87ade7768617cdd725663c0cbe2df648cbb5b0aa
Author: Colin Megill <colinmegill@gmail.com>
Date:   Fri Sep 9 15:37:03 2016 -0700

    xscale fix in node

commit 742ff090fd2ae7ccaf6886f7de959f21dad1181c
Author: Richard Neher <richard.neher@tuebingen.mpg.de>
Date:   Sat Sep 10 00:23:54 2016 +0200

    mostly there

commit 60a2030dfcb4cbab7fa1ad49e23db90a1499ed46
Merge: 7b83b699 02009a66
Author: Colin Megill <colinmegill@gmail.com>
Date:   Fri Sep 9 14:15:54 2016 -0700

    Merge pull request #37 from blab/pan-zoom
    
    basic zoom functionality on tree

commit 02009a665c73b4c28a50536270d53f2a0694d7f5
Author: Colin Megill <colinmegill@gmail.com>
Date:   Fri Sep 9 14:12:33 2016 -0700

    clean up zoom merge

commit e9a4ece8a1ae9cd0d8cdc47c7bd413da08c636df
Merge: 424e4db1 7b83b699
Author: Colin Megill <colinmegill@gmail.com>
Date:   Fri Sep 9 14:00:48 2016 -0700

    Merge branch 'master'
    
    Conflicts:
            package.json
            src/components/tree/tree.js

commit 5939caed930134f3b277142ac5c72766a8dd62bb
Merge: 37f843c4 5fa042fb
Author: Colin Megill <colinmegill@gmail.com>
Date:   Fri Sep 9 13:25:19 2016 -0700

    Merge remote-tracking branch 'refs/remotes/origin/radial'
    
    Conflicts:
            dev-server.js
            src/components/app.js
            src/components/tree/branch.js
            src/components/tree/node.js
            src/components/tree/tree.js
            webpack.config.dev.js

commit 37f843c450aa3153b71318e252d3b25007978f9a
Author: Colin Megill <colinmegill@gmail.com>
Date:   Thu Sep 8 10:38:27 2016 -0700

    roughing out choose layout buttons

commit e496aff07013ba35bd201b298d1a55280d6801e1
Author: Richard Neher <richard.neher@tuebingen.mpg.de>
Date:   Wed Sep 7 00:58:15 2016 +0200

    added geometry preprocessing and moved LBI out of helpers

commit dcea20c5006599d5c48eba4bb8f349c28f5e55c3
Author: Richard Neher <richard.neher@tuebingen.mpg.de>
Date:   Sat Sep 3 05:52:06 2016 +0200

    arcs! still need to figure out direction of arcs

commit f9b2d91a44211e43cc23f85ed7ea6f5b17b44941
Author: Richard Neher <richard.neher@tuebingen.mpg.de>
Date:   Sat Sep 3 04:39:29 2016 +0200

    radial inplace, but missing arc

commit 9cc1d1e1c507c174b290c41609dc5a1d7eeb12e2
Author: Richard Neher <richard.neher@tuebingen.mpg.de>
Date:   Fri Sep 2 22:34:34 2016 +0200

    first shot at radial layout

commit c76a5a70fbcedf728fa7138fcf5f603307a7b1fd
Author: Richard Neher <richard.neher@tuebingen.mpg.de>
Date:   Fri Sep 2 06:14:33 2016 +0200

    added rudimentary entropy chart

commit eb3db731cacb79ca2dbc1000d1f0dd5d392abd76
Author: Colin Megill <colinmegill@gmail.com>
Date:   Thu Sep 1 18:23:50 2016 -0700

    richard's work on colin's computer

commit 8606620fd839ac9fe6c789700c53b4cdbbeafb02
Author: Colin Megill <colinmegill@gmail.com>
Date:   Thu Sep 1 15:32:33 2016 -0700

    frequency data working

commit a78c8fe10e729b6ccfa8f3954065a75985a8f973
Author: Colin Megill <colinmegill@gmail.com>
Date:   Thu Sep 1 15:20:58 2016 -0700

    trying to get line to work with freq data

commit 7b83b6994a159160aa37799cf21380a21b07f177
Merge: 64faeeb6 49e80f26
Author: Colin Megill <colinmegill@gmail.com>
Date:   Fri Sep 9 13:10:36 2016 -0700

    Merge pull request #30 from blab/datasets
    
    Datasets

commit 5fa042fb289ad5e520373acc007e6b3d0c9e676d
Merge: a7d9a19d 82d00e93
Author: Richard Neher <richard.neher@tuebingen.mpg.de>
Date:   Fri Sep 9 22:05:38 2016 +0200

    Merge branch 'geometry' into radial

commit 49e80f2694f359f46d2cdb0063c03d62e7817eb5
Merge: 0e25d284 86819579
Author: Richard Neher <richard.neher@tuebingen.mpg.de>
Date:   Fri Sep 9 17:24:38 2016 +0200

    merged latest

commit 0e25d28481994fdff00636ed132ed3112012040d
Author: Richard Neher <richard.neher@tuebingen.mpg.de>
Date:   Fri Sep 9 17:21:26 2016 +0200

    added comments to parseParams

commit 3d7ddc74c2e156a935bdb14c8287ff82c311a17e
Author: Richard Neher <richard.neher@tuebingen.mpg.de>
Date:   Fri Sep 9 16:43:57 2016 +0200

    comment choose-virus-select

commit f82e7708a715b76148de96dec44947cab7263f04
Author: Richard Neher <richard.neher@tuebingen.mpg.de>
Date:   Fri Sep 9 16:35:53 2016 +0200

    added comments to virus-select

commit 86819579bb692039bff7c25c0576d14b065d2788
Author: Colin Megill <colinmegill@gmail.com>
Date:   Thu Sep 8 20:18:13 2016 -0700

    success! swapping out datasets works

commit d4f8d6466970a1b5c479760444b0a5121d8b9d99
Author: Colin Megill <colinmegill@gmail.com>
Date:   Thu Sep 8 17:01:30 2016 -0700

    major refactor from tree into 'nodes'

commit 72168cbbdf6ebc08e05acd76c4cbd5e79b727438
Author: Colin Megill <colinmegill@gmail.com>
Date:   Thu Sep 8 14:40:27 2016 -0700

    zika case

commit 29f59fa7e74664b1866d7c91dbed723867aa6ed0
Author: Colin Megill <colinmegill@gmail.com>
Date:   Thu Sep 8 14:40:16 2016 -0700

    check if same url

commit c981d712b89119911f284e1f117b0ac1afb0646d
Author: Colin Megill <colinmegill@gmail.com>
Date:   Thu Sep 8 13:58:19 2016 -0700

    drawtree if data format error from merge

commit 96efeebaab11a6dfcb4b0ed4402b527914bb05d1
Merge: 333d02a7 64faeeb6
Author: Colin Megill <colinmegill@gmail.com>
Date:   Thu Sep 8 13:56:19 2016 -0700

    Merge branch 'master'
    
    Conflicts:
            package.json
            src/components/app.js
            src/components/tree/node.js
            src/components/tree/tree.js

commit 333d02a7cfbe090774f9b2d2c27970767e1f62f6
Author: Colin Megill <colinmegill@gmail.com>
Date:   Thu Sep 8 13:40:49 2016 -0700

    incomplete params are set automatically

commit 6595a3e1075d05d0f11e8f0056269c2653acaeb7
Author: Richard Neher <richard.neher@tuebingen.mpg.de>
Date:   Thu Sep 8 21:13:20 2016 +0200

    added path augmentation with default

commit 64faeeb69ee856da0c723eb6d7da989d8ee12819
Author: Trevor Bedford <trevor@bedford.io>
Date:   Thu Sep 8 11:59:06 2016 -0700

    Update gitignore with data/ directory.

commit 97d95b4b79884b0e4c9535716ed86f340de41330
Author: Richard Neher <richard.neher@tuebingen.mpg.de>
Date:   Thu Sep 8 20:54:32 2016 +0200

    render controls based on globals.dataset -- need to work on resetting path

commit a7d9a19d47bd7af5aad906493325c7863496a0e6
Author: Colin Megill <colinmegill@gmail.com>
Date:   Thu Sep 8 10:38:27 2016 -0700

    roughing out choose layout buttons

commit e77c2a0701357288f0d4e5a03a54280c83b8da1f
Author: Richard Neher <richard.neher@tuebingen.mpg.de>
Date:   Wed Sep 7 08:01:18 2016 +0200

    added config to state

commit 9fe698e5c84f7d3c13deb06a3cc3715e4475a71e
Author: Richard Neher <richard.neher@tuebingen.mpg.de>
Date:   Wed Sep 7 07:38:42 2016 +0200

    new structure for datasets json, objects only with explicit default

commit 1eae80c87a5f800a00d4e3fc4bd2ea4562159260
Author: Trevor Bedford <trevor@bedford.io>
Date:   Tue Sep 6 20:44:14 2016 -0700

    construct data path from config

commit be162eb082b4d11b9aa9f4778aa97f2803506fca
Author: Trevor Bedford <trevor@bedford.io>
Date:   Tue Sep 6 19:58:37 2016 -0700

    parse datasets json

commit 82d00e9391ccccb5099908791fe3a7e21640b1a4
Author: Richard Neher <richard.neher@tuebingen.mpg.de>
Date:   Wed Sep 7 00:58:15 2016 +0200

    added geometry preprocessing and moved LBI out of helpers

commit 9872f9e2f95b8a3d50701db410ae9f2eb2e6fd76
Author: Richard Neher <richard.neher@tuebingen.mpg.de>
Date:   Sat Sep 3 05:52:06 2016 +0200

    arcs! still need to figure out direction of arcs

commit 90873b0042e3ed48471e96f1f4fcfc9c5b384538
Author: Richard Neher <richard.neher@tuebingen.mpg.de>
Date:   Sat Sep 3 04:39:29 2016 +0200

    radial inplace, but missing arc

commit 79815723aa5f544f4f411ad99d9caeb4c6d9b77f
Author: Richard Neher <richard.neher@tuebingen.mpg.de>
Date:   Fri Sep 2 22:34:34 2016 +0200

    first shot at radial layout

commit 95b2088d2bc0c78d4bd9ea2a3fac4805c00ea028
Author: Richard Neher <richard.neher@tuebingen.mpg.de>
Date:   Fri Sep 2 06:14:33 2016 +0200

    added rudimentary entropy chart

commit c4d1e1329097b47cf6e0a1e1fa5035ea8bbf25bf
Author: Colin Megill <colinmegill@gmail.com>
Date:   Thu Sep 1 18:23:50 2016 -0700

    richard's work on colin's computer

commit 7d5364c09e1095e9ff1d1846915f95ebeffa99af
Author: Colin Megill <colinmegill@gmail.com>
Date:   Thu Sep 1 15:32:33 2016 -0700

    frequency data working

commit beab929f22995e549f9f10bc60b841b6a8624571
Author: Colin Megill <colinmegill@gmail.com>
Date:   Thu Sep 1 15:20:58 2016 -0700

    trying to get line to work with freq data

commit 78c06117a047d1f3a203307f548e5a0c65ddf062
Author: Trevor Bedford <trevor@bedford.io>
Date:   Thu Sep 1 14:41:14 2016 -0700

    Fix JSON formatting per #21.

commit e6c64d05497e0741d83d9811e57187d143a52e60
Author: Trevor Bedford <trevor@bedford.io>
Date:   Thu Sep 1 14:37:05 2016 -0700

    Include draft datasets.json

commit e1337a85cb9a29f1b138f23801df11849af22eb8
Author: Colin Megill <colinmegill@gmail.com>
Date:   Thu Sep 1 10:53:50 2016 -0700

    beginning to abstract tree render and relayout logic

commit 02374d630188d4596593b337810066bf87fbd398
Author: Colin Megill <colinmegill@gmail.com>
Date:   Thu Sep 1 10:53:35 2016 -0700

    json error fix

commit 91e20683c4c72111d2eb0365f59fde7fa81055f8
Author: Colin Megill <colinmegill@gmail.com>
Date:   Tue Aug 30 22:40:45 2016 -0700

    remove logging

commit 424e4db1dc2bb437bfa0c7b94385fc172921b2e6
Author: Colin Megill <colinmegill@gmail.com>
Date:   Tue Aug 30 22:40:30 2016 -0700

    add zoom functionality

commit 0c6a01014dc426c4105c03264535ea222c52f40a
Author: Trevor Bedford <trevor@bedford.io>
Date:   Fri Aug 26 23:01:53 2016 -0500

    Revert to CloudFront URL. Fixed CloudFront CORS issue.

commit 38392be6a0cc03b463c2aaf8a7464b66ebafdb02
Author: Trevor Bedford <trevor@bedford.io>
Date:   Fri Aug 26 22:56:36 2016 -0500

    Fix CORS by going directly to S3 rather than Cloudfront.

commit 46f22944e41564d10c60117505688bf1663c1727
Author: Trevor Bedford <trevor@bedford.io>
Date:   Fri Aug 26 22:42:14 2016 -0500

    Fix URL paths for meta.json, etc...

commit 5daf2962419ea5b1b7a5ea5c7f1a26f44a73ccf6
Author: Colin Megill <colinmegill@gmail.com>
Date:   Fri Aug 26 17:38:49 2016 -0700

    begin tree will only render if it has data, rerender if it has new data

commit 6384a0fc9bb71c33d0d3352b85d2e216b3a6766e
Author: Colin Megill <colinmegill@gmail.com>
Date:   Fri Aug 26 17:38:31 2016 -0700

    app doesn't need to know about data, prevents infinite loop

commit ccac81560661784c15df9285245f5e3b4da56340
Author: Colin Megill <colinmegill@gmail.com>
Date:   Fri Aug 26 17:24:40 2016 -0700

    console logs and disabled connect callback for testing

commit 75cf5722e5f49b28ff1b198b1c8a8498a9c34796
Author: Colin Megill <colinmegill@gmail.com>
Date:   Fri Aug 26 17:01:32 2016 -0700

    conditionally fetch data pass 1

commit 130f870dcea811ba3d92c344230c08681384ee13
Author: Colin Megill <colinmegill@gmail.com>
Date:   Fri Aug 26 17:01:18 2016 -0700

    add keys to options

commit 0ae4d48b84f00bd0888990247f88ebe39f945621
Author: Colin Megill <colinmegill@gmail.com>
Date:   Fri Aug 26 17:00:59 2016 -0700

    util to check query params

commit 1317707e6e4cb104546d4ed39da76683f7a854a9
Author: Colin Megill <colinmegill@gmail.com>
Date:   Fri Aug 26 16:59:16 2016 -0700

    update react and prune unused packages for better error messages

commit d60c30e9e596eecd602a2250050089f2f86aa06b
Author: Colin Megill <colinmegill@gmail.com>
Date:   Fri Aug 26 10:13:38 2016 -0700

    move old frequency code into new freq component

commit add1a9cc88319ddd461d17282dd53038f219a1c5
Merge: 3e7abb5b dca97959
Author: Colin Megill <colinmegill@gmail.com>
Date:   Thu Aug 25 23:58:17 2016 -0700

    Merge pull request #11 from blab/dates
    
    Date slider & inputs

commit dca97959db01db214bd28a4379260175408eef42
Author: Colin Megill <colinmegill@gmail.com>
Date:   Thu Aug 25 23:57:44 2016 -0700

    check whether or not node is in range

commit ff4e6a0aa1e43a8a1c80ccfa37e52aeee15476ee
Author: Colin Megill <colinmegill@gmail.com>
Date:   Thu Aug 25 23:57:22 2016 -0700

    create date range once and pass to all nodes

commit aa003b82b48e58ba521313f759d9620e26add659
Author: Colin Megill <colinmegill@gmail.com>
Date:   Thu Aug 25 23:54:55 2016 -0700

    pass query params to tree to construct range

commit 1c02c1a6a70b89425de1b61a9c71cd1d0ea91cb8
Author: Colin Megill <colinmegill@gmail.com>
Date:   Thu Aug 25 23:54:22 2016 -0700

    Delete cruft code from old implementation

commit fa1a1f7800787cb4469de833f98fea7b8ff19457
Author: Colin Megill <colinmegill@gmail.com>
Date:   Thu Aug 25 23:53:25 2016 -0700

    add moment-range

commit 7a120d2a3d70f9d5668ae2c1648a441ba4726768
Author: Colin Megill <colinmegill@gmail.com>
Date:   Fri Aug 19 00:11:34 2016 -0700

    logging out node dates shows undefined values

commit c659e382793c470e35590c146d6c9035b010ca3e
Author: Colin Megill <colinmegill@gmail.com>
Date:   Thu Aug 18 23:51:55 2016 -0700

    date slider and inputs update url, are set by url

commit a5e2eb9fa2ff3103e5de379db0965d0e4144979e
Author: Colin Megill <colinmegill@gmail.com>
Date:   Thu Aug 18 23:51:06 2016 -0700

    style datepicker inputs

commit c16998928fca1eaad44330e46025ce681ff4d31b
Author: Colin Megill <colinmegill@gmail.com>
Date:   Thu Aug 18 01:17:56 2016 -0700

    selected max date and min date in url params

commit 1f3ef59acb3011f079941d5dfd730bfe92a4c49b
Author: Colin Megill <colinmegill@gmail.com>
Date:   Thu Aug 18 00:46:03 2016 -0700

    add date range input and instantiate

commit bd3d20b2d11b9cc3f648a441725ec240ec8f8f5f
Author: Colin Megill <colinmegill@gmail.com>
Date:   Thu Aug 18 00:45:32 2016 -0700

    slider

commit 14ce84b10a7bc9845fcb99eda52a75044b81a95d
Author: Colin Megill <colinmegill@gmail.com>
Date:   Thu Aug 18 00:45:21 2016 -0700

    date-picker react package

commit 08b27536ea82a66ae7098c5e0c4f1771599938d4
Author: Colin Megill <colinmegill@gmail.com>
Date:   Tue Aug 16 23:30:57 2016 -0700

    create choose virus components

commit 2c5462b6f8a7a05d1e6b797c5a4426130c40a1f7
Author: Colin Megill <colinmegill@gmail.com>
Date:   Tue Aug 16 23:30:47 2016 -0700

    Add choose virus component to app

commit cbb52ce47e65a175e87cda26922945181448f801
Author: Colin Megill <colinmegill@gmail.com>
Date:   Tue Aug 16 23:30:03 2016 -0700

    add all viruses list to globals

commit 24cbbce7d520ec7f5a9ee4a02689f81ff7ea927a
Author: Colin Megill <colinmegill@gmail.com>
Date:   Tue Aug 16 23:29:42 2016 -0700

    update react router

commit 51b9e10eb1d98683c4c388d256609da1104e6507
Author: Colin Megill <colinmegill@gmail.com>
Date:   Thu Aug 11 19:13:25 2016 -0700

    query params in url to actions

commit fd37b894265608ca1c2922e8835f495df9df8d26
Author: Colin Megill <colinmegill@gmail.com>
Date:   Thu Aug 11 15:55:44 2016 -0700

    semicolon

commit 0939ecd5d9f0f1c17055ace893487f3aeab77c29
Author: Colin Megill <colinmegill@gmail.com>
Date:   Thu Aug 11 15:24:31 2016 -0700

    tmp - revert me - no sequences or frequencies for faster loading

commit c9feb5ff2312ec6a4f66b4ceda021832a41ffc86
Author: Colin Megill <colinmegill@gmail.com>
Date:   Thu Aug 11 15:19:20 2016 -0700

    node gets smarter,but renders every node every time to avoid stale hover

commit c2dce62d59b06df741a244cfb09c7bf28ff2142e
Author: Colin Megill <colinmegill@gmail.com>
Date:   Thu Aug 11 15:14:33 2016 -0700

    node instantiation in tree gets simpler

commit a27dd1403ab22ee557c864918e45f97d39fcd10e
Author: Colin Megill <colinmegill@gmail.com>
Date:   Thu Aug 11 15:11:06 2016 -0700

    remove log statement in reducer

commit 11b83582bfd8e074ebb8095daff8c972d42cffd8
Author: Colin Megill <colinmegill@gmail.com>
Date:   Wed Aug 10 15:56:31 2016 -0700

    tmp production build on dev for perf test - revert me

commit d35cf475e1492d171bfced0456a55ef337825313
Author: Colin Megill <colinmegill@gmail.com>
Date:   Fri Aug 5 23:17:01 2016 -0700

    perf round 1

commit fad6fd0754ffe01ce4ed76bb71333f3396cfd042
Author: Colin Megill <colinmegill@gmail.com>
Date:   Fri Aug 5 23:15:40 2016 -0700

    branch never updates

commit 40ac9e77d85af8b982149870ec846adb5a69f4f2
Merge: 2db78cd0 3e7abb5b
Author: Colin Megill <colinmegill@gmail.com>
Date:   Thu Aug 4 22:46:01 2016 -0700

    Merge branch 'master'
    
    Conflicts:
            dev-server.js

commit 3e7abb5bc03ce5acb911c0a7b447483ee0d8863c
Author: Colin Megill <colinmegill@gmail.com>
Date:   Thu Aug 4 22:43:55 2016 -0700

    search takes array, not obj

commit 431aaa29b051d1475834ac30f63bd40d48a7839c
Author: Colin Megill <colinmegill@gmail.com>
Date:   Thu Aug 4 19:13:40 2016 -0700

    fixes gzip compression error

commit 5cfef075125d7808eb3bfd227c5cb6bebef34abf
Author: Colin Megill <colinmegill@gmail.com>
Date:   Thu Aug 4 16:18:46 2016 -0700

    begin date slider conversion

commit efe09728abf7d6c42688ab9a016259f5fb5d6e48
Author: Colin Megill <colinmegill@gmail.com>
Date:   Thu Aug 4 02:24:06 2016 -0700

    ignore local bigflu files

commit 2db78cd09e48b8f312a84e20dd44404eafe8e8ae
Merge: a74947b4 584fd7a3
Author: Richard <richard.neher@tuebingen.mpg.de>
Date:   Thu Aug 4 10:22:40 2016 +0200

    Merge branch 'master' of github.com:blab/nextstrain-auspice into big_flu

commit 584fd7a3d65e8202c3409a9253e4e28b851d1a38
Author: Colin Megill <colinmegill@gmail.com>
Date:   Thu Jul 28 16:17:17 2016 -0700

    autocomplete working

commit d57c81f5b13ee3e2344b3eac37393aa1e675b844
Author: Colin Megill <colinmegill@gmail.com>
Date:   Thu Jul 28 16:16:58 2016 -0700

    hover logic on branch

commit 892c5cb7d4416c2f1e382e9a6115b0a6f0a311de
Author: Colin Megill <colinmegill@gmail.com>
Date:   Thu Jul 28 16:16:44 2016 -0700

    hover logic on node

commit 4ead5e6a760012056f3d36c1a5f8c5c48cdcaec3
Author: Colin Megill <colinmegill@gmail.com>
Date:   Thu Jul 28 16:16:28 2016 -0700

    remove old code from legend component

commit e1312e782f24ef3b9f388b63caf54f8ec3a20749
Author: Colin Megill <colinmegill@gmail.com>
Date:   Thu Jul 28 16:16:04 2016 -0700

    kill placeholder branch label component, add tooltip to tree svg for now

commit 1ed06002ccf907fc132948b014a236b6ba54bb2a
Author: Colin Megill <colinmegill@gmail.com>
Date:   Thu Jul 28 16:14:53 2016 -0700

    create actions, and reducer logic for tooltip movement

commit e1f0ad5cdfe4300f529b12495f490855ed1e148f
Author: Colin Megill <colinmegill@gmail.com>
Date:   Thu Jul 28 16:13:16 2016 -0700

    move static width and height into globals

commit 2f953f5bac9bbfd7290ec1d4e10307c8e275ccc6
Author: Colin Megill <colinmegill@gmail.com>
Date:   Thu Jul 28 16:12:56 2016 -0700

    move old tooltip logic into comment in newly created tooltip component

commit 2e6ca63b7ed55b5dbd15acd40a76eea57fafcbb6
Author: Colin Megill <colinmegill@gmail.com>
Date:   Thu Jul 28 16:11:58 2016 -0700

    remove old autocomplete logic

commit 26ada89933223c32d93dfdd94d5f02559989eedd
Author: Colin Megill <colinmegill@gmail.com>
Date:   Thu Jul 28 16:07:57 2016 -0700

    remove root node reference in getTips

commit 40fa5b0b9379d9405f8b8277a6a339c9380c6d55
Author: Colin Megill <colinmegill@gmail.com>
Date:   Thu Jul 28 16:07:05 2016 -0700

    add autosuggest component dep

commit a74947b400054a79d76cc68837a29fc295a996f8
Author: Richard <richard.neher@tuebingen.mpg.de>
Date:   Wed Jul 27 09:54:52 2016 +0200

    changed path to jsons to big sample of influenza sequences

commit 98787d234288f82db85ab13c5e18632ad709da21
Author: Richard <richard.neher@tuebingen.mpg.de>
Date:   Mon Jul 18 11:36:29 2016 +0200

    require exact version of redbox-react

commit 1ccc70575fcda19ddcf0487a49ab725c91ce04ba
Author: Colin Megill <colinmegill@gmail.com>
Date:   Fri Jul 15 18:54:18 2016 -0700

    use variables as types when dispatching from components

commit 29ac4392d30ac15f899fefc0691672ec7fce2972
Author: Colin Megill <colinmegill@gmail.com>
Date:   Fri Jul 15 18:32:18 2016 -0700

    scale functions removed from tree (to globals)

commit 5b6ded4752099c53f82a88ebbbe0340dda8d7af2
Author: Colin Megill <colinmegill@gmail.com>
Date:   Fri Jul 15 18:31:57 2016 -0700

    functions re: node sizing moved into node component

commit 00332408228b622661348320503e4624596a5403
Author: Colin Megill <colinmegill@gmail.com>
Date:   Fri Jul 15 18:31:28 2016 -0700

    controls reducer gets legend properties

commit 9ad6e7f9fb29c80c354be22de758559f236bd702
Author: Colin Megill <colinmegill@gmail.com>
Date:   Fri Jul 15 18:30:37 2016 -0700

    legend item fires actions on mouseenter and mouseleave

commit f2ff31a5c07cdbe7a599608b9536d849a33a8d5d
Author: Colin Megill <colinmegill@gmail.com>
Date:   Fri Jul 15 18:16:44 2016 -0700

    listen for legend actions in controls reducer

commit 958372b707cc90721497644688b4eec0e3a61405
Author: Colin Megill <colinmegill@gmail.com>
Date:   Fri Jul 15 18:16:15 2016 -0700

    pull bounds logic out of legend, cleanup legend code

commit 9210811cebe34e55d79ebac76cdfca1310218850
Author: Colin Megill <colinmegill@gmail.com>
Date:   Fri Jul 15 18:15:30 2016 -0700

    add colorby dropdown component to controls

commit 139477a718dd483b3e059a2f6c26e2a5c8e2de1d
Author: Colin Megill <colinmegill@gmail.com>
Date:   Fri Jul 15 17:47:31 2016 -0700

    pass control state to node, node getting smarter

commit d90684d00458fac5d3a708f29cba010fc90cc102
Author: Colin Megill <colinmegill@gmail.com>
Date:   Fri Jul 15 17:44:37 2016 -0700

    add constant scales to globals

commit 666ed222f21f412500582db6691e2d4c9866a69f
Author: Colin Megill <colinmegill@gmail.com>
Date:   Fri Jul 15 17:42:53 2016 -0700

    add tip radius sizes and multipliers to globals

commit 66a050225b07d50589486c2cf67383d00b84af9d
Author: Colin Megill <colinmegill@gmail.com>
Date:   Fri Jul 15 17:42:35 2016 -0700

    add constant large and small numbers to globals

commit 96afd966c2fb74c31cbccdaa8245ceb52702bcdf
Author: Colin Megill <colinmegill@gmail.com>
Date:   Fri Jul 15 17:41:30 2016 -0700

    legend upper bound lower bound logic becomes util function

commit b2587cbc50311941ab482ddcbe872f1e7cce1721
Author: Colin Megill <colinmegill@gmail.com>
Date:   Fri Jul 15 17:40:58 2016 -0700

    styles on branch label control

commit f13c569c444487398d9cb1719a9ada57743b74c7
Author: Colin Megill <colinmegill@gmail.com>
Date:   Fri Jul 15 17:40:37 2016 -0700

    make color by (region etc) dropdown its own component

commit 768080152f570813771c94a00e2ac6ee871d2b37
Author: Colin Megill <colinmegill@gmail.com>
Date:   Fri Jul 15 17:40:09 2016 -0700

    app margin, bring controls towards top

commit be467e7fdc5e2596e5dea0d8f8db0ad606736160
Author: Colin Megill <colinmegill@gmail.com>
Date:   Fri Jul 15 17:39:23 2016 -0700

    make eslint quiet down about object shorthand

commit 398d69f058f8bffb67181160e842b4e0488cae7c
Merge: 000f2ad0 dc717784
Author: Colin Megill <colinmegill@gmail.com>
Date:   Thu Jul 14 16:27:24 2016 -0700

    Merge pull request #3 from blab/title_case
    
    Include titleCase npm module to format legend labels

commit dc717784d14945e7ba47d706241dc59084cf4c42
Author: Trevor Bedford <trevor@bedford.io>
Date:   Thu Jul 14 16:24:13 2016 -0700

    Include titleCase npm module to format legend labels.

commit 000f2ad089925763382084fc0387f0ddd14306c5
Author: Colin Megill <colinmegill@gmail.com>
Date:   Thu Jul 14 15:58:30 2016 -0700

    pass props through controls to legend

commit 7684a4b27ff7b3a066dd09bd0446537e2d26fd03
Author: Colin Megill <colinmegill@gmail.com>
Date:   Thu Jul 14 15:58:15 2016 -0700

    create legend item, text and rect

commit f81631bcca632874c6dbc356de535e67f1ae34c2
Author: Colin Megill <colinmegill@gmail.com>
Date:   Thu Jul 14 15:57:42 2016 -0700

    rename legend, props to legend item, create functions

commit 0afd3dffcdd326247433b04c80c021ac6c4145ea
Author: Colin Megill <colinmegill@gmail.com>
Date:   Thu Jul 14 15:56:39 2016 -0700

    rename tree to branches

commit 83118033a10125bf785eef947efe6ff3f407867b
Author: Colin Megill <colinmegill@gmail.com>
Date:   Thu Jul 14 15:56:23 2016 -0700

    add legend consts to globals

commit 6236db732543660510485cb81054323e1a795dca
Author: Colin Megill <colinmegill@gmail.com>
Date:   Sat Jul 9 19:15:05 2016 -0700

    clean up tree component state init

commit ed8946d57ae3c79126901e993dd58487e9bb5261
Author: Colin Megill <colinmegill@gmail.com>
Date:   Sat Jul 9 19:14:37 2016 -0700

    pass hex value to node via scale and accessor

commit bb4cb2ce4fb2d255b64cb4d97c49233204fa7242
Author: Colin Megill <colinmegill@gmail.com>
Date:   Sat Jul 9 19:13:58 2016 -0700

    add controls proptypes to tree component

commit f96fbf77f7510280e8fd78cc389f27685903e6e4
Author: Colin Megill <colinmegill@gmail.com>
Date:   Sat Jul 9 19:13:22 2016 -0700

    globalStyles rename effects

commit aa09f57632fb23b3bd453a35984570e6bc12e76f
Author: Colin Megill <colinmegill@gmail.com>
Date:   Sat Jul 9 19:13:05 2016 -0700

    node gets 0 size if not a tip

commit dc3e32316faeda152a0e74e02644d3879146ecd9
Author: Colin Megill <colinmegill@gmail.com>
Date:   Sat Jul 9 19:12:43 2016 -0700

    controls reducer gets defaults for colorby and scales

commit 27b27a848e6958494bd95a3b4caac67cd1c7e17b
Author: Colin Megill <colinmegill@gmail.com>
Date:   Sat Jul 9 19:12:04 2016 -0700

    pulling code out of the colors file into modules

commit 6b824351d70a29f9ba8f789b42d0f2b469575885
Author: Colin Megill <colinmegill@gmail.com>
Date:   Sat Jul 9 19:11:41 2016 -0700

    colorScales get their own file, cleaner

commit 5ead5e781613b66a70def85f730805adf447c310
Author: Colin Megill <colinmegill@gmail.com>
Date:   Sat Jul 9 19:09:57 2016 -0700

    getColorScale becomes a function with its own file

commit 75051e7b981924c0a626ef0c9a23fc053b9630ff
Author: Colin Megill <colinmegill@gmail.com>
Date:   Sat Jul 9 19:09:41 2016 -0700

    globals gets color ranges and domains as they are constants

commit 3ca7f8e85b6ba980d0810cca924007eb97364e8a
Author: Colin Megill <colinmegill@gmail.com>
Date:   Sat Jul 9 19:09:21 2016 -0700

    move domains into globals

commit 7b7cfae454622818402a0c95021c9f93da47df05
Author: Colin Megill <colinmegill@gmail.com>
Date:   Sat Jul 9 19:08:54 2016 -0700

    rename globals to globalStyles to avoid confusion

commit 97e6db375b2abff47074fa474454651ff273fd9f
Author: Colin Megill <colinmegill@gmail.com>
Date:   Fri Jul 8 00:27:36 2016 -0700

    branch labels toggles behavior & folder structure

commit 91340f6c06eb512d832aab4dc5c5dd0ad7f4f069
Author: Colin Megill <colinmegill@gmail.com>
Date:   Fri Jul 8 00:26:04 2016 -0700

    add controls reducer and actions file

commit 8781460ee3843034b4d68537bf2e04317888c830
Author: Colin Megill <colinmegill@gmail.com>
Date:   Fri Jul 1 02:41:17 2016 -0700

    move scales into tree

commit b055326c194accd46225c85b572c038550d321b3
Author: Colin Megill <colinmegill@gmail.com>
Date:   Fri Jul 1 02:40:56 2016 -0700

    (tbd) begin named functions & map & returns in processNodes

commit 296fd320ac4c44de7c68bbaf7672bd33235e2725
Author: Colin Megill <colinmegill@gmail.com>
Date:   Fri Jul 1 02:40:15 2016 -0700

    reverse x and y in nodes

commit 47ab454c9a601eb3944273bdd02dccecf021d929
Author: Colin Megill <colinmegill@gmail.com>
Date:   Fri Jul 1 02:39:56 2016 -0700

    add scales to link xvalues

commit 367756b8aed88288f9bec5834abde002770abb7f
Author: Colin Megill <colinmegill@gmail.com>
Date:   Fri Jul 1 02:39:21 2016 -0700

    remove placeholder control components

commit 3b065caa64a0952a356c48a7b9ead6855459c737
Author: Colin Megill <colinmegill@gmail.com>
Date:   Fri Jul 1 02:39:03 2016 -0700

    update lodash

commit 78545d6175a421211f5a675d057be84d22adcc90
Author: Colin Megill <colinmegill@gmail.com>
Date:   Fri Jul 1 02:38:54 2016 -0700

    tmp comment out foreach adding frequency

commit b4c3351144c56fb7477d54dc29e78b1a21cff0df
Author: Colin Megill <colinmegill@gmail.com>
Date:   Sun Jun 26 03:10:38 2016 -0700

    modularize tree d3 code into a util file to be converted to react

commit c6c9ec8d8e96f4ac96435a346c90861e049fda7c
Author: Colin Megill <colinmegill@gmail.com>
Date:   Sun Jun 26 03:04:36 2016 -0700

    modularize HI into a util file

commit b972077913a06e81a742181029057931af75a683
Author: Colin Megill <colinmegill@gmail.com>
Date:   Sun Jun 26 03:04:25 2016 -0700

    modularize colors into a util file

commit 5c359cf66757bcac2ea117b3e319420d46a4f2a7
Author: Colin Megill <colinmegill@gmail.com>
Date:   Sun Jun 26 03:04:01 2016 -0700

    remove placeholder controls component

commit 79850639f5de8caae4ff57c8dfefaf57efa43c87
Author: Colin Megill <colinmegill@gmail.com>
Date:   Sun Jun 26 03:03:22 2016 -0700

    tree_init fn becomes an entrypoint file called processNodes

commit ba7aab9e6ea981d0f44b750563929213c4fa9fdf
Author: Colin Megill <colinmegill@gmail.com>
Date:   Sun Jun 26 03:02:41 2016 -0700

    create component for branch labels (to be built)

commit cd6e9039b83f302210022416638d0ff6ed449ce7
Author: Colin Megill <colinmegill@gmail.com>
Date:   Sun Jun 26 03:02:22 2016 -0700

    updates to tree link

commit b892a30d667d7a8eeea867968683e67ace4f4aa2
Author: Colin Megill <colinmegill@gmail.com>
Date:   Sun Jun 26 03:02:12 2016 -0700

    create tree link component

commit 3690897301b3af0f3f8d82f19e994f333b728107
Author: Colin Megill <colinmegill@gmail.com>
Date:   Sun Jun 26 03:01:55 2016 -0700

    updates to tree node

commit 9bdf5f4051bc6038daec25dc59f756ff6e357ba5
Author: Colin Megill <colinmegill@gmail.com>
Date:   Sun Jun 26 03:01:43 2016 -0700

    create tree node component

commit c88b3c8b0cef92f32998c2c755c2be6f1ffec263
Author: Colin Megill <colinmegill@gmail.com>
Date:   Sun Jun 26 03:01:23 2016 -0700

    tree helper functions exported from central file

commit 8dda574eab521cd1da5c328073f85af670bbb577
Author: Colin Megill <colinmegill@gmail.com>
Date:   Sun Jun 26 03:00:33 2016 -0700

    duplicate 'all code' viz file, begin extracting pieces out into util

commit 7c83a0579191530a2fbe1209539aabf5ff534e49
Author: Colin Megill <colinmegill@gmail.com>
Date:   Sun Jun 26 02:59:46 2016 -0700

    create tree legend component (to be built)

commit 1ea34cefd4cdf6cd9396d3162751bd30433d14fa
Author: Colin Megill <colinmegill@gmail.com>
Date:   Sun Jun 26 02:59:25 2016 -0700

    create date slider component (to be built)

commit 7a9cd49883e36e8bcb97d542be6241f42ec41a7a
Author: Colin Megill <colinmegill@gmail.com>
Date:   Sun Jun 26 02:57:25 2016 -0700

    main tree component now instantiates layout, links and nodes

commit 90a92c49668e9428ec4abb1e857e09912aa07ddb
Author: Colin Megill <colinmegill@gmail.com>
Date:   Sun Jun 26 02:56:22 2016 -0700

    choose colorMaps becomes a function that takes virus

commit c48dfd783116a30a092e8390f23e29086a872406
Author: Colin Megill <colinmegill@gmail.com>
Date:   Sun Jun 26 02:56:03 2016 -0700

    globals exported from central file (if they are state --> reducer)

commit 6887bea295300c9a9f8c4ef927456bd24a3092cb
Author: Colin Megill <colinmegill@gmail.com>
Date:   Fri Jun 24 18:21:17 2016 -0700

    doublequotes on template

commit 9948293d3b15b9ac64b03145a6cfa636622d8be3
Author: Colin Megill <colinmegill@gmail.com>
Date:   Fri Jun 24 18:20:38 2016 -0700

    fixed tree height temporarily

commit ea30652760f183e979e96d3050e1cad436d62d8b
Author: Colin Megill <colinmegill@gmail.com>
Date:   Fri Jun 24 18:20:12 2016 -0700

    create react tree node and link components

commit 4e24d68cba17bc1fb7a1f6229aaf361c832516e3
Author: Colin Megill <colinmegill@gmail.com>
Date:   Fri Jun 24 18:19:59 2016 -0700

    add react nodes and links to tree, move layout in to tree.jsx

commit de3f398025913ee5fe0028d86a3e5b846b793efc
Author: Colin Megill <colinmegill@gmail.com>
Date:   Thu Jun 16 21:54:44 2016 -0700

    es6 conversion / cleanup of visualization file part 2

commit 55f4842c8f4218f6a6a60b472bc7724a16330241
Author: Colin Megill <colinmegill@gmail.com>
Date:   Thu Jun 16 18:47:16 2016 -0700

    allow string concat and camel case as they are existing conventions

commit edf9b23e0b048ff9ff5950be671349b7a37e0586
Author: Colin Megill <colinmegill@gmail.com>
Date:   Wed Jun 15 14:08:44 2016 -0700

    es6 conversion / cleanup of visualization file part 1

commit 4c80071aa4dd3a48fc0a5bf60e6a116d538aad52
Author: Colin Megill <colinmegill@gmail.com>
Date:   Wed Jun 1 01:21:45 2016 -0700

    tmp comment out freq/c3 instantiations

commit 50ac8d968c7b668aabdf24143767baf51f3e56fb
Author: Colin Megill <colinmegill@gmail.com>
Date:   Wed Jun 1 01:20:54 2016 -0700

    define width and height up top

commit 2153bb631d66fb2579df9d9c492a83b63a52d1da
Author: Colin Megill <colinmegill@gmail.com>
Date:   Wed Jun 1 01:20:16 2016 -0700

    add global date_select var

commit ece6d31c0e81099e1bf8e169dab65645ba4f1c7c
Author: Colin Megill <colinmegill@gmail.com>
Date:   Wed Jun 1 01:19:41 2016 -0700

    add missing mock div ids for d3 to find

commit 2e7e8add6d325400255046a76544f7ee227ff49f
Author: Colin Megill <colinmegill@gmail.com>
Date:   Wed Jun 1 01:19:07 2016 -0700

    add c3 dep

commit a0a3b3f7d644a38b971457ed1b9014363a9bdd2a
Author: Colin Megill <colinmegill@gmail.com>
Date:   Wed Jun 1 00:27:43 2016 -0700

    add autocomplete function to index

commit d6eba066af61fabac10fb51460ff05a718dd566a
Author: Colin Megill <colinmegill@gmail.com>
Date:   Wed Jun 1 00:27:19 2016 -0700

    tmp comment tooltip invocations and definitions

commit 98a89fb4f062216acdab558fd0710d0486c545b4
Author: Colin Megill <colinmegill@gmail.com>
Date:   Wed Jun 1 00:26:58 2016 -0700

    remove clades and rt from window, add var

commit 71b17a0f3dc9081964616b74e23eda9c2b47d722
Author: Colin Megill <colinmegill@gmail.com>
Date:   Wed Jun 1 00:26:12 2016 -0700

    TIL serums --> sera

commit 7b23b91e182a2607b570851229500088bf1a0e84
Author: Colin Megill <colinmegill@gmail.com>
Date:   Tue May 31 23:50:15 2016 -0700

    swapping position of color and legend

commit f82fab2dd6c5176b955b7c4327ecc4df0a76dcca
Author: Colin Megill <colinmegill@gmail.com>
Date:   Tue May 31 23:48:24 2016 -0700

    colorBy region for now for zika

commit 99704b69e1e6d8cb7876984a3b217b04a16eb383
Author: Colin Megill <colinmegill@gmail.com>
Date:   Tue May 31 23:46:33 2016 -0700

    tmp zika vaccineChoice and vaccineStrain from /auspice/zika/index.html

commit 26d9127ebef0d47b656462728ee11291fa2e2f8b
Author: Colin Megill <colinmegill@gmail.com>
Date:   Tue May 31 23:44:35 2016 -0700

    d3.json out, args to enclosing function. ajax now in actions

commit 8bba45b017beb69ca426739bd07595890e91a925
Author: Colin Megill <colinmegill@gmail.com>
Date:   Tue May 31 23:40:12 2016 -0700

    json, not strings

commit 748f3439899e9c770a90304823c31e8b3cbe4593
Author: Colin Megill <colinmegill@gmail.com>
Date:   Tue May 31 23:39:58 2016 -0700

    single return statement

commit 75303b65da0b1548787c11339184b0e2499eb50e
Author: Colin Megill <colinmegill@gmail.com>
Date:   Tue May 31 23:39:28 2016 -0700

    mock select dropdown for tmp colorBy

commit 62d368733712f22719358a804d08b11ce7993723
Author: Colin Megill <colinmegill@gmail.com>
Date:   Tue May 31 23:38:43 2016 -0700

    add frequencies and vaccine strains to visualization invocation

commit 0a77d33c0dd947b6cc96d0114a3083eb4e75ae05
Author: Colin Megill <colinmegill@gmail.com>
Date:   Fri May 27 12:28:40 2016 -0700

    ensure data loaded, then render tree and pass to visualization func

commit b06ec512ad88cace4921b856e84982699ca3bbf4
Author: Colin Megill <colinmegill@gmail.com>
Date:   Fri May 27 12:28:11 2016 -0700

    add tip and d3 deps to index as tip needs d3 to execute

commit 1417d5d6e35e8b4533909bcbbdb4004c3471cd4f
Author: Trevor Bedford <trvrb@trevorbedford.com>
Date:   Mon May 30 16:34:12 2016 -0700

    Update readme.

commit b904b6b8c4e7b168acb7dd6960daed89b167e585
Author: Colin Megill <colinmegill@gmail.com>
Date:   Fri May 27 01:27:27 2016 -0700

    d3 wasn't finding className treeplot-container, add

commit 3d078f3ae954c5f590fc7ed84c5374518c2548f7
Author: Colin Megill <colinmegill@gmail.com>
Date:   Fri May 27 00:57:28 2016 -0700

    beginning debugging... starting with deps!

commit f593f0382933d42a6aaea99bc73f8d6af30c22ac
Author: Colin Megill <colinmegill@gmail.com>
Date:   Fri May 27 00:57:17 2016 -0700

    fire visualization on didMount in tree

commit 1e3288912e42f3ce4d5288fd92a08ac8f95704b5
Author: Colin Megill <colinmegill@gmail.com>
Date:   Fri May 27 00:56:44 2016 -0700

    moving viz files into src

commit fca8269a23eac55d1508c0d86a7e2a895b1baa69
Author: Colin Megill <colinmegill@gmail.com>
Date:   Thu May 26 23:42:40 2016 -0700

    commenting out HI for now since includes async

commit 7dd8141738485e016488613cc97362b5a520ab7c
Author: Colin Megill <colinmegill@gmail.com>
Date:   Thu May 26 23:41:53 2016 -0700

    frequencies async logic

commit 515e2b7e1bf1b139e8e3fe7574575ebbbbc552a3
Author: Colin Megill <colinmegill@gmail.com>
Date:   Thu May 26 21:10:23 2016 -0700

    devtools

commit b1854d2427f40d5482aa5bd7f194f6f58a4ab49a
Author: Colin Megill <colinmegill@gmail.com>
Date:   Thu May 26 12:28:55 2016 -0700

    single file for visualization

commit b1c614e46f48f0597e6f3897c461198ee4b46bba
Author: Colin Megill <colinmegill@gmail.com>
Date:   Mon May 23 23:27:21 2016 -0700

    clearer name

commit eb2ecb75031474e8f8a497cb7a73d775d87a48f2
Author: Colin Megill <colinmegill@gmail.com>
Date:   Thu May 19 00:34:14 2016 -0700

    fire actions to populate data on load, data now in system

commit 8e7cdf2a273854f2e4de06f4854da85f60eef17e
Author: Colin Megill <colinmegill@gmail.com>
Date:   Thu May 19 00:33:49 2016 -0700

    actions & populate store functions

commit 562f84c81d21a360a8d447b91a9c1688c12fd0c1
Author: Colin Megill <colinmegill@gmail.com>
Date:   Thu May 19 00:32:55 2016 -0700

    merge reducers

commit 631f5681112ac95f726856abf33ba4e282160a55
Author: Colin Megill <colinmegill@gmail.com>
Date:   Thu May 19 00:32:43 2016 -0700

    create reducers for metadata, sequences and tree

commit c1a4f237a4e3835606e2281e6adedf3eff9299c8
Author: Colin Megill <colinmegill@gmail.com>
Date:   Wed May 18 22:17:24 2016 -0700

    refinements to action template

commit ec4650b1df54ef75850e291bf5bc29ed9da5daf5
Author: Colin Megill <colinmegill@gmail.com>
Date:   Wed May 18 22:17:01 2016 -0700

    remove dev tools in favor of chrome extension for redux

commit c2e9e9f9e16053509d81619ddc720f66e2260848
Author: Colin Megill <colinmegill@gmail.com>
Date:   Wed May 18 22:16:42 2016 -0700

    proxy requests through dev server to avoid cors for now

commit f106a68cd47033e2da91f724f98137f346e28d29
Author: Colin Megill <colinmegill@gmail.com>
Date:   Wed May 18 01:52:07 2016 -0700

    instructions for starting app

commit 1c2c1003ce685df185bbd1a29d6d1ef02a7c9a30
Author: Colin Megill <colinmegill@gmail.com>
Date:   Wed May 18 01:50:33 2016 -0700

    footer props and styles

commit 7f30df92cb2dfe7fc2659bf0b3768ac4f86a3ab2
Author: Colin Megill <colinmegill@gmail.com>
Date:   Wed May 18 01:50:03 2016 -0700

    flex styles for logos

commit 7f8e929b27921c6317afc231de00420abee9b943
Author: Colin Megill <colinmegill@gmail.com>
Date:   Wed May 18 01:49:47 2016 -0700

    add scoped global styles variables

commit d11cafc7838de04916542ec6c5cdb1876f378e76
Author: Colin Megill <colinmegill@gmail.com>
Date:   Wed May 18 01:49:37 2016 -0700

    button color from global

commit 24beb1a62f9014014d65682c2f592e0887a5074c
Author: Colin Megill <colinmegill@gmail.com>
Date:   Wed May 18 01:19:13 2016 -0700

    logo container margin

commit f656d3bf8b0b235532051bfc3cce62434af5c37a
Author: Colin Megill <colinmegill@gmail.com>
Date:   Wed May 18 01:15:59 2016 -0700

    moving images over from old repo

commit 0a885fd80386a23fa8eccd158c74702a53c3f368
Author: Colin Megill <colinmegill@gmail.com>
Date:   Wed May 18 01:15:42 2016 -0700

    controls

commit abfad7fa97b47c009b71fedc79fe2caaf0028b79
Author: Colin Megill <colinmegill@gmail.com>
Date:   Wed May 18 01:15:03 2016 -0700

    logos component for footer

commit 762c33baedf002c456d56ffb266c4108f79c152d
Author: Colin Megill <colinmegill@gmail.com>
Date:   Wed May 18 01:14:41 2016 -0700

    Stub out app layout

commit 4b1012d2207aa87b06bc2104a513ec512084dd20
Author: Colin Megill <colinmegill@gmail.com>
Date:   Tue May 17 23:44:05 2016 -0700

    setup boilerplate react app

commit 6b9204f7bdcb49d963f9721930e0fc81e196ca02
Author: Colin Megill <colinmegill@gmail.com>
Date:   Tue May 17 23:43:47 2016 -0700

    index

commit c076476e784343f5d5214940a08ed63cc8b19fab
Author: Colin Megill <colinmegill@gmail.com>
Date:   Tue May 17 23:43:32 2016 -0700

    copy & paste action/reducer/components

commit 5b9df01de82c10533e54a9c3b70490978aefc9da
Author: Colin Megill <colinmegill@gmail.com>
Date:   Tue May 17 23:43:14 2016 -0700

    babel

commit 6740fc30b3e1e3f742c8269a80543a43def966a0
Author: Colin Megill <colinmegill@gmail.com>
Date:   Tue May 17 23:43:08 2016 -0700

    ignores

commit 7ec9908f0e3a28a4de46149b2fbc54f27ac7ba17
Author: Colin Megill <colinmegill@gmail.com>
Date:   Tue May 17 23:42:50 2016 -0700

    deps & build

commit 0b696c08a165d63252d9decb34e5f1f6702a190c
Author: Colin Megill <colinmegill@gmail.com>
Date:   Tue May 17 23:42:19 2016 -0700

    lint & editor config

commit 3597a6f91d872a7de894b272c704347b1a0753e0
Author: Trevor Bedford <trvrb@trevorbedford.com>
Date:   Fri Apr 22 13:23:16 2016 -0700

    Update readme.

commit ed895bf75e0164670d6d886b6d5a985ed19a911e
Author: Trevor Bedford <trvrb@trevorbedford.com>
Date:   Fri Apr 22 12:57:58 2016 -0700

    Initial commit with license and readme.
